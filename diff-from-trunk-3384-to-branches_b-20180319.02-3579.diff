Index: branches/b-20180319.02/auxcall/gen.php
===================================================================
--- trunk/auxcall/gen.php	(revision 3384)
+++ branches/b-20180319.02/auxcall/gen.php	(revision 3579)
@@ -68,6 +68,9 @@
 $ahac = (isset($_GET['ahac']) ? $_GET['ahac'] : (isset($_POST['ahac']) ? $_POST['ahac'] : NULL));
 if (isset($ahac)) {
+    
     switch ($ahac) {
+        
         case "suc":
+            
             $nsuc = (isset($_POST['nsuc']) ? $_POST['nsuc'] : ''); //id sucursal
             $np = (isset($_POST['np']) ? $_POST['np'] : ''); //id pais
@@ -83,6 +86,8 @@
             exit;
             break;
+            
         //resetear una credencial de acceso
         case "reca":
+            
             if(isset($_GET["id_acceso"]) && $_GET["id_acceso"] != ""){
                 $id_acceso = desencriptar("", $_GET["id_acceso"]);
@@ -98,6 +103,8 @@
             }
             break;
+            
         //eliminar una credencial de acceso
         case "elca":
+            
             if(isset($_GET["id_acceso"]) && $_GET["id_acceso"] != ""){
                 $id_acceso = desencriptar("", $_GET["id_acceso"]);
@@ -116,7 +123,10 @@
         /* suscripcion al boletin */
         case "suscriptores":
+            
             echo guardarSuscripcion($_GET['email']);
             break;
+        
         case "pais_estados":
+            
             $string_estados = obtenerPaisEstados($_GET["id_pais"]);
             $array_division = inicObtenerDivisionesGeograficas($_GET["id_pais"]);
@@ -129,23 +139,37 @@
             echo $respuesta_json;
             break;
+        
         case "reenviar_correo":
+            
             echo reenviarCorreo();
             break;
+        
         case "actualizar_correo":
+            
             echo actualizarCorreo($_GET["correo"]);
             break;
+        
         case "validar_codigo":
+            
             echo validarCodigoValidacion($_GET["codigo"], $_GET["t"]);
             break;
+        
         case "nuevo_codigo":
+            
             echo nuevoCodigoValidacion($_GET["t"]);
             break;
+        
         case "subir_imagenes":
+            
             echo subirImagenes(isset($_POST["t"])?$_POST["t"]:"");
             break;
+        
         case "cambiar_idioma":
+            
             echo cambiarIdioma(isset($_GET["pg_idioma"])?$_GET["pg_idioma"]:"es");
             break;
+        
         case "verificar_ern":
+            
             echo verificarern($_GET["ern"]);
             break;
@@ -176,4 +200,5 @@
 
         default:
+            
             echo "<strong>-----</strong><br />";
             break;
@@ -266,9 +291,10 @@
 }
 
-function validarCodigoValidacion($codigo, $id_tarjeta){
+function validarCodigoValidacion($codigo, $id_tarjeta) {
+    
     include_once("../librerias/class.Tarjeta.php");
     include_once("../librerias/class.CodigoValidacion.php");
     include_once("../librerias/class.Cripto.php");
-    global $db, $prinHtml;
+    global $db;
     
     //Verificar que este activa la sesion del usuario
@@ -280,26 +306,47 @@
     $id_tarjeta = $Cripto->descifrar($id_tarjeta);
     $Tarjeta = new Tarjeta($db, $id_tarjeta);
-    if($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"]){
+    if ($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] || $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"])) {
+        
         $Codigo = new CodigoValidacion($db);
-        if($Codigo->cargarActivo($Tarjeta->id_tarjeta)){
-            if($Codigo->validar($codigo)){
-                if($Tarjeta->setRevision()){
+        if ($Codigo->cargarActivo($Tarjeta->id_tarjeta)) {
+            
+            if ($Codigo->validar($codigo)) {
+                
+                if ($Tarjeta->setRevision()) {
+                    
                     $Tarjeta->notificarRecepcionCodigo();
                     $Tarjeta->notificarRecepcionCodigoAdmin();
                     return "ok";
                 }
-            }
-            else if(count($Codigo->intentos) >= ($Codigo->max_intentos - 1)){
+            } else if(count($Codigo->intentos) >= ($Codigo->max_intentos - 1)) {
+                
                 //es el tercer intento fallido
                 $Codigo->setBloqueado();
-                $codigos_anulados = $Codigo->obtenerCodigosAnuladosPorTarjeta($id_tarjeta);
-                if(count($codigos_anulados) >= $Codigo->max_codigos_anulados){
+                
+                // verificar si el estado de la tarjeta es en verificacion por recarga de saldo
+                $estado_tarjeta_vxr = ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"] ? TRUE : FALSE);
+                if ($estado_tarjeta_vxr) {
+                    
+                    /**
+                     * si el estado de la tarjeta es en verficacion por la recarga 
+                     * se obtiene el id de operacion de la recarga y luego se 
+                     * obtienen los datos de los codigos anulados
+                    */
+                    $id_operacion_recarga = $Codigo->obtenerIdOperacionUltimoCodigo($id_tarjeta);
+                    $codigos_anulados   = $Codigo->obtenerCodigosAnuladosPorTarjetaVXRS($id_tarjeta, $id_operacion_recarga);
+                } else {
+                    
+                    // si el estado de la tarjeta es otro se obtienen los datos normalmente
+                    $codigos_anulados = $Codigo->obtenerCodigosAnuladosPorTarjeta($id_tarjeta);
+                }
+                if (count($codigos_anulados) >= $Codigo->max_codigos_anulados) {
+                    
                     return "nocodes";
-                }
-                else{
+                } else {
+                    
                     return "block";
                 }
-            }
-            else{
+            } else {
+                
                 //intento fallido
                 return $Codigo->max_intentos - (count($Codigo->intentos) + 1);
@@ -310,5 +357,6 @@
 }
 
-function nuevoCodigoValidacion($id_tarjeta){
+function nuevoCodigoValidacion($id_tarjeta) {
+    
     include_once("../librerias/class.Comision.php");
     include_once("../librerias/class.Tarjeta.php");
@@ -316,26 +364,47 @@
     include_once("../librerias/kernelPagadito/class.kernelPagadito.php");
     include_once("../librerias/class.Cripto.php");
-    global $db, $prinHtml, $status_code, $transacciones_tipo;
+    global $db, $status_code, $transacciones_tipo;
     
-    //Verificar que este activa la sesion del usuario
+    // Verificar que este activa la sesion del usuario
     if (!isset($_SESSION["usuaPagaditoUsuario"])) {
+        
         return 'nlogin';
     }
-
     $Cripto             = new Cripto();
     $id_tarjeta         = $Cripto->descifrar($id_tarjeta);
     $Tarjeta            = new Tarjeta($db, $id_tarjeta);
     $Codigo             = new CodigoValidacion($db);
-    $codigos_anulados   = $Codigo->obtenerCodigosAnuladosPorTarjeta($id_tarjeta);
-    if($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] && count($codigos_anulados) < $Codigo->max_codigos_anulados){
+    
+    // verificar si el estado de la tarjeta es en verificacion por recarga de saldo
+    $estado_tarjeta_vxr = ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"] ? TRUE : FALSE);
+    if ($estado_tarjeta_vxr) {
+        
+        /**
+         * si el estado de la tarjeta es en verficacion por la recarga se obtiene 
+         * el id de operacion de la recarga y luego se obtienen los datos de los 
+         * codigos anulados
+         */
+        $id_operacion_recarga = $Codigo->obtenerIdOperacionUltimoCodigo($id_tarjeta);
+        $codigos_anulados   = $Codigo->obtenerCodigosAnuladosPorTarjetaVXRS($id_tarjeta, $id_operacion_recarga);
+    } else {
+        
+        // si el estado de la tarjeta es otro se obtienen los datos normalmente
+        $codigos_anulados   = $Codigo->obtenerCodigosAnuladosPorTarjeta($id_tarjeta);
+    }
+    if ($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && 
+            ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] ||
+            $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"]) && 
+            count($codigos_anulados) < $Codigo->max_codigos_anulados) {
 
         $paso_anterior_ok = true;
         //******************** PASO 3 - búsqueda de comisión
-        if($paso_anterior_ok){
+        if ($paso_anterior_ok) {
+            
             $Comision = new Comision($db);
-            if($com_usuario = $Comision->obtenerComisionPorCodigo("CUP001")){
+            if ($com_usuario = $Comision->obtenerComisionPorCodigo("CUP001")) {
+                
                 $monto = $com_usuario["valor_constante"];
-            }
-            else{
+            } else {
+                
                 $paso_anterior_ok = false;
                 inicRegistrarError("Falló paso 3");
@@ -344,9 +413,24 @@
 
         //******************** PASO 4 - Generar código de validación
-        if($paso_anterior_ok){
+        if ($paso_anterior_ok) {
+            
             $codigo_validacion = $Tarjeta->generarCodigoValidacion();
-            if(!$codigo_validacion){
+            if (!$codigo_validacion) {
+                
                 $paso_anterior_ok = false;
                 inicRegistrarError("Falló paso 4");
+            }
+            
+            /**
+             * si el estado de la tarjeta es verificacion por recarga se le agrega 
+             * al codigo recien generado el id de la operación de recarga
+             */
+            if ($estado_tarjeta_vxr) {
+                
+                $Codigo->cargarActivo($id_tarjeta);
+                $datos_actualizar = array(
+                    'id_operacion' => $id_operacion_recarga
+                );
+                $Codigo->actualizar($datos_actualizar);
             }
         }
@@ -355,5 +439,6 @@
         //******************** PASO 6 - operación y transacciones de modelo de fondos
         //******************** PASO 7 - transacción del viejo modelo
-        if($paso_anterior_ok){
+        if ($paso_anterior_ok) {
+            
             $datos = array(
                 'referencia_externa'    => '',
@@ -375,5 +460,6 @@
             $kp = new kernelPagadito();
             $resultado = $kp->registrarTransaccion($datos);
-            if($resultado != $status_code['ok']){
+            if ($resultado != $status_code['ok']) {
+                
                 $paso_anterior_ok = false;
                 inicRegistrarError("Fallaron pasos 5, 6 y 7");
@@ -382,6 +468,8 @@
 
         //******************** PASO 8 - notificar generación de código de validación
-        if($paso_anterior_ok){
-            if(!$Tarjeta->notificarGeneracionCodigo()){
+        if ($paso_anterior_ok) {
+            
+            if (!$Tarjeta->notificarGeneracionCodigo(false, $Tarjeta->datos['id_tarjeta_tipo'])) {
+                
                 inicRegistrarError("Falló paso 8");
             }
@@ -389,5 +477,6 @@
 
         //******************** END
-        if($paso_anterior_ok){
+        if ($paso_anterior_ok) {
+            
             return "ok";
         }
@@ -396,25 +485,31 @@
 }
 
-function subirImagenes($id_tarjeta){
+function subirImagenes($id_tarjeta) {
+    
     include_once("../librerias/class.Tarjeta.php");
     include_once("../librerias/class.ImagenValidacion.php");
     include_once("../librerias/class.Cripto.php");
-    global $db, $prinHtml;
+    global $db;
     
     //Verificar que este activa la sesion del usuario
     if (!isset($_SESSION["usuaPagaditoUsuario"])) {
+        
         return 'nlogin';
     }
-
     $Cripto = new Cripto();
-    if(isset($id_tarjeta) && $id_tarjeta != ""){
+    if (isset($id_tarjeta) && $id_tarjeta != "") {
+        
         $id_tarjeta = $Cripto->descifrar($id_tarjeta);
         $Tarjeta = new Tarjeta($db, $id_tarjeta);
-        if($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"]){
-            if(isset($_FILES["fImagenTarjeta"], $_FILES["fImagenDocumentoFrente"], $_FILES["fImagenDocumentoReverso"])){
+        if ($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && 
+                ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"])) {
+            
+            if (isset($_FILES["fImagenTarjeta"], $_FILES["fImagenDocumentoFrente"], $_FILES["fImagenDocumentoReverso"])) {
+                
                 $imagen_frente_tarjeta      = $_FILES["fImagenTarjeta"];
                 $imagen_frente_documento    = $_FILES["fImagenDocumentoFrente"];
                 $imagen_reverso_documento   = $_FILES["fImagenDocumentoReverso"];
-
                 if (
                         $imagen_frente_tarjeta['error'] == UPLOAD_ERR_OK
@@ -422,25 +517,31 @@
                         && $imagen_reverso_documento['error'] == UPLOAD_ERR_OK
                 ) {
+                    
                     $imagen_frente_tarjeta_info = getimagesize($imagen_frente_tarjeta['tmp_name']);
                     $imagen_frente_documento_info = getimagesize($imagen_frente_documento['tmp_name']);
                     $imagen_reverso_documento_info = getimagesize($imagen_reverso_documento['tmp_name']);
-                    if(
+                    if (
                         in_array($imagen_frente_tarjeta_info["mime"], array("image/jpeg", "image/png"))
                         && in_array($imagen_frente_documento_info["mime"], array("image/jpeg", "image/png"))
                         && in_array($imagen_reverso_documento_info["mime"], array("image/jpeg", "image/png"))
-                    ){
-                        if(
+                    ) {
+                        
+                        if (
                             $imagen_frente_tarjeta['size'] > 0 && $imagen_frente_tarjeta['size'] <= 2097152
                             && $imagen_frente_documento['size'] > 0 && $imagen_frente_documento['size'] <= 2097152
                             && $imagen_reverso_documento['size'] > 0 && $imagen_reverso_documento['size'] <= 2097152
-                        ){
+                        ) {
+                            
                             $Imagen = new ImagenValidacion($db);
-                            if(!$Imagen->nuevaTipoTarjetaFrente($imagen_frente_tarjeta["tmp_name"], $id_tarjeta)){
+                            if (!$Imagen->nuevaTipoTarjetaFrente($imagen_frente_tarjeta["tmp_name"], $id_tarjeta)) {
+                                
                                 return "error";
                             }
-                            if(!$Imagen->nuevaTipoDocumentoFrente($imagen_frente_documento["tmp_name"], $id_tarjeta)){
+                            if (!$Imagen->nuevaTipoDocumentoFrente($imagen_frente_documento["tmp_name"], $id_tarjeta)) {
+                                
                                 return "error";
                             }
-                            if(!$Imagen->nuevaTipoDocumentoAtras($imagen_reverso_documento["tmp_name"], $id_tarjeta)){
+                            if (!$Imagen->nuevaTipoDocumentoAtras($imagen_reverso_documento["tmp_name"], $id_tarjeta)) {
+                                
                                 return "error";
                             }
@@ -448,23 +549,23 @@
                             $Tarjeta->notificarRecepcionImagenesAdmin();
                             return "ok";
-                        }
-                        else{
+                        } else {
+                            
                             inicRegistrarError($imagen_frente_tarjeta['size'].",".$imagen_frente_documento['size'].",".$imagen_reverso_documento['size']);
                         }
-                    }
-                    else{
+                    } else {
+                        
                         inicRegistrarError("Mimes incorrectos: ".$imagen_frente_tarjeta_info['mime'].",".$imagen_frente_documento_info['mime'].",".$imagen_reverso_documento_info['mime']);
                     }
-                }
-                else{
+                } else {
+                    
                     inicRegistrarError("No se recibieron imágenes.");
                 }
-            }
-            else{
+            } else {
+                
                 inicRegistrarError("No se recibieron imágenes.");
             }
         }
-    }
-    else{
+    } else {
+        
         inicRegistrarError("No se recibió ID de tarjeta.");
         return "mal";
Index: branches/b-20180319.02/config/cripto.cfg.php.sample
===================================================================
--- trunk/config/cripto.cfg.php.sample	(revision 3384)
+++ branches/b-20180319.02/config/cripto.cfg.php.sample	(revision 3579)
@@ -10,5 +10,5 @@
 define("CRIPTO_CFG_LLAVE_PRIVADA_FIRMA", "hKvjTU8jnuRpQCU2");
 define("CRIPTO_CFG_LLAVE_PRIVADA_MENSAJE", "JjLYjrzfUhnqUJSS");
-define("CRIPTO_CFG_TIEMPO_LIMITE", 600); //segundos, 10 minutos
+define("CRIPTO_CFG_TIEMPO_LIMITE", 7200); //segundos, 2 horas
 
 /**
Index: branches/b-20180319.02/config/general.cfg.php.sample
===================================================================
--- trunk/config/general.cfg.php.sample	(revision 3384)
+++ branches/b-20180319.02/config/general.cfg.php.sample	(revision 3579)
@@ -186,4 +186,5 @@
     "AJU" => 900000, //Ajuste de cuenta
     "RTP" => 400001, // Registro de Terminal Pagadito POS
+    "CFR" => 500001, // Cobro Fee Reembolso
 );
 $transaccion_detalle_tipo = Array(
@@ -250,5 +251,6 @@
     "BZ" => 41,
     "EC" => 11,
-    "MX" => 18
+    "MX" => 18,
+    "SX" => 42
 );
 
@@ -266,5 +268,6 @@
     41 => "BZ",
     11 => "EC",
-    18 => "MX"
+    18 => "MX",
+    42 => "SX",
 );
 
@@ -286,5 +289,6 @@
     "belize" => 41,
     "ecuador" => 11,
-    "mexico" => 18
+    "mexico" => 18,
+    "sint-maarten" => 42
 );
 
@@ -304,5 +308,6 @@
     41 => "belice",
     11 => "ecuador",
-    18 => "mexico"
+    18 => "mexico",
+    42 => "sint-maarten"
 );
 
@@ -321,5 +326,6 @@
     41 => "belize",
     11 => "ecuador",
-    18 => "mexico"
+    18 => "mexico",
+    42 => "sint-maarten"
 );
 
@@ -736,6 +742,6 @@
 $cuentasImagenesPendientes = array(
     array(
-        "admin1@pagadito.com",
-        "Admin1"
+        "alertas_imagenes_y_codigos@pagadito.com",
+        "Alertas Imagenes y Codigos"
     )
 );
@@ -792,3 +798,20 @@
 
 // link para enlaces de pago
-define('URL_ENLACEPAGO', 'https://enlaces.pagadito.com/');
+define('URL_ENLACEPAGO', 'https://www.pagalink.com/');
+
+// define si se imprime el codigo de twitter
+define('IMPRIMIR_TWITTER_CODE', TRUE);
+
+define("DEVICE_DEFAULT", "");
+define("DEVICE_DESKTOP", "1");
+define("DEVICE_TABLET", "2");
+define("DEVICE_PHONE", "3");
+
+// para habilitar o deshabilitar el popup
+define('MOSTRAR_POPUP', TRUE);
+
+//Codigo de comision por reembolso
+define('REFUND_CODIGO_COMISION_FEE', 'CFR001');
+define('REEMBOLSO_TIEMPO_TRANSACCION', '3'); // numero entero
+define('REEMBOLSO_UNIDAD_TIEMPO', 'M'); // M => Meses, D => Dias
+define('REEMBOLSO_NUMERO_REEMBOLSOS_DIARIOS', 3); // Cantidad de reembolsos diarios
Index: branches/b-20180319.02/config/paypro.cfg.php.sample
===================================================================
--- trunk/config/paypro.cfg.php.sample	(revision 3384)
+++ branches/b-20180319.02/config/paypro.cfg.php.sample	(revision 3579)
@@ -15,4 +15,6 @@
 define("DYNAMICDESCRIPTOR_DEFAULT", "PAGADITO.COM*{data}");
 define("DYNAMICDESCRIPTOR_PHONE", "+50322647032");
+
+define("DYNAMICDESCRIPTOR_AMEX", "PAGADITO*{data}");
 
 //BAC
@@ -82,2 +84,16 @@
 define("DFID_MERCHAT_ID", "pagadito");
 define("DFID_ENVIROMENT", "test");//"test" en sandbox o debug, "live" en prod
+
+// Parametro a enviar a AMEX cuando es no es transaccion de otro comercio
+define('PG_SUBMERCHANT_IDENTIFIER', 'PGCOM001');
+define('PG_SUBMERCHANT_REGISTEREDNAME', 'Pagadito');
+define('PG_SUBMERCHANT_TRADINGNAME', 'PAGADITO');
+define('PG_SUBMERCHANT_BANKINDUSTRYCODE', '6199');
+define('PG_SUBMERCHANT_EMAIL', 'payments@pagadito.com');
+define('PG_SUBMERCHANT_CITY', 'San Salvador');
+define('PG_SUBMERCHANT_COUNTRY', 'SLV');
+define('PG_SUBMERCHANT_COMPANY', 'Pagadito El Salvador S.A.');
+define('PG_SUBMERCHANT_POSTCODEZIP', '0000');
+define('PG_SUBMERCHANT_STATEPROVINCE', 'San Salvador');
+define('PG_SUBMERCHANT_STREET', '7a Calle Poniente Bis 531');
+define('PG_SUBMERCHANT_PHONE', '+50322647032');
Index: branches/b-20180319.02/css/bootstrap/grid.css
===================================================================
--- branches/b-20180319.02/css/bootstrap/grid.css	(revision 3579)
+++ branches/b-20180319.02/css/bootstrap/grid.css	(revision 3579)
@@ -0,0 +1,4401 @@
+/*!
+ * Bootstrap Grid v4.0.0 (https://getbootstrap.com)
+ * Copyright 2011-2018 The Bootstrap Authors
+ * Copyright 2011-2018 Twitter, Inc.
+ * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
+ */
+@-ms-viewport {
+  width: device-width;
+}
+html {
+  box-sizing: border-box;
+  -ms-overflow-style: scrollbar;
+}
+
+*,
+*::before,
+*::after {
+  box-sizing: inherit;
+}
+
+.container {
+  width: 100%;
+  padding-right: 15px;
+  padding-left: 15px;
+  margin-right: auto;
+  margin-left: auto;
+}
+@media (min-width: 576px) {
+  .container {
+    max-width: 540px;
+  }
+}
+@media (min-width: 768px) {
+  .container {
+    max-width: 720px;
+  }
+}
+@media (min-width: 992px) {
+  .container {
+    max-width: 960px;
+  }
+}
+@media (min-width: 1200px) {
+  .container {
+    max-width: 1140px;
+  }
+}
+
+.container-fluid {
+  width: 100%;
+  padding-right: 15px;
+  padding-left: 15px;
+  margin-right: auto;
+  margin-left: auto;
+}
+
+.row {
+  display: -webkit-box;
+  display: -ms-flexbox;
+  display: flex;
+  -ms-flex-wrap: wrap;
+      flex-wrap: wrap;
+  margin-right: -15px;
+  margin-left: -15px;
+}
+
+.no-gutters {
+  margin-right: 0;
+  margin-left: 0;
+}
+.no-gutters > .col,
+.no-gutters > [class*="col-"] {
+  padding-right: 0;
+  padding-left: 0;
+}
+
+.col-1, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-10, .col-11, .col-12, .col,
+.col-auto, .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm,
+.col-sm-auto, .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12, .col-md,
+.col-md-auto, .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg,
+.col-lg-auto, .col-xl-1, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl,
+.col-xl-auto {
+  position: relative;
+  width: 100%;
+  min-height: 1px;
+  padding-right: 15px;
+  padding-left: 15px;
+}
+
+.col {
+  -ms-flex-preferred-size: 0;
+      flex-basis: 0;
+  -webkit-box-flex: 1;
+      -ms-flex-positive: 1;
+          flex-grow: 1;
+  max-width: 100%;
+}
+
+.col-auto {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 auto;
+          flex: 0 0 auto;
+  width: auto;
+  max-width: none;
+}
+
+.col-1 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 8.3333333333%;
+          flex: 0 0 8.3333333333%;
+  max-width: 8.3333333333%;
+}
+
+.col-2 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 16.6666666667%;
+          flex: 0 0 16.6666666667%;
+  max-width: 16.6666666667%;
+}
+
+.col-3 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 25%;
+          flex: 0 0 25%;
+  max-width: 25%;
+}
+
+.col-4 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 33.3333333333%;
+          flex: 0 0 33.3333333333%;
+  max-width: 33.3333333333%;
+}
+
+.col-5 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 41.6666666667%;
+          flex: 0 0 41.6666666667%;
+  max-width: 41.6666666667%;
+}
+
+.col-6 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 50%;
+          flex: 0 0 50%;
+  max-width: 50%;
+}
+
+.col-7 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 58.3333333333%;
+          flex: 0 0 58.3333333333%;
+  max-width: 58.3333333333%;
+}
+
+.col-8 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 66.6666666667%;
+          flex: 0 0 66.6666666667%;
+  max-width: 66.6666666667%;
+}
+
+.col-9 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 75%;
+          flex: 0 0 75%;
+  max-width: 75%;
+}
+
+.col-10 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 83.3333333333%;
+          flex: 0 0 83.3333333333%;
+  max-width: 83.3333333333%;
+}
+
+.col-11 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 91.6666666667%;
+          flex: 0 0 91.6666666667%;
+  max-width: 91.6666666667%;
+}
+
+.col-12 {
+  -webkit-box-flex: 0;
+      -ms-flex: 0 0 100%;
+          flex: 0 0 100%;
+  max-width: 100%;
+}
+
+.order-first {
+  -webkit-box-ordinal-group: 0;
+      -ms-flex-order: -1;
+          order: -1;
+}
+
+.order-last {
+  -webkit-box-ordinal-group: 14;
+      -ms-flex-order: 13;
+          order: 13;
+}
+
+.order-0 {
+  -webkit-box-ordinal-group: 1;
+      -ms-flex-order: 0;
+          order: 0;
+}
+
+.order-1 {
+  -webkit-box-ordinal-group: 2;
+      -ms-flex-order: 1;
+          order: 1;
+}
+
+.order-2 {
+  -webkit-box-ordinal-group: 3;
+      -ms-flex-order: 2;
+          order: 2;
+}
+
+.order-3 {
+  -webkit-box-ordinal-group: 4;
+      -ms-flex-order: 3;
+          order: 3;
+}
+
+.order-4 {
+  -webkit-box-ordinal-group: 5;
+      -ms-flex-order: 4;
+          order: 4;
+}
+
+.order-5 {
+  -webkit-box-ordinal-group: 6;
+      -ms-flex-order: 5;
+          order: 5;
+}
+
+.order-6 {
+  -webkit-box-ordinal-group: 7;
+      -ms-flex-order: 6;
+          order: 6;
+}
+
+.order-7 {
+  -webkit-box-ordinal-group: 8;
+      -ms-flex-order: 7;
+          order: 7;
+}
+
+.order-8 {
+  -webkit-box-ordinal-group: 9;
+      -ms-flex-order: 8;
+          order: 8;
+}
+
+.order-9 {
+  -webkit-box-ordinal-group: 10;
+      -ms-flex-order: 9;
+          order: 9;
+}
+
+.order-10 {
+  -webkit-box-ordinal-group: 11;
+      -ms-flex-order: 10;
+          order: 10;
+}
+
+.order-11 {
+  -webkit-box-ordinal-group: 12;
+      -ms-flex-order: 11;
+          order: 11;
+}
+
+.order-12 {
+  -webkit-box-ordinal-group: 13;
+      -ms-flex-order: 12;
+          order: 12;
+}
+
+.offset-1 {
+  margin-left: 8.3333333333%;
+}
+
+.offset-2 {
+  margin-left: 16.6666666667%;
+}
+
+.offset-3 {
+  margin-left: 25%;
+}
+
+.offset-4 {
+  margin-left: 33.3333333333%;
+}
+
+.offset-5 {
+  margin-left: 41.6666666667%;
+}
+
+.offset-6 {
+  margin-left: 50%;
+}
+
+.offset-7 {
+  margin-left: 58.3333333333%;
+}
+
+.offset-8 {
+  margin-left: 66.6666666667%;
+}
+
+.offset-9 {
+  margin-left: 75%;
+}
+
+.offset-10 {
+  margin-left: 83.3333333333%;
+}
+
+.offset-11 {
+  margin-left: 91.6666666667%;
+}
+
+@media (min-width: 576px) {
+  .col-sm {
+    -ms-flex-preferred-size: 0;
+        flex-basis: 0;
+    -webkit-box-flex: 1;
+        -ms-flex-positive: 1;
+            flex-grow: 1;
+    max-width: 100%;
+  }
+
+  .col-sm-auto {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 auto;
+            flex: 0 0 auto;
+    width: auto;
+    max-width: none;
+  }
+
+  .col-sm-1 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 8.3333333333%;
+            flex: 0 0 8.3333333333%;
+    max-width: 8.3333333333%;
+  }
+
+  .col-sm-2 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 16.6666666667%;
+            flex: 0 0 16.6666666667%;
+    max-width: 16.6666666667%;
+  }
+
+  .col-sm-3 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 25%;
+            flex: 0 0 25%;
+    max-width: 25%;
+  }
+
+  .col-sm-4 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 33.3333333333%;
+            flex: 0 0 33.3333333333%;
+    max-width: 33.3333333333%;
+  }
+
+  .col-sm-5 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 41.6666666667%;
+            flex: 0 0 41.6666666667%;
+    max-width: 41.6666666667%;
+  }
+
+  .col-sm-6 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 50%;
+            flex: 0 0 50%;
+    max-width: 50%;
+  }
+
+  .col-sm-7 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 58.3333333333%;
+            flex: 0 0 58.3333333333%;
+    max-width: 58.3333333333%;
+  }
+
+  .col-sm-8 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 66.6666666667%;
+            flex: 0 0 66.6666666667%;
+    max-width: 66.6666666667%;
+  }
+
+  .col-sm-9 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 75%;
+            flex: 0 0 75%;
+    max-width: 75%;
+  }
+
+  .col-sm-10 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 83.3333333333%;
+            flex: 0 0 83.3333333333%;
+    max-width: 83.3333333333%;
+  }
+
+  .col-sm-11 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 91.6666666667%;
+            flex: 0 0 91.6666666667%;
+    max-width: 91.6666666667%;
+  }
+
+  .col-sm-12 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 100%;
+            flex: 0 0 100%;
+    max-width: 100%;
+  }
+
+  .order-sm-first {
+    -webkit-box-ordinal-group: 0;
+        -ms-flex-order: -1;
+            order: -1;
+  }
+
+  .order-sm-last {
+    -webkit-box-ordinal-group: 14;
+        -ms-flex-order: 13;
+            order: 13;
+  }
+
+  .order-sm-0 {
+    -webkit-box-ordinal-group: 1;
+        -ms-flex-order: 0;
+            order: 0;
+  }
+
+  .order-sm-1 {
+    -webkit-box-ordinal-group: 2;
+        -ms-flex-order: 1;
+            order: 1;
+  }
+
+  .order-sm-2 {
+    -webkit-box-ordinal-group: 3;
+        -ms-flex-order: 2;
+            order: 2;
+  }
+
+  .order-sm-3 {
+    -webkit-box-ordinal-group: 4;
+        -ms-flex-order: 3;
+            order: 3;
+  }
+
+  .order-sm-4 {
+    -webkit-box-ordinal-group: 5;
+        -ms-flex-order: 4;
+            order: 4;
+  }
+
+  .order-sm-5 {
+    -webkit-box-ordinal-group: 6;
+        -ms-flex-order: 5;
+            order: 5;
+  }
+
+  .order-sm-6 {
+    -webkit-box-ordinal-group: 7;
+        -ms-flex-order: 6;
+            order: 6;
+  }
+
+  .order-sm-7 {
+    -webkit-box-ordinal-group: 8;
+        -ms-flex-order: 7;
+            order: 7;
+  }
+
+  .order-sm-8 {
+    -webkit-box-ordinal-group: 9;
+        -ms-flex-order: 8;
+            order: 8;
+  }
+
+  .order-sm-9 {
+    -webkit-box-ordinal-group: 10;
+        -ms-flex-order: 9;
+            order: 9;
+  }
+
+  .order-sm-10 {
+    -webkit-box-ordinal-group: 11;
+        -ms-flex-order: 10;
+            order: 10;
+  }
+
+  .order-sm-11 {
+    -webkit-box-ordinal-group: 12;
+        -ms-flex-order: 11;
+            order: 11;
+  }
+
+  .order-sm-12 {
+    -webkit-box-ordinal-group: 13;
+        -ms-flex-order: 12;
+            order: 12;
+  }
+
+  .offset-sm-0 {
+    margin-left: 0;
+  }
+
+  .offset-sm-1 {
+    margin-left: 8.3333333333%;
+  }
+
+  .offset-sm-2 {
+    margin-left: 16.6666666667%;
+  }
+
+  .offset-sm-3 {
+    margin-left: 25%;
+  }
+
+  .offset-sm-4 {
+    margin-left: 33.3333333333%;
+  }
+
+  .offset-sm-5 {
+    margin-left: 41.6666666667%;
+  }
+
+  .offset-sm-6 {
+    margin-left: 50%;
+  }
+
+  .offset-sm-7 {
+    margin-left: 58.3333333333%;
+  }
+
+  .offset-sm-8 {
+    margin-left: 66.6666666667%;
+  }
+
+  .offset-sm-9 {
+    margin-left: 75%;
+  }
+
+  .offset-sm-10 {
+    margin-left: 83.3333333333%;
+  }
+
+  .offset-sm-11 {
+    margin-left: 91.6666666667%;
+  }
+}
+@media (min-width: 768px) {
+  .col-md {
+    -ms-flex-preferred-size: 0;
+        flex-basis: 0;
+    -webkit-box-flex: 1;
+        -ms-flex-positive: 1;
+            flex-grow: 1;
+    max-width: 100%;
+  }
+
+  .col-md-auto {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 auto;
+            flex: 0 0 auto;
+    width: auto;
+    max-width: none;
+  }
+
+  .col-md-1 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 8.3333333333%;
+            flex: 0 0 8.3333333333%;
+    max-width: 8.3333333333%;
+  }
+
+  .col-md-2 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 16.6666666667%;
+            flex: 0 0 16.6666666667%;
+    max-width: 16.6666666667%;
+  }
+
+  .col-md-3 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 25%;
+            flex: 0 0 25%;
+    max-width: 25%;
+  }
+
+  .col-md-4 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 33.3333333333%;
+            flex: 0 0 33.3333333333%;
+    max-width: 33.3333333333%;
+  }
+
+  .col-md-5 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 41.6666666667%;
+            flex: 0 0 41.6666666667%;
+    max-width: 41.6666666667%;
+  }
+
+  .col-md-6 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 50%;
+            flex: 0 0 50%;
+    max-width: 50%;
+  }
+
+  .col-md-7 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 58.3333333333%;
+            flex: 0 0 58.3333333333%;
+    max-width: 58.3333333333%;
+  }
+
+  .col-md-8 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 66.6666666667%;
+            flex: 0 0 66.6666666667%;
+    max-width: 66.6666666667%;
+  }
+
+  .col-md-9 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 75%;
+            flex: 0 0 75%;
+    max-width: 75%;
+  }
+
+  .col-md-10 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 83.3333333333%;
+            flex: 0 0 83.3333333333%;
+    max-width: 83.3333333333%;
+  }
+
+  .col-md-11 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 91.6666666667%;
+            flex: 0 0 91.6666666667%;
+    max-width: 91.6666666667%;
+  }
+
+  .col-md-12 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 100%;
+            flex: 0 0 100%;
+    max-width: 100%;
+  }
+
+  .order-md-first {
+    -webkit-box-ordinal-group: 0;
+        -ms-flex-order: -1;
+            order: -1;
+  }
+
+  .order-md-last {
+    -webkit-box-ordinal-group: 14;
+        -ms-flex-order: 13;
+            order: 13;
+  }
+
+  .order-md-0 {
+    -webkit-box-ordinal-group: 1;
+        -ms-flex-order: 0;
+            order: 0;
+  }
+
+  .order-md-1 {
+    -webkit-box-ordinal-group: 2;
+        -ms-flex-order: 1;
+            order: 1;
+  }
+
+  .order-md-2 {
+    -webkit-box-ordinal-group: 3;
+        -ms-flex-order: 2;
+            order: 2;
+  }
+
+  .order-md-3 {
+    -webkit-box-ordinal-group: 4;
+        -ms-flex-order: 3;
+            order: 3;
+  }
+
+  .order-md-4 {
+    -webkit-box-ordinal-group: 5;
+        -ms-flex-order: 4;
+            order: 4;
+  }
+
+  .order-md-5 {
+    -webkit-box-ordinal-group: 6;
+        -ms-flex-order: 5;
+            order: 5;
+  }
+
+  .order-md-6 {
+    -webkit-box-ordinal-group: 7;
+        -ms-flex-order: 6;
+            order: 6;
+  }
+
+  .order-md-7 {
+    -webkit-box-ordinal-group: 8;
+        -ms-flex-order: 7;
+            order: 7;
+  }
+
+  .order-md-8 {
+    -webkit-box-ordinal-group: 9;
+        -ms-flex-order: 8;
+            order: 8;
+  }
+
+  .order-md-9 {
+    -webkit-box-ordinal-group: 10;
+        -ms-flex-order: 9;
+            order: 9;
+  }
+
+  .order-md-10 {
+    -webkit-box-ordinal-group: 11;
+        -ms-flex-order: 10;
+            order: 10;
+  }
+
+  .order-md-11 {
+    -webkit-box-ordinal-group: 12;
+        -ms-flex-order: 11;
+            order: 11;
+  }
+
+  .order-md-12 {
+    -webkit-box-ordinal-group: 13;
+        -ms-flex-order: 12;
+            order: 12;
+  }
+
+  .offset-md-0 {
+    margin-left: 0;
+  }
+
+  .offset-md-1 {
+    margin-left: 8.3333333333%;
+  }
+
+  .offset-md-2 {
+    margin-left: 16.6666666667%;
+  }
+
+  .offset-md-3 {
+    margin-left: 25%;
+  }
+
+  .offset-md-4 {
+    margin-left: 33.3333333333%;
+  }
+
+  .offset-md-5 {
+    margin-left: 41.6666666667%;
+  }
+
+  .offset-md-6 {
+    margin-left: 50%;
+  }
+
+  .offset-md-7 {
+    margin-left: 58.3333333333%;
+  }
+
+  .offset-md-8 {
+    margin-left: 66.6666666667%;
+  }
+
+  .offset-md-9 {
+    margin-left: 75%;
+  }
+
+  .offset-md-10 {
+    margin-left: 83.3333333333%;
+  }
+
+  .offset-md-11 {
+    margin-left: 91.6666666667%;
+  }
+}
+@media (min-width: 992px) {
+  .col-lg {
+    -ms-flex-preferred-size: 0;
+        flex-basis: 0;
+    -webkit-box-flex: 1;
+        -ms-flex-positive: 1;
+            flex-grow: 1;
+    max-width: 100%;
+  }
+
+  .col-lg-auto {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 auto;
+            flex: 0 0 auto;
+    width: auto;
+    max-width: none;
+  }
+
+  .col-lg-1 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 8.3333333333%;
+            flex: 0 0 8.3333333333%;
+    max-width: 8.3333333333%;
+  }
+
+  .col-lg-2 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 16.6666666667%;
+            flex: 0 0 16.6666666667%;
+    max-width: 16.6666666667%;
+  }
+
+  .col-lg-3 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 25%;
+            flex: 0 0 25%;
+    max-width: 25%;
+  }
+
+  .col-lg-4 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 33.3333333333%;
+            flex: 0 0 33.3333333333%;
+    max-width: 33.3333333333%;
+  }
+
+  .col-lg-5 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 41.6666666667%;
+            flex: 0 0 41.6666666667%;
+    max-width: 41.6666666667%;
+  }
+
+  .col-lg-6 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 50%;
+            flex: 0 0 50%;
+    max-width: 50%;
+  }
+
+  .col-lg-7 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 58.3333333333%;
+            flex: 0 0 58.3333333333%;
+    max-width: 58.3333333333%;
+  }
+
+  .col-lg-8 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 66.6666666667%;
+            flex: 0 0 66.6666666667%;
+    max-width: 66.6666666667%;
+  }
+
+  .col-lg-9 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 75%;
+            flex: 0 0 75%;
+    max-width: 75%;
+  }
+
+  .col-lg-10 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 83.3333333333%;
+            flex: 0 0 83.3333333333%;
+    max-width: 83.3333333333%;
+  }
+
+  .col-lg-11 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 91.6666666667%;
+            flex: 0 0 91.6666666667%;
+    max-width: 91.6666666667%;
+  }
+
+  .col-lg-12 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 100%;
+            flex: 0 0 100%;
+    max-width: 100%;
+  }
+
+  .order-lg-first {
+    -webkit-box-ordinal-group: 0;
+        -ms-flex-order: -1;
+            order: -1;
+  }
+
+  .order-lg-last {
+    -webkit-box-ordinal-group: 14;
+        -ms-flex-order: 13;
+            order: 13;
+  }
+
+  .order-lg-0 {
+    -webkit-box-ordinal-group: 1;
+        -ms-flex-order: 0;
+            order: 0;
+  }
+
+  .order-lg-1 {
+    -webkit-box-ordinal-group: 2;
+        -ms-flex-order: 1;
+            order: 1;
+  }
+
+  .order-lg-2 {
+    -webkit-box-ordinal-group: 3;
+        -ms-flex-order: 2;
+            order: 2;
+  }
+
+  .order-lg-3 {
+    -webkit-box-ordinal-group: 4;
+        -ms-flex-order: 3;
+            order: 3;
+  }
+
+  .order-lg-4 {
+    -webkit-box-ordinal-group: 5;
+        -ms-flex-order: 4;
+            order: 4;
+  }
+
+  .order-lg-5 {
+    -webkit-box-ordinal-group: 6;
+        -ms-flex-order: 5;
+            order: 5;
+  }
+
+  .order-lg-6 {
+    -webkit-box-ordinal-group: 7;
+        -ms-flex-order: 6;
+            order: 6;
+  }
+
+  .order-lg-7 {
+    -webkit-box-ordinal-group: 8;
+        -ms-flex-order: 7;
+            order: 7;
+  }
+
+  .order-lg-8 {
+    -webkit-box-ordinal-group: 9;
+        -ms-flex-order: 8;
+            order: 8;
+  }
+
+  .order-lg-9 {
+    -webkit-box-ordinal-group: 10;
+        -ms-flex-order: 9;
+            order: 9;
+  }
+
+  .order-lg-10 {
+    -webkit-box-ordinal-group: 11;
+        -ms-flex-order: 10;
+            order: 10;
+  }
+
+  .order-lg-11 {
+    -webkit-box-ordinal-group: 12;
+        -ms-flex-order: 11;
+            order: 11;
+  }
+
+  .order-lg-12 {
+    -webkit-box-ordinal-group: 13;
+        -ms-flex-order: 12;
+            order: 12;
+  }
+
+  .offset-lg-0 {
+    margin-left: 0;
+  }
+
+  .offset-lg-1 {
+    margin-left: 8.3333333333%;
+  }
+
+  .offset-lg-2 {
+    margin-left: 16.6666666667%;
+  }
+
+  .offset-lg-3 {
+    margin-left: 25%;
+  }
+
+  .offset-lg-4 {
+    margin-left: 33.3333333333%;
+  }
+
+  .offset-lg-5 {
+    margin-left: 41.6666666667%;
+  }
+
+  .offset-lg-6 {
+    margin-left: 50%;
+  }
+
+  .offset-lg-7 {
+    margin-left: 58.3333333333%;
+  }
+
+  .offset-lg-8 {
+    margin-left: 66.6666666667%;
+  }
+
+  .offset-lg-9 {
+    margin-left: 75%;
+  }
+
+  .offset-lg-10 {
+    margin-left: 83.3333333333%;
+  }
+
+  .offset-lg-11 {
+    margin-left: 91.6666666667%;
+  }
+}
+@media (min-width: 1200px) {
+  .col-xl {
+    -ms-flex-preferred-size: 0;
+        flex-basis: 0;
+    -webkit-box-flex: 1;
+        -ms-flex-positive: 1;
+            flex-grow: 1;
+    max-width: 100%;
+  }
+
+  .col-xl-auto {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 auto;
+            flex: 0 0 auto;
+    width: auto;
+    max-width: none;
+  }
+
+  .col-xl-1 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 8.3333333333%;
+            flex: 0 0 8.3333333333%;
+    max-width: 8.3333333333%;
+  }
+
+  .col-xl-2 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 16.6666666667%;
+            flex: 0 0 16.6666666667%;
+    max-width: 16.6666666667%;
+  }
+
+  .col-xl-3 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 25%;
+            flex: 0 0 25%;
+    max-width: 25%;
+  }
+
+  .col-xl-4 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 33.3333333333%;
+            flex: 0 0 33.3333333333%;
+    max-width: 33.3333333333%;
+  }
+
+  .col-xl-5 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 41.6666666667%;
+            flex: 0 0 41.6666666667%;
+    max-width: 41.6666666667%;
+  }
+
+  .col-xl-6 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 50%;
+            flex: 0 0 50%;
+    max-width: 50%;
+  }
+
+  .col-xl-7 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 58.3333333333%;
+            flex: 0 0 58.3333333333%;
+    max-width: 58.3333333333%;
+  }
+
+  .col-xl-8 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 66.6666666667%;
+            flex: 0 0 66.6666666667%;
+    max-width: 66.6666666667%;
+  }
+
+  .col-xl-9 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 75%;
+            flex: 0 0 75%;
+    max-width: 75%;
+  }
+
+  .col-xl-10 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 83.3333333333%;
+            flex: 0 0 83.3333333333%;
+    max-width: 83.3333333333%;
+  }
+
+  .col-xl-11 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 91.6666666667%;
+            flex: 0 0 91.6666666667%;
+    max-width: 91.6666666667%;
+  }
+
+  .col-xl-12 {
+    -webkit-box-flex: 0;
+        -ms-flex: 0 0 100%;
+            flex: 0 0 100%;
+    max-width: 100%;
+  }
+
+  .order-xl-first {
+    -webkit-box-ordinal-group: 0;
+        -ms-flex-order: -1;
+            order: -1;
+  }
+
+  .order-xl-last {
+    -webkit-box-ordinal-group: 14;
+        -ms-flex-order: 13;
+            order: 13;
+  }
+
+  .order-xl-0 {
+    -webkit-box-ordinal-group: 1;
+        -ms-flex-order: 0;
+            order: 0;
+  }
+
+  .order-xl-1 {
+    -webkit-box-ordinal-group: 2;
+        -ms-flex-order: 1;
+            order: 1;
+  }
+
+  .order-xl-2 {
+    -webkit-box-ordinal-group: 3;
+        -ms-flex-order: 2;
+            order: 2;
+  }
+
+  .order-xl-3 {
+    -webkit-box-ordinal-group: 4;
+        -ms-flex-order: 3;
+            order: 3;
+  }
+
+  .order-xl-4 {
+    -webkit-box-ordinal-group: 5;
+        -ms-flex-order: 4;
+            order: 4;
+  }
+
+  .order-xl-5 {
+    -webkit-box-ordinal-group: 6;
+        -ms-flex-order: 5;
+            order: 5;
+  }
+
+  .order-xl-6 {
+    -webkit-box-ordinal-group: 7;
+        -ms-flex-order: 6;
+            order: 6;
+  }
+
+  .order-xl-7 {
+    -webkit-box-ordinal-group: 8;
+        -ms-flex-order: 7;
+            order: 7;
+  }
+
+  .order-xl-8 {
+    -webkit-box-ordinal-group: 9;
+        -ms-flex-order: 8;
+            order: 8;
+  }
+
+  .order-xl-9 {
+    -webkit-box-ordinal-group: 10;
+        -ms-flex-order: 9;
+            order: 9;
+  }
+
+  .order-xl-10 {
+    -webkit-box-ordinal-group: 11;
+        -ms-flex-order: 10;
+            order: 10;
+  }
+
+  .order-xl-11 {
+    -webkit-box-ordinal-group: 12;
+        -ms-flex-order: 11;
+            order: 11;
+  }
+
+  .order-xl-12 {
+    -webkit-box-ordinal-group: 13;
+        -ms-flex-order: 12;
+            order: 12;
+  }
+
+  .offset-xl-0 {
+    margin-left: 0;
+  }
+
+  .offset-xl-1 {
+    margin-left: 8.3333333333%;
+  }
+
+  .offset-xl-2 {
+    margin-left: 16.6666666667%;
+  }
+
+  .offset-xl-3 {
+    margin-left: 25%;
+  }
+
+  .offset-xl-4 {
+    margin-left: 33.3333333333%;
+  }
+
+  .offset-xl-5 {
+    margin-left: 41.6666666667%;
+  }
+
+  .offset-xl-6 {
+    margin-left: 50%;
+  }
+
+  .offset-xl-7 {
+    margin-left: 58.3333333333%;
+  }
+
+  .offset-xl-8 {
+    margin-left: 66.6666666667%;
+  }
+
+  .offset-xl-9 {
+    margin-left: 75%;
+  }
+
+  .offset-xl-10 {
+    margin-left: 83.3333333333%;
+  }
+
+  .offset-xl-11 {
+    margin-left: 91.6666666667%;
+  }
+}
+.d-none {
+  display: none !important;
+}
+
+.d-inline {
+  display: inline !important;
+}
+
+.d-inline-block {
+  display: inline-block !important;
+}
+
+.d-block {
+  display: block !important;
+}
+
+.d-table {
+  display: table !important;
+}
+
+.d-table-row {
+  display: table-row !important;
+}
+
+.d-table-cell {
+  display: table-cell !important;
+}
+
+.d-flex {
+  display: -webkit-box !important;
+  display: -ms-flexbox !important;
+  display: flex !important;
+}
+
+.d-inline-flex {
+  display: -webkit-inline-box !important;
+  display: -ms-inline-flexbox !important;
+  display: inline-flex !important;
+}
+
+@media (min-width: 576px) {
+  .d-sm-none {
+    display: none !important;
+  }
+
+  .d-sm-inline {
+    display: inline !important;
+  }
+
+  .d-sm-inline-block {
+    display: inline-block !important;
+  }
+
+  .d-sm-block {
+    display: block !important;
+  }
+
+  .d-sm-table {
+    display: table !important;
+  }
+
+  .d-sm-table-row {
+    display: table-row !important;
+  }
+
+  .d-sm-table-cell {
+    display: table-cell !important;
+  }
+
+  .d-sm-flex {
+    display: -webkit-box !important;
+    display: -ms-flexbox !important;
+    display: flex !important;
+  }
+
+  .d-sm-inline-flex {
+    display: -webkit-inline-box !important;
+    display: -ms-inline-flexbox !important;
+    display: inline-flex !important;
+  }
+}
+@media (min-width: 768px) {
+  .d-md-none {
+    display: none !important;
+  }
+
+  .d-md-inline {
+    display: inline !important;
+  }
+
+  .d-md-inline-block {
+    display: inline-block !important;
+  }
+
+  .d-md-block {
+    display: block !important;
+  }
+
+  .d-md-table {
+    display: table !important;
+  }
+
+  .d-md-table-row {
+    display: table-row !important;
+  }
+
+  .d-md-table-cell {
+    display: table-cell !important;
+  }
+
+  .d-md-flex {
+    display: -webkit-box !important;
+    display: -ms-flexbox !important;
+    display: flex !important;
+  }
+
+  .d-md-inline-flex {
+    display: -webkit-inline-box !important;
+    display: -ms-inline-flexbox !important;
+    display: inline-flex !important;
+  }
+}
+@media (min-width: 992px) {
+  .d-lg-none {
+    display: none !important;
+  }
+
+  .d-lg-inline {
+    display: inline !important;
+  }
+
+  .d-lg-inline-block {
+    display: inline-block !important;
+  }
+
+  .d-lg-block {
+    display: block !important;
+  }
+
+  .d-lg-table {
+    display: table !important;
+  }
+
+  .d-lg-table-row {
+    display: table-row !important;
+  }
+
+  .d-lg-table-cell {
+    display: table-cell !important;
+  }
+
+  .d-lg-flex {
+    display: -webkit-box !important;
+    display: -ms-flexbox !important;
+    display: flex !important;
+  }
+
+  .d-lg-inline-flex {
+    display: -webkit-inline-box !important;
+    display: -ms-inline-flexbox !important;
+    display: inline-flex !important;
+  }
+}
+@media (min-width: 1200px) {
+  .d-xl-none {
+    display: none !important;
+  }
+
+  .d-xl-inline {
+    display: inline !important;
+  }
+
+  .d-xl-inline-block {
+    display: inline-block !important;
+  }
+
+  .d-xl-block {
+    display: block !important;
+  }
+
+  .d-xl-table {
+    display: table !important;
+  }
+
+  .d-xl-table-row {
+    display: table-row !important;
+  }
+
+  .d-xl-table-cell {
+    display: table-cell !important;
+  }
+
+  .d-xl-flex {
+    display: -webkit-box !important;
+    display: -ms-flexbox !important;
+    display: flex !important;
+  }
+
+  .d-xl-inline-flex {
+    display: -webkit-inline-box !important;
+    display: -ms-inline-flexbox !important;
+    display: inline-flex !important;
+  }
+}
+@media print {
+  .d-print-none {
+    display: none !important;
+  }
+
+  .d-print-inline {
+    display: inline !important;
+  }
+
+  .d-print-inline-block {
+    display: inline-block !important;
+  }
+
+  .d-print-block {
+    display: block !important;
+  }
+
+  .d-print-table {
+    display: table !important;
+  }
+
+  .d-print-table-row {
+    display: table-row !important;
+  }
+
+  .d-print-table-cell {
+    display: table-cell !important;
+  }
+
+  .d-print-flex {
+    display: -webkit-box !important;
+    display: -ms-flexbox !important;
+    display: flex !important;
+  }
+
+  .d-print-inline-flex {
+    display: -webkit-inline-box !important;
+    display: -ms-inline-flexbox !important;
+    display: inline-flex !important;
+  }
+}
+.flex-row {
+  -webkit-box-orient: horizontal !important;
+  -webkit-box-direction: normal !important;
+      -ms-flex-direction: row !important;
+          flex-direction: row !important;
+}
+
+.flex-column {
+  -webkit-box-orient: vertical !important;
+  -webkit-box-direction: normal !important;
+      -ms-flex-direction: column !important;
+          flex-direction: column !important;
+}
+
+.flex-row-reverse {
+  -webkit-box-orient: horizontal !important;
+  -webkit-box-direction: reverse !important;
+      -ms-flex-direction: row-reverse !important;
+          flex-direction: row-reverse !important;
+}
+
+.flex-column-reverse {
+  -webkit-box-orient: vertical !important;
+  -webkit-box-direction: reverse !important;
+      -ms-flex-direction: column-reverse !important;
+          flex-direction: column-reverse !important;
+}
+
+.flex-wrap {
+  -ms-flex-wrap: wrap !important;
+      flex-wrap: wrap !important;
+}
+
+.flex-nowrap {
+  -ms-flex-wrap: nowrap !important;
+      flex-wrap: nowrap !important;
+}
+
+.flex-wrap-reverse {
+  -ms-flex-wrap: wrap-reverse !important;
+      flex-wrap: wrap-reverse !important;
+}
+
+.justify-content-start {
+  -webkit-box-pack: start !important;
+      -ms-flex-pack: start !important;
+          justify-content: flex-start !important;
+}
+
+.justify-content-end {
+  -webkit-box-pack: end !important;
+      -ms-flex-pack: end !important;
+          justify-content: flex-end !important;
+}
+
+.justify-content-center {
+  -webkit-box-pack: center !important;
+      -ms-flex-pack: center !important;
+          justify-content: center !important;
+}
+
+.justify-content-between {
+  -webkit-box-pack: justify !important;
+      -ms-flex-pack: justify !important;
+          justify-content: space-between !important;
+}
+
+.justify-content-around {
+  -ms-flex-pack: distribute !important;
+      justify-content: space-around !important;
+}
+
+.align-items-start {
+  -webkit-box-align: start !important;
+      -ms-flex-align: start !important;
+          align-items: flex-start !important;
+}
+
+.align-items-end {
+  -webkit-box-align: end !important;
+      -ms-flex-align: end !important;
+          align-items: flex-end !important;
+}
+
+.align-items-center {
+  -webkit-box-align: center !important;
+      -ms-flex-align: center !important;
+          align-items: center !important;
+}
+
+.align-items-baseline {
+  -webkit-box-align: baseline !important;
+      -ms-flex-align: baseline !important;
+          align-items: baseline !important;
+}
+
+.align-items-stretch {
+  -webkit-box-align: stretch !important;
+      -ms-flex-align: stretch !important;
+          align-items: stretch !important;
+}
+
+.align-content-start {
+  -ms-flex-line-pack: start !important;
+      align-content: flex-start !important;
+}
+
+.align-content-end {
+  -ms-flex-line-pack: end !important;
+      align-content: flex-end !important;
+}
+
+.align-content-center {
+  -ms-flex-line-pack: center !important;
+      align-content: center !important;
+}
+
+.align-content-between {
+  -ms-flex-line-pack: justify !important;
+      align-content: space-between !important;
+}
+
+.align-content-around {
+  -ms-flex-line-pack: distribute !important;
+      align-content: space-around !important;
+}
+
+.align-content-stretch {
+  -ms-flex-line-pack: stretch !important;
+      align-content: stretch !important;
+}
+
+.align-self-auto {
+  -ms-flex-item-align: auto !important;
+      -ms-grid-row-align: auto !important;
+      align-self: auto !important;
+}
+
+.align-self-start {
+  -ms-flex-item-align: start !important;
+      align-self: flex-start !important;
+}
+
+.align-self-end {
+  -ms-flex-item-align: end !important;
+      align-self: flex-end !important;
+}
+
+.align-self-center {
+  -ms-flex-item-align: center !important;
+      -ms-grid-row-align: center !important;
+      align-self: center !important;
+}
+
+.align-self-baseline {
+  -ms-flex-item-align: baseline !important;
+      align-self: baseline !important;
+}
+
+.align-self-stretch {
+  -ms-flex-item-align: stretch !important;
+      -ms-grid-row-align: stretch !important;
+      align-self: stretch !important;
+}
+
+@media (min-width: 576px) {
+  .flex-sm-row {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: row !important;
+            flex-direction: row !important;
+  }
+
+  .flex-sm-column {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: column !important;
+            flex-direction: column !important;
+  }
+
+  .flex-sm-row-reverse {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: row-reverse !important;
+            flex-direction: row-reverse !important;
+  }
+
+  .flex-sm-column-reverse {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: column-reverse !important;
+            flex-direction: column-reverse !important;
+  }
+
+  .flex-sm-wrap {
+    -ms-flex-wrap: wrap !important;
+        flex-wrap: wrap !important;
+  }
+
+  .flex-sm-nowrap {
+    -ms-flex-wrap: nowrap !important;
+        flex-wrap: nowrap !important;
+  }
+
+  .flex-sm-wrap-reverse {
+    -ms-flex-wrap: wrap-reverse !important;
+        flex-wrap: wrap-reverse !important;
+  }
+
+  .justify-content-sm-start {
+    -webkit-box-pack: start !important;
+        -ms-flex-pack: start !important;
+            justify-content: flex-start !important;
+  }
+
+  .justify-content-sm-end {
+    -webkit-box-pack: end !important;
+        -ms-flex-pack: end !important;
+            justify-content: flex-end !important;
+  }
+
+  .justify-content-sm-center {
+    -webkit-box-pack: center !important;
+        -ms-flex-pack: center !important;
+            justify-content: center !important;
+  }
+
+  .justify-content-sm-between {
+    -webkit-box-pack: justify !important;
+        -ms-flex-pack: justify !important;
+            justify-content: space-between !important;
+  }
+
+  .justify-content-sm-around {
+    -ms-flex-pack: distribute !important;
+        justify-content: space-around !important;
+  }
+
+  .align-items-sm-start {
+    -webkit-box-align: start !important;
+        -ms-flex-align: start !important;
+            align-items: flex-start !important;
+  }
+
+  .align-items-sm-end {
+    -webkit-box-align: end !important;
+        -ms-flex-align: end !important;
+            align-items: flex-end !important;
+  }
+
+  .align-items-sm-center {
+    -webkit-box-align: center !important;
+        -ms-flex-align: center !important;
+            align-items: center !important;
+  }
+
+  .align-items-sm-baseline {
+    -webkit-box-align: baseline !important;
+        -ms-flex-align: baseline !important;
+            align-items: baseline !important;
+  }
+
+  .align-items-sm-stretch {
+    -webkit-box-align: stretch !important;
+        -ms-flex-align: stretch !important;
+            align-items: stretch !important;
+  }
+
+  .align-content-sm-start {
+    -ms-flex-line-pack: start !important;
+        align-content: flex-start !important;
+  }
+
+  .align-content-sm-end {
+    -ms-flex-line-pack: end !important;
+        align-content: flex-end !important;
+  }
+
+  .align-content-sm-center {
+    -ms-flex-line-pack: center !important;
+        align-content: center !important;
+  }
+
+  .align-content-sm-between {
+    -ms-flex-line-pack: justify !important;
+        align-content: space-between !important;
+  }
+
+  .align-content-sm-around {
+    -ms-flex-line-pack: distribute !important;
+        align-content: space-around !important;
+  }
+
+  .align-content-sm-stretch {
+    -ms-flex-line-pack: stretch !important;
+        align-content: stretch !important;
+  }
+
+  .align-self-sm-auto {
+    -ms-flex-item-align: auto !important;
+        -ms-grid-row-align: auto !important;
+        align-self: auto !important;
+  }
+
+  .align-self-sm-start {
+    -ms-flex-item-align: start !important;
+        align-self: flex-start !important;
+  }
+
+  .align-self-sm-end {
+    -ms-flex-item-align: end !important;
+        align-self: flex-end !important;
+  }
+
+  .align-self-sm-center {
+    -ms-flex-item-align: center !important;
+        -ms-grid-row-align: center !important;
+        align-self: center !important;
+  }
+
+  .align-self-sm-baseline {
+    -ms-flex-item-align: baseline !important;
+        align-self: baseline !important;
+  }
+
+  .align-self-sm-stretch {
+    -ms-flex-item-align: stretch !important;
+        -ms-grid-row-align: stretch !important;
+        align-self: stretch !important;
+  }
+}
+@media (min-width: 768px) {
+  .flex-md-row {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: row !important;
+            flex-direction: row !important;
+  }
+
+  .flex-md-column {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: column !important;
+            flex-direction: column !important;
+  }
+
+  .flex-md-row-reverse {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: row-reverse !important;
+            flex-direction: row-reverse !important;
+  }
+
+  .flex-md-column-reverse {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: column-reverse !important;
+            flex-direction: column-reverse !important;
+  }
+
+  .flex-md-wrap {
+    -ms-flex-wrap: wrap !important;
+        flex-wrap: wrap !important;
+  }
+
+  .flex-md-nowrap {
+    -ms-flex-wrap: nowrap !important;
+        flex-wrap: nowrap !important;
+  }
+
+  .flex-md-wrap-reverse {
+    -ms-flex-wrap: wrap-reverse !important;
+        flex-wrap: wrap-reverse !important;
+  }
+
+  .justify-content-md-start {
+    -webkit-box-pack: start !important;
+        -ms-flex-pack: start !important;
+            justify-content: flex-start !important;
+  }
+
+  .justify-content-md-end {
+    -webkit-box-pack: end !important;
+        -ms-flex-pack: end !important;
+            justify-content: flex-end !important;
+  }
+
+  .justify-content-md-center {
+    -webkit-box-pack: center !important;
+        -ms-flex-pack: center !important;
+            justify-content: center !important;
+  }
+
+  .justify-content-md-between {
+    -webkit-box-pack: justify !important;
+        -ms-flex-pack: justify !important;
+            justify-content: space-between !important;
+  }
+
+  .justify-content-md-around {
+    -ms-flex-pack: distribute !important;
+        justify-content: space-around !important;
+  }
+
+  .align-items-md-start {
+    -webkit-box-align: start !important;
+        -ms-flex-align: start !important;
+            align-items: flex-start !important;
+  }
+
+  .align-items-md-end {
+    -webkit-box-align: end !important;
+        -ms-flex-align: end !important;
+            align-items: flex-end !important;
+  }
+
+  .align-items-md-center {
+    -webkit-box-align: center !important;
+        -ms-flex-align: center !important;
+            align-items: center !important;
+  }
+
+  .align-items-md-baseline {
+    -webkit-box-align: baseline !important;
+        -ms-flex-align: baseline !important;
+            align-items: baseline !important;
+  }
+
+  .align-items-md-stretch {
+    -webkit-box-align: stretch !important;
+        -ms-flex-align: stretch !important;
+            align-items: stretch !important;
+  }
+
+  .align-content-md-start {
+    -ms-flex-line-pack: start !important;
+        align-content: flex-start !important;
+  }
+
+  .align-content-md-end {
+    -ms-flex-line-pack: end !important;
+        align-content: flex-end !important;
+  }
+
+  .align-content-md-center {
+    -ms-flex-line-pack: center !important;
+        align-content: center !important;
+  }
+
+  .align-content-md-between {
+    -ms-flex-line-pack: justify !important;
+        align-content: space-between !important;
+  }
+
+  .align-content-md-around {
+    -ms-flex-line-pack: distribute !important;
+        align-content: space-around !important;
+  }
+
+  .align-content-md-stretch {
+    -ms-flex-line-pack: stretch !important;
+        align-content: stretch !important;
+  }
+
+  .align-self-md-auto {
+    -ms-flex-item-align: auto !important;
+        -ms-grid-row-align: auto !important;
+        align-self: auto !important;
+  }
+
+  .align-self-md-start {
+    -ms-flex-item-align: start !important;
+        align-self: flex-start !important;
+  }
+
+  .align-self-md-end {
+    -ms-flex-item-align: end !important;
+        align-self: flex-end !important;
+  }
+
+  .align-self-md-center {
+    -ms-flex-item-align: center !important;
+        -ms-grid-row-align: center !important;
+        align-self: center !important;
+  }
+
+  .align-self-md-baseline {
+    -ms-flex-item-align: baseline !important;
+        align-self: baseline !important;
+  }
+
+  .align-self-md-stretch {
+    -ms-flex-item-align: stretch !important;
+        -ms-grid-row-align: stretch !important;
+        align-self: stretch !important;
+  }
+}
+@media (min-width: 992px) {
+  .flex-lg-row {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: row !important;
+            flex-direction: row !important;
+  }
+
+  .flex-lg-column {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: column !important;
+            flex-direction: column !important;
+  }
+
+  .flex-lg-row-reverse {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: row-reverse !important;
+            flex-direction: row-reverse !important;
+  }
+
+  .flex-lg-column-reverse {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: column-reverse !important;
+            flex-direction: column-reverse !important;
+  }
+
+  .flex-lg-wrap {
+    -ms-flex-wrap: wrap !important;
+        flex-wrap: wrap !important;
+  }
+
+  .flex-lg-nowrap {
+    -ms-flex-wrap: nowrap !important;
+        flex-wrap: nowrap !important;
+  }
+
+  .flex-lg-wrap-reverse {
+    -ms-flex-wrap: wrap-reverse !important;
+        flex-wrap: wrap-reverse !important;
+  }
+
+  .justify-content-lg-start {
+    -webkit-box-pack: start !important;
+        -ms-flex-pack: start !important;
+            justify-content: flex-start !important;
+  }
+
+  .justify-content-lg-end {
+    -webkit-box-pack: end !important;
+        -ms-flex-pack: end !important;
+            justify-content: flex-end !important;
+  }
+
+  .justify-content-lg-center {
+    -webkit-box-pack: center !important;
+        -ms-flex-pack: center !important;
+            justify-content: center !important;
+  }
+
+  .justify-content-lg-between {
+    -webkit-box-pack: justify !important;
+        -ms-flex-pack: justify !important;
+            justify-content: space-between !important;
+  }
+
+  .justify-content-lg-around {
+    -ms-flex-pack: distribute !important;
+        justify-content: space-around !important;
+  }
+
+  .align-items-lg-start {
+    -webkit-box-align: start !important;
+        -ms-flex-align: start !important;
+            align-items: flex-start !important;
+  }
+
+  .align-items-lg-end {
+    -webkit-box-align: end !important;
+        -ms-flex-align: end !important;
+            align-items: flex-end !important;
+  }
+
+  .align-items-lg-center {
+    -webkit-box-align: center !important;
+        -ms-flex-align: center !important;
+            align-items: center !important;
+  }
+
+  .align-items-lg-baseline {
+    -webkit-box-align: baseline !important;
+        -ms-flex-align: baseline !important;
+            align-items: baseline !important;
+  }
+
+  .align-items-lg-stretch {
+    -webkit-box-align: stretch !important;
+        -ms-flex-align: stretch !important;
+            align-items: stretch !important;
+  }
+
+  .align-content-lg-start {
+    -ms-flex-line-pack: start !important;
+        align-content: flex-start !important;
+  }
+
+  .align-content-lg-end {
+    -ms-flex-line-pack: end !important;
+        align-content: flex-end !important;
+  }
+
+  .align-content-lg-center {
+    -ms-flex-line-pack: center !important;
+        align-content: center !important;
+  }
+
+  .align-content-lg-between {
+    -ms-flex-line-pack: justify !important;
+        align-content: space-between !important;
+  }
+
+  .align-content-lg-around {
+    -ms-flex-line-pack: distribute !important;
+        align-content: space-around !important;
+  }
+
+  .align-content-lg-stretch {
+    -ms-flex-line-pack: stretch !important;
+        align-content: stretch !important;
+  }
+
+  .align-self-lg-auto {
+    -ms-flex-item-align: auto !important;
+        -ms-grid-row-align: auto !important;
+        align-self: auto !important;
+  }
+
+  .align-self-lg-start {
+    -ms-flex-item-align: start !important;
+        align-self: flex-start !important;
+  }
+
+  .align-self-lg-end {
+    -ms-flex-item-align: end !important;
+        align-self: flex-end !important;
+  }
+
+  .align-self-lg-center {
+    -ms-flex-item-align: center !important;
+        -ms-grid-row-align: center !important;
+        align-self: center !important;
+  }
+
+  .align-self-lg-baseline {
+    -ms-flex-item-align: baseline !important;
+        align-self: baseline !important;
+  }
+
+  .align-self-lg-stretch {
+    -ms-flex-item-align: stretch !important;
+        -ms-grid-row-align: stretch !important;
+        align-self: stretch !important;
+  }
+}
+@media (min-width: 1200px) {
+  .flex-xl-row {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: row !important;
+            flex-direction: row !important;
+  }
+
+  .flex-xl-column {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: normal !important;
+        -ms-flex-direction: column !important;
+            flex-direction: column !important;
+  }
+
+  .flex-xl-row-reverse {
+    -webkit-box-orient: horizontal !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: row-reverse !important;
+            flex-direction: row-reverse !important;
+  }
+
+  .flex-xl-column-reverse {
+    -webkit-box-orient: vertical !important;
+    -webkit-box-direction: reverse !important;
+        -ms-flex-direction: column-reverse !important;
+            flex-direction: column-reverse !important;
+  }
+
+  .flex-xl-wrap {
+    -ms-flex-wrap: wrap !important;
+        flex-wrap: wrap !important;
+  }
+
+  .flex-xl-nowrap {
+    -ms-flex-wrap: nowrap !important;
+        flex-wrap: nowrap !important;
+  }
+
+  .flex-xl-wrap-reverse {
+    -ms-flex-wrap: wrap-reverse !important;
+        flex-wrap: wrap-reverse !important;
+  }
+
+  .justify-content-xl-start {
+    -webkit-box-pack: start !important;
+        -ms-flex-pack: start !important;
+            justify-content: flex-start !important;
+  }
+
+  .justify-content-xl-end {
+    -webkit-box-pack: end !important;
+        -ms-flex-pack: end !important;
+            justify-content: flex-end !important;
+  }
+
+  .justify-content-xl-center {
+    -webkit-box-pack: center !important;
+        -ms-flex-pack: center !important;
+            justify-content: center !important;
+  }
+
+  .justify-content-xl-between {
+    -webkit-box-pack: justify !important;
+        -ms-flex-pack: justify !important;
+            justify-content: space-between !important;
+  }
+
+  .justify-content-xl-around {
+    -ms-flex-pack: distribute !important;
+        justify-content: space-around !important;
+  }
+
+  .align-items-xl-start {
+    -webkit-box-align: start !important;
+        -ms-flex-align: start !important;
+            align-items: flex-start !important;
+  }
+
+  .align-items-xl-end {
+    -webkit-box-align: end !important;
+        -ms-flex-align: end !important;
+            align-items: flex-end !important;
+  }
+
+  .align-items-xl-center {
+    -webkit-box-align: center !important;
+        -ms-flex-align: center !important;
+            align-items: center !important;
+  }
+
+  .align-items-xl-baseline {
+    -webkit-box-align: baseline !important;
+        -ms-flex-align: baseline !important;
+            align-items: baseline !important;
+  }
+
+  .align-items-xl-stretch {
+    -webkit-box-align: stretch !important;
+        -ms-flex-align: stretch !important;
+            align-items: stretch !important;
+  }
+
+  .align-content-xl-start {
+    -ms-flex-line-pack: start !important;
+        align-content: flex-start !important;
+  }
+
+  .align-content-xl-end {
+    -ms-flex-line-pack: end !important;
+        align-content: flex-end !important;
+  }
+
+  .align-content-xl-center {
+    -ms-flex-line-pack: center !important;
+        align-content: center !important;
+  }
+
+  .align-content-xl-between {
+    -ms-flex-line-pack: justify !important;
+        align-content: space-between !important;
+  }
+
+  .align-content-xl-around {
+    -ms-flex-line-pack: distribute !important;
+        align-content: space-around !important;
+  }
+
+  .align-content-xl-stretch {
+    -ms-flex-line-pack: stretch !important;
+        align-content: stretch !important;
+  }
+
+  .align-self-xl-auto {
+    -ms-flex-item-align: auto !important;
+        -ms-grid-row-align: auto !important;
+        align-self: auto !important;
+  }
+
+  .align-self-xl-start {
+    -ms-flex-item-align: start !important;
+        align-self: flex-start !important;
+  }
+
+  .align-self-xl-end {
+    -ms-flex-item-align: end !important;
+        align-self: flex-end !important;
+  }
+
+  .align-self-xl-center {
+    -ms-flex-item-align: center !important;
+        -ms-grid-row-align: center !important;
+        align-self: center !important;
+  }
+
+  .align-self-xl-baseline {
+    -ms-flex-item-align: baseline !important;
+        align-self: baseline !important;
+  }
+
+  .align-self-xl-stretch {
+    -ms-flex-item-align: stretch !important;
+        -ms-grid-row-align: stretch !important;
+        align-self: stretch !important;
+  }
+}
+.w-25 {
+  width: 25% !important;
+}
+
+.w-50 {
+  width: 50% !important;
+}
+
+.w-75 {
+  width: 75% !important;
+}
+
+.w-100 {
+  width: 100% !important;
+}
+
+.h-25 {
+  height: 25% !important;
+}
+
+.h-50 {
+  height: 50% !important;
+}
+
+.h-75 {
+  height: 75% !important;
+}
+
+.h-100 {
+  height: 100% !important;
+}
+
+.mw-100 {
+  max-width: 100% !important;
+}
+
+.mh-100 {
+  max-height: 100% !important;
+}
+
+.m-0 {
+  margin: 0 !important;
+}
+
+.mt-0,
+.my-0 {
+  margin-top: 0 !important;
+}
+
+.mr-0,
+.mx-0 {
+  margin-right: 0 !important;
+}
+
+.mb-0,
+.my-0 {
+  margin-bottom: 0 !important;
+}
+
+.ml-0,
+.mx-0 {
+  margin-left: 0 !important;
+}
+
+.m-1 {
+  margin: 0.25rem !important;
+}
+
+.mt-1,
+.my-1 {
+  margin-top: 0.25rem !important;
+}
+
+.mr-1,
+.mx-1 {
+  margin-right: 0.25rem !important;
+}
+
+.mb-1,
+.my-1 {
+  margin-bottom: 0.25rem !important;
+}
+
+.ml-1,
+.mx-1 {
+  margin-left: 0.25rem !important;
+}
+
+.m-2 {
+  margin: 0.5rem !important;
+}
+
+.mt-2,
+.my-2 {
+  margin-top: 0.5rem !important;
+}
+
+.mr-2,
+.mx-2 {
+  margin-right: 0.5rem !important;
+}
+
+.mb-2,
+.my-2 {
+  margin-bottom: 0.5rem !important;
+}
+
+.ml-2,
+.mx-2 {
+  margin-left: 0.5rem !important;
+}
+
+.m-3 {
+  margin: 1rem !important;
+}
+
+.mt-3,
+.my-3 {
+  margin-top: 1rem !important;
+}
+
+.mr-3,
+.mx-3 {
+  margin-right: 1rem !important;
+}
+
+.mb-3,
+.my-3 {
+  margin-bottom: 1rem !important;
+}
+
+.ml-3,
+.mx-3 {
+  margin-left: 1rem !important;
+}
+
+.m-4 {
+  margin: 1.5rem !important;
+}
+
+.mt-4,
+.my-4 {
+  margin-top: 1.5rem !important;
+}
+
+.mr-4,
+.mx-4 {
+  margin-right: 1.5rem !important;
+}
+
+.mb-4,
+.my-4 {
+  margin-bottom: 1.5rem !important;
+}
+
+.ml-4,
+.mx-4 {
+  margin-left: 1.5rem !important;
+}
+
+.m-5 {
+  margin: 3rem !important;
+}
+
+.mt-5,
+.my-5 {
+  margin-top: 3rem !important;
+}
+
+.mr-5,
+.mx-5 {
+  margin-right: 3rem !important;
+}
+
+.mb-5,
+.my-5 {
+  margin-bottom: 3rem !important;
+}
+
+.ml-5,
+.mx-5 {
+  margin-left: 3rem !important;
+}
+
+.p-0 {
+  padding: 0 !important;
+}
+
+.pt-0,
+.py-0 {
+  padding-top: 0 !important;
+}
+
+.pr-0,
+.px-0 {
+  padding-right: 0 !important;
+}
+
+.pb-0,
+.py-0 {
+  padding-bottom: 0 !important;
+}
+
+.pl-0,
+.px-0 {
+  padding-left: 0 !important;
+}
+
+.p-1 {
+  padding: 0.25rem !important;
+}
+
+.pt-1,
+.py-1 {
+  padding-top: 0.25rem !important;
+}
+
+.pr-1,
+.px-1 {
+  padding-right: 0.25rem !important;
+}
+
+.pb-1,
+.py-1 {
+  padding-bottom: 0.25rem !important;
+}
+
+.pl-1,
+.px-1 {
+  padding-left: 0.25rem !important;
+}
+
+.p-2 {
+  padding: 0.5rem !important;
+}
+
+.pt-2,
+.py-2 {
+  padding-top: 0.5rem !important;
+}
+
+.pr-2,
+.px-2 {
+  padding-right: 0.5rem !important;
+}
+
+.pb-2,
+.py-2 {
+  padding-bottom: 0.5rem !important;
+}
+
+.pl-2,
+.px-2 {
+  padding-left: 0.5rem !important;
+}
+
+.p-3 {
+  padding: 1rem !important;
+}
+
+.pt-3,
+.py-3 {
+  padding-top: 1rem !important;
+}
+
+.pr-3,
+.px-3 {
+  padding-right: 1rem !important;
+}
+
+.pb-3,
+.py-3 {
+  padding-bottom: 1rem !important;
+}
+
+.pl-3,
+.px-3 {
+  padding-left: 1rem !important;
+}
+
+.p-4 {
+  padding: 1.5rem !important;
+}
+
+.pt-4,
+.py-4 {
+  padding-top: 1.5rem !important;
+}
+
+.pr-4,
+.px-4 {
+  padding-right: 1.5rem !important;
+}
+
+.pb-4,
+.py-4 {
+  padding-bottom: 1.5rem !important;
+}
+
+.pl-4,
+.px-4 {
+  padding-left: 1.5rem !important;
+}
+
+.p-5 {
+  padding: 3rem !important;
+}
+
+.pt-5,
+.py-5 {
+  padding-top: 3rem !important;
+}
+
+.pr-5,
+.px-5 {
+  padding-right: 3rem !important;
+}
+
+.pb-5,
+.py-5 {
+  padding-bottom: 3rem !important;
+}
+
+.pl-5,
+.px-5 {
+  padding-left: 3rem !important;
+}
+
+.m-auto {
+  margin: auto !important;
+}
+
+.mt-auto,
+.my-auto {
+  margin-top: auto !important;
+}
+
+.mr-auto,
+.mx-auto {
+  margin-right: auto !important;
+}
+
+.mb-auto,
+.my-auto {
+  margin-bottom: auto !important;
+}
+
+.ml-auto,
+.mx-auto {
+  margin-left: auto !important;
+}
+
+@media (min-width: 576px) {
+  .m-sm-0 {
+    margin: 0 !important;
+  }
+
+  .mt-sm-0,
+  .my-sm-0 {
+    margin-top: 0 !important;
+  }
+
+  .mr-sm-0,
+  .mx-sm-0 {
+    margin-right: 0 !important;
+  }
+
+  .mb-sm-0,
+  .my-sm-0 {
+    margin-bottom: 0 !important;
+  }
+
+  .ml-sm-0,
+  .mx-sm-0 {
+    margin-left: 0 !important;
+  }
+
+  .m-sm-1 {
+    margin: 0.25rem !important;
+  }
+
+  .mt-sm-1,
+  .my-sm-1 {
+    margin-top: 0.25rem !important;
+  }
+
+  .mr-sm-1,
+  .mx-sm-1 {
+    margin-right: 0.25rem !important;
+  }
+
+  .mb-sm-1,
+  .my-sm-1 {
+    margin-bottom: 0.25rem !important;
+  }
+
+  .ml-sm-1,
+  .mx-sm-1 {
+    margin-left: 0.25rem !important;
+  }
+
+  .m-sm-2 {
+    margin: 0.5rem !important;
+  }
+
+  .mt-sm-2,
+  .my-sm-2 {
+    margin-top: 0.5rem !important;
+  }
+
+  .mr-sm-2,
+  .mx-sm-2 {
+    margin-right: 0.5rem !important;
+  }
+
+  .mb-sm-2,
+  .my-sm-2 {
+    margin-bottom: 0.5rem !important;
+  }
+
+  .ml-sm-2,
+  .mx-sm-2 {
+    margin-left: 0.5rem !important;
+  }
+
+  .m-sm-3 {
+    margin: 1rem !important;
+  }
+
+  .mt-sm-3,
+  .my-sm-3 {
+    margin-top: 1rem !important;
+  }
+
+  .mr-sm-3,
+  .mx-sm-3 {
+    margin-right: 1rem !important;
+  }
+
+  .mb-sm-3,
+  .my-sm-3 {
+    margin-bottom: 1rem !important;
+  }
+
+  .ml-sm-3,
+  .mx-sm-3 {
+    margin-left: 1rem !important;
+  }
+
+  .m-sm-4 {
+    margin: 1.5rem !important;
+  }
+
+  .mt-sm-4,
+  .my-sm-4 {
+    margin-top: 1.5rem !important;
+  }
+
+  .mr-sm-4,
+  .mx-sm-4 {
+    margin-right: 1.5rem !important;
+  }
+
+  .mb-sm-4,
+  .my-sm-4 {
+    margin-bottom: 1.5rem !important;
+  }
+
+  .ml-sm-4,
+  .mx-sm-4 {
+    margin-left: 1.5rem !important;
+  }
+
+  .m-sm-5 {
+    margin: 3rem !important;
+  }
+
+  .mt-sm-5,
+  .my-sm-5 {
+    margin-top: 3rem !important;
+  }
+
+  .mr-sm-5,
+  .mx-sm-5 {
+    margin-right: 3rem !important;
+  }
+
+  .mb-sm-5,
+  .my-sm-5 {
+    margin-bottom: 3rem !important;
+  }
+
+  .ml-sm-5,
+  .mx-sm-5 {
+    margin-left: 3rem !important;
+  }
+
+  .p-sm-0 {
+    padding: 0 !important;
+  }
+
+  .pt-sm-0,
+  .py-sm-0 {
+    padding-top: 0 !important;
+  }
+
+  .pr-sm-0,
+  .px-sm-0 {
+    padding-right: 0 !important;
+  }
+
+  .pb-sm-0,
+  .py-sm-0 {
+    padding-bottom: 0 !important;
+  }
+
+  .pl-sm-0,
+  .px-sm-0 {
+    padding-left: 0 !important;
+  }
+
+  .p-sm-1 {
+    padding: 0.25rem !important;
+  }
+
+  .pt-sm-1,
+  .py-sm-1 {
+    padding-top: 0.25rem !important;
+  }
+
+  .pr-sm-1,
+  .px-sm-1 {
+    padding-right: 0.25rem !important;
+  }
+
+  .pb-sm-1,
+  .py-sm-1 {
+    padding-bottom: 0.25rem !important;
+  }
+
+  .pl-sm-1,
+  .px-sm-1 {
+    padding-left: 0.25rem !important;
+  }
+
+  .p-sm-2 {
+    padding: 0.5rem !important;
+  }
+
+  .pt-sm-2,
+  .py-sm-2 {
+    padding-top: 0.5rem !important;
+  }
+
+  .pr-sm-2,
+  .px-sm-2 {
+    padding-right: 0.5rem !important;
+  }
+
+  .pb-sm-2,
+  .py-sm-2 {
+    padding-bottom: 0.5rem !important;
+  }
+
+  .pl-sm-2,
+  .px-sm-2 {
+    padding-left: 0.5rem !important;
+  }
+
+  .p-sm-3 {
+    padding: 1rem !important;
+  }
+
+  .pt-sm-3,
+  .py-sm-3 {
+    padding-top: 1rem !important;
+  }
+
+  .pr-sm-3,
+  .px-sm-3 {
+    padding-right: 1rem !important;
+  }
+
+  .pb-sm-3,
+  .py-sm-3 {
+    padding-bottom: 1rem !important;
+  }
+
+  .pl-sm-3,
+  .px-sm-3 {
+    padding-left: 1rem !important;
+  }
+
+  .p-sm-4 {
+    padding: 1.5rem !important;
+  }
+
+  .pt-sm-4,
+  .py-sm-4 {
+    padding-top: 1.5rem !important;
+  }
+
+  .pr-sm-4,
+  .px-sm-4 {
+    padding-right: 1.5rem !important;
+  }
+
+  .pb-sm-4,
+  .py-sm-4 {
+    padding-bottom: 1.5rem !important;
+  }
+
+  .pl-sm-4,
+  .px-sm-4 {
+    padding-left: 1.5rem !important;
+  }
+
+  .p-sm-5 {
+    padding: 3rem !important;
+  }
+
+  .pt-sm-5,
+  .py-sm-5 {
+    padding-top: 3rem !important;
+  }
+
+  .pr-sm-5,
+  .px-sm-5 {
+    padding-right: 3rem !important;
+  }
+
+  .pb-sm-5,
+  .py-sm-5 {
+    padding-bottom: 3rem !important;
+  }
+
+  .pl-sm-5,
+  .px-sm-5 {
+    padding-left: 3rem !important;
+  }
+
+  .m-sm-auto {
+    margin: auto !important;
+  }
+
+  .mt-sm-auto,
+  .my-sm-auto {
+    margin-top: auto !important;
+  }
+
+  .mr-sm-auto,
+  .mx-sm-auto {
+    margin-right: auto !important;
+  }
+
+  .mb-sm-auto,
+  .my-sm-auto {
+    margin-bottom: auto !important;
+  }
+
+  .ml-sm-auto,
+  .mx-sm-auto {
+    margin-left: auto !important;
+  }
+}
+@media (min-width: 768px) {
+  .m-md-0 {
+    margin: 0 !important;
+  }
+
+  .mt-md-0,
+  .my-md-0 {
+    margin-top: 0 !important;
+  }
+
+  .mr-md-0,
+  .mx-md-0 {
+    margin-right: 0 !important;
+  }
+
+  .mb-md-0,
+  .my-md-0 {
+    margin-bottom: 0 !important;
+  }
+
+  .ml-md-0,
+  .mx-md-0 {
+    margin-left: 0 !important;
+  }
+
+  .m-md-1 {
+    margin: 0.25rem !important;
+  }
+
+  .mt-md-1,
+  .my-md-1 {
+    margin-top: 0.25rem !important;
+  }
+
+  .mr-md-1,
+  .mx-md-1 {
+    margin-right: 0.25rem !important;
+  }
+
+  .mb-md-1,
+  .my-md-1 {
+    margin-bottom: 0.25rem !important;
+  }
+
+  .ml-md-1,
+  .mx-md-1 {
+    margin-left: 0.25rem !important;
+  }
+
+  .m-md-2 {
+    margin: 0.5rem !important;
+  }
+
+  .mt-md-2,
+  .my-md-2 {
+    margin-top: 0.5rem !important;
+  }
+
+  .mr-md-2,
+  .mx-md-2 {
+    margin-right: 0.5rem !important;
+  }
+
+  .mb-md-2,
+  .my-md-2 {
+    margin-bottom: 0.5rem !important;
+  }
+
+  .ml-md-2,
+  .mx-md-2 {
+    margin-left: 0.5rem !important;
+  }
+
+  .m-md-3 {
+    margin: 1rem !important;
+  }
+
+  .mt-md-3,
+  .my-md-3 {
+    margin-top: 1rem !important;
+  }
+
+  .mr-md-3,
+  .mx-md-3 {
+    margin-right: 1rem !important;
+  }
+
+  .mb-md-3,
+  .my-md-3 {
+    margin-bottom: 1rem !important;
+  }
+
+  .ml-md-3,
+  .mx-md-3 {
+    margin-left: 1rem !important;
+  }
+
+  .m-md-4 {
+    margin: 1.5rem !important;
+  }
+
+  .mt-md-4,
+  .my-md-4 {
+    margin-top: 1.5rem !important;
+  }
+
+  .mr-md-4,
+  .mx-md-4 {
+    margin-right: 1.5rem !important;
+  }
+
+  .mb-md-4,
+  .my-md-4 {
+    margin-bottom: 1.5rem !important;
+  }
+
+  .ml-md-4,
+  .mx-md-4 {
+    margin-left: 1.5rem !important;
+  }
+
+  .m-md-5 {
+    margin: 3rem !important;
+  }
+
+  .mt-md-5,
+  .my-md-5 {
+    margin-top: 3rem !important;
+  }
+
+  .mr-md-5,
+  .mx-md-5 {
+    margin-right: 3rem !important;
+  }
+
+  .mb-md-5,
+  .my-md-5 {
+    margin-bottom: 3rem !important;
+  }
+
+  .ml-md-5,
+  .mx-md-5 {
+    margin-left: 3rem !important;
+  }
+
+  .p-md-0 {
+    padding: 0 !important;
+  }
+
+  .pt-md-0,
+  .py-md-0 {
+    padding-top: 0 !important;
+  }
+
+  .pr-md-0,
+  .px-md-0 {
+    padding-right: 0 !important;
+  }
+
+  .pb-md-0,
+  .py-md-0 {
+    padding-bottom: 0 !important;
+  }
+
+  .pl-md-0,
+  .px-md-0 {
+    padding-left: 0 !important;
+  }
+
+  .p-md-1 {
+    padding: 0.25rem !important;
+  }
+
+  .pt-md-1,
+  .py-md-1 {
+    padding-top: 0.25rem !important;
+  }
+
+  .pr-md-1,
+  .px-md-1 {
+    padding-right: 0.25rem !important;
+  }
+
+  .pb-md-1,
+  .py-md-1 {
+    padding-bottom: 0.25rem !important;
+  }
+
+  .pl-md-1,
+  .px-md-1 {
+    padding-left: 0.25rem !important;
+  }
+
+  .p-md-2 {
+    padding: 0.5rem !important;
+  }
+
+  .pt-md-2,
+  .py-md-2 {
+    padding-top: 0.5rem !important;
+  }
+
+  .pr-md-2,
+  .px-md-2 {
+    padding-right: 0.5rem !important;
+  }
+
+  .pb-md-2,
+  .py-md-2 {
+    padding-bottom: 0.5rem !important;
+  }
+
+  .pl-md-2,
+  .px-md-2 {
+    padding-left: 0.5rem !important;
+  }
+
+  .p-md-3 {
+    padding: 1rem !important;
+  }
+
+  .pt-md-3,
+  .py-md-3 {
+    padding-top: 1rem !important;
+  }
+
+  .pr-md-3,
+  .px-md-3 {
+    padding-right: 1rem !important;
+  }
+
+  .pb-md-3,
+  .py-md-3 {
+    padding-bottom: 1rem !important;
+  }
+
+  .pl-md-3,
+  .px-md-3 {
+    padding-left: 1rem !important;
+  }
+
+  .p-md-4 {
+    padding: 1.5rem !important;
+  }
+
+  .pt-md-4,
+  .py-md-4 {
+    padding-top: 1.5rem !important;
+  }
+
+  .pr-md-4,
+  .px-md-4 {
+    padding-right: 1.5rem !important;
+  }
+
+  .pb-md-4,
+  .py-md-4 {
+    padding-bottom: 1.5rem !important;
+  }
+
+  .pl-md-4,
+  .px-md-4 {
+    padding-left: 1.5rem !important;
+  }
+
+  .p-md-5 {
+    padding: 3rem !important;
+  }
+
+  .pt-md-5,
+  .py-md-5 {
+    padding-top: 3rem !important;
+  }
+
+  .pr-md-5,
+  .px-md-5 {
+    padding-right: 3rem !important;
+  }
+
+  .pb-md-5,
+  .py-md-5 {
+    padding-bottom: 3rem !important;
+  }
+
+  .pl-md-5,
+  .px-md-5 {
+    padding-left: 3rem !important;
+  }
+
+  .m-md-auto {
+    margin: auto !important;
+  }
+
+  .mt-md-auto,
+  .my-md-auto {
+    margin-top: auto !important;
+  }
+
+  .mr-md-auto,
+  .mx-md-auto {
+    margin-right: auto !important;
+  }
+
+  .mb-md-auto,
+  .my-md-auto {
+    margin-bottom: auto !important;
+  }
+
+  .ml-md-auto,
+  .mx-md-auto {
+    margin-left: auto !important;
+  }
+}
+@media (min-width: 992px) {
+  .m-lg-0 {
+    margin: 0 !important;
+  }
+
+  .mt-lg-0,
+  .my-lg-0 {
+    margin-top: 0 !important;
+  }
+
+  .mr-lg-0,
+  .mx-lg-0 {
+    margin-right: 0 !important;
+  }
+
+  .mb-lg-0,
+  .my-lg-0 {
+    margin-bottom: 0 !important;
+  }
+
+  .ml-lg-0,
+  .mx-lg-0 {
+    margin-left: 0 !important;
+  }
+
+  .m-lg-1 {
+    margin: 0.25rem !important;
+  }
+
+  .mt-lg-1,
+  .my-lg-1 {
+    margin-top: 0.25rem !important;
+  }
+
+  .mr-lg-1,
+  .mx-lg-1 {
+    margin-right: 0.25rem !important;
+  }
+
+  .mb-lg-1,
+  .my-lg-1 {
+    margin-bottom: 0.25rem !important;
+  }
+
+  .ml-lg-1,
+  .mx-lg-1 {
+    margin-left: 0.25rem !important;
+  }
+
+  .m-lg-2 {
+    margin: 0.5rem !important;
+  }
+
+  .mt-lg-2,
+  .my-lg-2 {
+    margin-top: 0.5rem !important;
+  }
+
+  .mr-lg-2,
+  .mx-lg-2 {
+    margin-right: 0.5rem !important;
+  }
+
+  .mb-lg-2,
+  .my-lg-2 {
+    margin-bottom: 0.5rem !important;
+  }
+
+  .ml-lg-2,
+  .mx-lg-2 {
+    margin-left: 0.5rem !important;
+  }
+
+  .m-lg-3 {
+    margin: 1rem !important;
+  }
+
+  .mt-lg-3,
+  .my-lg-3 {
+    margin-top: 1rem !important;
+  }
+
+  .mr-lg-3,
+  .mx-lg-3 {
+    margin-right: 1rem !important;
+  }
+
+  .mb-lg-3,
+  .my-lg-3 {
+    margin-bottom: 1rem !important;
+  }
+
+  .ml-lg-3,
+  .mx-lg-3 {
+    margin-left: 1rem !important;
+  }
+
+  .m-lg-4 {
+    margin: 1.5rem !important;
+  }
+
+  .mt-lg-4,
+  .my-lg-4 {
+    margin-top: 1.5rem !important;
+  }
+
+  .mr-lg-4,
+  .mx-lg-4 {
+    margin-right: 1.5rem !important;
+  }
+
+  .mb-lg-4,
+  .my-lg-4 {
+    margin-bottom: 1.5rem !important;
+  }
+
+  .ml-lg-4,
+  .mx-lg-4 {
+    margin-left: 1.5rem !important;
+  }
+
+  .m-lg-5 {
+    margin: 3rem !important;
+  }
+
+  .mt-lg-5,
+  .my-lg-5 {
+    margin-top: 3rem !important;
+  }
+
+  .mr-lg-5,
+  .mx-lg-5 {
+    margin-right: 3rem !important;
+  }
+
+  .mb-lg-5,
+  .my-lg-5 {
+    margin-bottom: 3rem !important;
+  }
+
+  .ml-lg-5,
+  .mx-lg-5 {
+    margin-left: 3rem !important;
+  }
+
+  .p-lg-0 {
+    padding: 0 !important;
+  }
+
+  .pt-lg-0,
+  .py-lg-0 {
+    padding-top: 0 !important;
+  }
+
+  .pr-lg-0,
+  .px-lg-0 {
+    padding-right: 0 !important;
+  }
+
+  .pb-lg-0,
+  .py-lg-0 {
+    padding-bottom: 0 !important;
+  }
+
+  .pl-lg-0,
+  .px-lg-0 {
+    padding-left: 0 !important;
+  }
+
+  .p-lg-1 {
+    padding: 0.25rem !important;
+  }
+
+  .pt-lg-1,
+  .py-lg-1 {
+    padding-top: 0.25rem !important;
+  }
+
+  .pr-lg-1,
+  .px-lg-1 {
+    padding-right: 0.25rem !important;
+  }
+
+  .pb-lg-1,
+  .py-lg-1 {
+    padding-bottom: 0.25rem !important;
+  }
+
+  .pl-lg-1,
+  .px-lg-1 {
+    padding-left: 0.25rem !important;
+  }
+
+  .p-lg-2 {
+    padding: 0.5rem !important;
+  }
+
+  .pt-lg-2,
+  .py-lg-2 {
+    padding-top: 0.5rem !important;
+  }
+
+  .pr-lg-2,
+  .px-lg-2 {
+    padding-right: 0.5rem !important;
+  }
+
+  .pb-lg-2,
+  .py-lg-2 {
+    padding-bottom: 0.5rem !important;
+  }
+
+  .pl-lg-2,
+  .px-lg-2 {
+    padding-left: 0.5rem !important;
+  }
+
+  .p-lg-3 {
+    padding: 1rem !important;
+  }
+
+  .pt-lg-3,
+  .py-lg-3 {
+    padding-top: 1rem !important;
+  }
+
+  .pr-lg-3,
+  .px-lg-3 {
+    padding-right: 1rem !important;
+  }
+
+  .pb-lg-3,
+  .py-lg-3 {
+    padding-bottom: 1rem !important;
+  }
+
+  .pl-lg-3,
+  .px-lg-3 {
+    padding-left: 1rem !important;
+  }
+
+  .p-lg-4 {
+    padding: 1.5rem !important;
+  }
+
+  .pt-lg-4,
+  .py-lg-4 {
+    padding-top: 1.5rem !important;
+  }
+
+  .pr-lg-4,
+  .px-lg-4 {
+    padding-right: 1.5rem !important;
+  }
+
+  .pb-lg-4,
+  .py-lg-4 {
+    padding-bottom: 1.5rem !important;
+  }
+
+  .pl-lg-4,
+  .px-lg-4 {
+    padding-left: 1.5rem !important;
+  }
+
+  .p-lg-5 {
+    padding: 3rem !important;
+  }
+
+  .pt-lg-5,
+  .py-lg-5 {
+    padding-top: 3rem !important;
+  }
+
+  .pr-lg-5,
+  .px-lg-5 {
+    padding-right: 3rem !important;
+  }
+
+  .pb-lg-5,
+  .py-lg-5 {
+    padding-bottom: 3rem !important;
+  }
+
+  .pl-lg-5,
+  .px-lg-5 {
+    padding-left: 3rem !important;
+  }
+
+  .m-lg-auto {
+    margin: auto !important;
+  }
+
+  .mt-lg-auto,
+  .my-lg-auto {
+    margin-top: auto !important;
+  }
+
+  .mr-lg-auto,
+  .mx-lg-auto {
+    margin-right: auto !important;
+  }
+
+  .mb-lg-auto,
+  .my-lg-auto {
+    margin-bottom: auto !important;
+  }
+
+  .ml-lg-auto,
+  .mx-lg-auto {
+    margin-left: auto !important;
+  }
+}
+@media (min-width: 1200px) {
+  .m-xl-0 {
+    margin: 0 !important;
+  }
+
+  .mt-xl-0,
+  .my-xl-0 {
+    margin-top: 0 !important;
+  }
+
+  .mr-xl-0,
+  .mx-xl-0 {
+    margin-right: 0 !important;
+  }
+
+  .mb-xl-0,
+  .my-xl-0 {
+    margin-bottom: 0 !important;
+  }
+
+  .ml-xl-0,
+  .mx-xl-0 {
+    margin-left: 0 !important;
+  }
+
+  .m-xl-1 {
+    margin: 0.25rem !important;
+  }
+
+  .mt-xl-1,
+  .my-xl-1 {
+    margin-top: 0.25rem !important;
+  }
+
+  .mr-xl-1,
+  .mx-xl-1 {
+    margin-right: 0.25rem !important;
+  }
+
+  .mb-xl-1,
+  .my-xl-1 {
+    margin-bottom: 0.25rem !important;
+  }
+
+  .ml-xl-1,
+  .mx-xl-1 {
+    margin-left: 0.25rem !important;
+  }
+
+  .m-xl-2 {
+    margin: 0.5rem !important;
+  }
+
+  .mt-xl-2,
+  .my-xl-2 {
+    margin-top: 0.5rem !important;
+  }
+
+  .mr-xl-2,
+  .mx-xl-2 {
+    margin-right: 0.5rem !important;
+  }
+
+  .mb-xl-2,
+  .my-xl-2 {
+    margin-bottom: 0.5rem !important;
+  }
+
+  .ml-xl-2,
+  .mx-xl-2 {
+    margin-left: 0.5rem !important;
+  }
+
+  .m-xl-3 {
+    margin: 1rem !important;
+  }
+
+  .mt-xl-3,
+  .my-xl-3 {
+    margin-top: 1rem !important;
+  }
+
+  .mr-xl-3,
+  .mx-xl-3 {
+    margin-right: 1rem !important;
+  }
+
+  .mb-xl-3,
+  .my-xl-3 {
+    margin-bottom: 1rem !important;
+  }
+
+  .ml-xl-3,
+  .mx-xl-3 {
+    margin-left: 1rem !important;
+  }
+
+  .m-xl-4 {
+    margin: 1.5rem !important;
+  }
+
+  .mt-xl-4,
+  .my-xl-4 {
+    margin-top: 1.5rem !important;
+  }
+
+  .mr-xl-4,
+  .mx-xl-4 {
+    margin-right: 1.5rem !important;
+  }
+
+  .mb-xl-4,
+  .my-xl-4 {
+    margin-bottom: 1.5rem !important;
+  }
+
+  .ml-xl-4,
+  .mx-xl-4 {
+    margin-left: 1.5rem !important;
+  }
+
+  .m-xl-5 {
+    margin: 3rem !important;
+  }
+
+  .mt-xl-5,
+  .my-xl-5 {
+    margin-top: 3rem !important;
+  }
+
+  .mr-xl-5,
+  .mx-xl-5 {
+    margin-right: 3rem !important;
+  }
+
+  .mb-xl-5,
+  .my-xl-5 {
+    margin-bottom: 3rem !important;
+  }
+
+  .ml-xl-5,
+  .mx-xl-5 {
+    margin-left: 3rem !important;
+  }
+
+  .p-xl-0 {
+    padding: 0 !important;
+  }
+
+  .pt-xl-0,
+  .py-xl-0 {
+    padding-top: 0 !important;
+  }
+
+  .pr-xl-0,
+  .px-xl-0 {
+    padding-right: 0 !important;
+  }
+
+  .pb-xl-0,
+  .py-xl-0 {
+    padding-bottom: 0 !important;
+  }
+
+  .pl-xl-0,
+  .px-xl-0 {
+    padding-left: 0 !important;
+  }
+
+  .p-xl-1 {
+    padding: 0.25rem !important;
+  }
+
+  .pt-xl-1,
+  .py-xl-1 {
+    padding-top: 0.25rem !important;
+  }
+
+  .pr-xl-1,
+  .px-xl-1 {
+    padding-right: 0.25rem !important;
+  }
+
+  .pb-xl-1,
+  .py-xl-1 {
+    padding-bottom: 0.25rem !important;
+  }
+
+  .pl-xl-1,
+  .px-xl-1 {
+    padding-left: 0.25rem !important;
+  }
+
+  .p-xl-2 {
+    padding: 0.5rem !important;
+  }
+
+  .pt-xl-2,
+  .py-xl-2 {
+    padding-top: 0.5rem !important;
+  }
+
+  .pr-xl-2,
+  .px-xl-2 {
+    padding-right: 0.5rem !important;
+  }
+
+  .pb-xl-2,
+  .py-xl-2 {
+    padding-bottom: 0.5rem !important;
+  }
+
+  .pl-xl-2,
+  .px-xl-2 {
+    padding-left: 0.5rem !important;
+  }
+
+  .p-xl-3 {
+    padding: 1rem !important;
+  }
+
+  .pt-xl-3,
+  .py-xl-3 {
+    padding-top: 1rem !important;
+  }
+
+  .pr-xl-3,
+  .px-xl-3 {
+    padding-right: 1rem !important;
+  }
+
+  .pb-xl-3,
+  .py-xl-3 {
+    padding-bottom: 1rem !important;
+  }
+
+  .pl-xl-3,
+  .px-xl-3 {
+    padding-left: 1rem !important;
+  }
+
+  .p-xl-4 {
+    padding: 1.5rem !important;
+  }
+
+  .pt-xl-4,
+  .py-xl-4 {
+    padding-top: 1.5rem !important;
+  }
+
+  .pr-xl-4,
+  .px-xl-4 {
+    padding-right: 1.5rem !important;
+  }
+
+  .pb-xl-4,
+  .py-xl-4 {
+    padding-bottom: 1.5rem !important;
+  }
+
+  .pl-xl-4,
+  .px-xl-4 {
+    padding-left: 1.5rem !important;
+  }
+
+  .p-xl-5 {
+    padding: 3rem !important;
+  }
+
+  .pt-xl-5,
+  .py-xl-5 {
+    padding-top: 3rem !important;
+  }
+
+  .pr-xl-5,
+  .px-xl-5 {
+    padding-right: 3rem !important;
+  }
+
+  .pb-xl-5,
+  .py-xl-5 {
+    padding-bottom: 3rem !important;
+  }
+
+  .pl-xl-5,
+  .px-xl-5 {
+    padding-left: 3rem !important;
+  }
+
+  .m-xl-auto {
+    margin: auto !important;
+  }
+
+  .mt-xl-auto,
+  .my-xl-auto {
+    margin-top: auto !important;
+  }
+
+  .mr-xl-auto,
+  .mx-xl-auto {
+    margin-right: auto !important;
+  }
+
+  .mb-xl-auto,
+  .my-xl-auto {
+    margin-bottom: auto !important;
+  }
+
+  .ml-xl-auto,
+  .mx-xl-auto {
+    margin-left: auto !important;
+  }
+}
+.visible {
+  visibility: visible !important;
+}
+
+.invisible {
+  visibility: hidden !important;
+}
+
+
+.text-justify {
+  text-align: justify !important;
+}
+
+.text-nowrap {
+  white-space: nowrap !important;
+}
+
+.text-truncate {
+  overflow: hidden;
+  text-overflow: ellipsis;
+  white-space: nowrap;
+}
+
+.text-left {
+  text-align: left !important;
+}
+
+.text-right {
+  text-align: right !important;
+}
+
+.text-center {
+  text-align: center !important;
+}
+
+@media (min-width: 576px) {
+  .text-sm-left {
+    text-align: left !important;
+  }
+  .text-sm-right {
+    text-align: right !important;
+  }
+  .text-sm-center {
+    text-align: center !important;
+  }
+}
+
+@media (min-width: 768px) {
+  .text-md-left {
+    text-align: left !important;
+  }
+  .text-md-right {
+    text-align: right !important;
+  }
+  .text-md-center {
+    text-align: center !important;
+  }
+}
+
+@media (min-width: 992px) {
+  .text-lg-left {
+    text-align: left !important;
+  }
+  .text-lg-right {
+    text-align: right !important;
+  }
+  .text-lg-center {
+    text-align: center !important;
+  }
+}
+
+@media (min-width: 1200px) {
+  .text-xl-left {
+    text-align: left !important;
+  }
+  .text-xl-right {
+    text-align: right !important;
+  }
+  .text-xl-center {
+    text-align: center !important;
+  }
+}
+
+.media {
+  display: -webkit-box;
+  display: -ms-flexbox;
+  display: flex;
+  -webkit-box-align: start;
+  -ms-flex-align: start;
+  align-items: flex-start;
+}
+
+.media-body {
+  -webkit-box-flex: 1;
+  -ms-flex: 1;
+  flex: 1;
+}
+
+
+/****** form *******************/
+
+.form-group {
+  margin-bottom: 1rem;
+}
+.form-group label {
+    display: inline-block;
+    margin-bottom: .5rem;
+}
+.form-group .form-control {
+    display: block;
+    width: 100%;
+    padding: .375rem .75rem;
+    line-height: 1.5;
+    background-clip: padding-box;
+    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
+}
+
+.form-group .form-text {
+    display: block;
+    margin-top: .25rem;
+}
+
+.text-muted {
+    color: #6c757d!important;
+}
+
+.form-group.form-check {
+    margin-top:30px;
+	position: relative;
+    display: block;
+    padding-left: 1.25rem;
+}
+.form-check-input {
+    position: absolute;
+    margin-top: .1rem;
+    margin-left: -1.25rem;
+}
+
+
+.table {
+  width: 100%;
+  max-width: 100%;
+  margin-bottom: 1rem;
+  background-color: transparent;
+}
+
+.table th,
+.table td {
+  padding: 0.75rem;
+  vertical-align: top;
+  border-top: 1px solid #dee2e6;
+}
+
+.table thead th {
+  vertical-align: bottom;
+  border-bottom: 2px solid #dee2e6;
+}
+
+.table tbody + tbody {
+  border-top: 2px solid #dee2e6;
+}
+
+.table .table {
+  background-color: #fff;
+}
+
+.table-sm th,
+.table-sm td {
+  padding: 0.3rem;
+}
+
+.table-bordered {
+  border: 1px solid #dee2e6;
+}
+
+.table-bordered th,
+.table-bordered td {
+  border: 1px solid #dee2e6;
+}
+
+.table-bordered thead th,
+.table-bordered thead td {
+  border-bottom-width: 2px;
+}
+
+.table-borderless th,
+.table-borderless td,
+.table-borderless thead th,
+.table-borderless tbody + tbody {
+  border: 0;
+}
+
+.table-striped tbody tr:nth-of-type(odd) {
+  background-color: rgba(0, 0, 0, 0.05);
+}
+
+.table-hover tbody tr:hover {
+  background-color: rgba(0, 0, 0, 0.075);
+}
+
+.table-primary,
+.table-primary > th,
+.table-primary > td {
+  background-color: #b8daff;
+}
+
+.table-hover .table-primary:hover {
+  background-color: #9fcdff;
+}
+
+.table-hover .table-primary:hover > td,
+.table-hover .table-primary:hover > th {
+  background-color: #9fcdff;
+}
+
+.table-secondary,
+.table-secondary > th,
+.table-secondary > td {
+  background-color: #d6d8db;
+}
+
+.table-hover .table-secondary:hover {
+  background-color: #c8cbcf;
+}
+
+.table-hover .table-secondary:hover > td,
+.table-hover .table-secondary:hover > th {
+  background-color: #c8cbcf;
+}
+
+.table-success,
+.table-success > th,
+.table-success > td {
+  background-color: #c3e6cb;
+}
+
+.table-hover .table-success:hover {
+  background-color: #b1dfbb;
+}
+
+.table-hover .table-success:hover > td,
+.table-hover .table-success:hover > th {
+  background-color: #b1dfbb;
+}
+
+.table-info,
+.table-info > th,
+.table-info > td {
+  background-color: #bee5eb;
+}
+
+.table-hover .table-info:hover {
+  background-color: #abdde5;
+}
+
+.table-hover .table-info:hover > td,
+.table-hover .table-info:hover > th {
+  background-color: #abdde5;
+}
+
+.table-warning,
+.table-warning > th,
+.table-warning > td {
+  background-color: #ffeeba;
+}
+
+.table-hover .table-warning:hover {
+  background-color: #ffe8a1;
+}
+
+.table-hover .table-warning:hover > td,
+.table-hover .table-warning:hover > th {
+  background-color: #ffe8a1;
+}
+
+.table-danger,
+.table-danger > th,
+.table-danger > td {
+  background-color: #f5c6cb;
+}
+
+.table-hover .table-danger:hover {
+  background-color: #f1b0b7;
+}
+
+.table-hover .table-danger:hover > td,
+.table-hover .table-danger:hover > th {
+  background-color: #f1b0b7;
+}
+
+.table-light,
+.table-light > th,
+.table-light > td {
+  background-color: #fdfdfe;
+}
+
+.table-hover .table-light:hover {
+  background-color: #ececf6;
+}
+
+.table-hover .table-light:hover > td,
+.table-hover .table-light:hover > th {
+  background-color: #ececf6;
+}
+
+.table-dark,
+.table-dark > th,
+.table-dark > td {
+  background-color: #c6c8ca;
+}
+
+.table-hover .table-dark:hover {
+  background-color: #b9bbbe;
+}
+
+.table-hover .table-dark:hover > td,
+.table-hover .table-dark:hover > th {
+  background-color: #b9bbbe;
+}
+
+.table-active,
+.table-active > th,
+.table-active > td {
+  background-color: rgba(0, 0, 0, 0.075);
+}
+
+.table-hover .table-active:hover {
+  background-color: rgba(0, 0, 0, 0.075);
+}
+
+.table-hover .table-active:hover > td,
+.table-hover .table-active:hover > th {
+  background-color: rgba(0, 0, 0, 0.075);
+}
+
+.table .thead-dark th {
+  color: #fff;
+  background-color: #212529;
+  border-color: #32383e;
+}
+
+.table .thead-light th {
+  color: #495057;
+  background-color: #e9ecef;
+  border-color: #dee2e6;
+}
+
+.table-dark {
+  color: #fff;
+  background-color: #212529;
+}
+
+.table-dark th,
+.table-dark td,
+.table-dark thead th {
+  border-color: #32383e;
+}
+
+.table-dark.table-bordered {
+  border: 0;
+}
+
+.table-dark.table-striped tbody tr:nth-of-type(odd) {
+  background-color: rgba(255, 255, 255, 0.05);
+}
+
+.table-dark.table-hover tbody tr:hover {
+  background-color: rgba(255, 255, 255, 0.075);
+}
+
+@media (max-width: 575.98px) {
+  .table-responsive-sm {
+    display: block;
+    width: 100%;
+    overflow-x: auto;
+    -webkit-overflow-scrolling: touch;
+    -ms-overflow-style: -ms-autohiding-scrollbar;
+  }
+  .table-responsive-sm > .table-bordered {
+    border: 0;
+  }
+}
+
+@media (max-width: 767.98px) {
+  .table-responsive-md {
+    display: block;
+    width: 100%;
+    overflow-x: auto;
+    -webkit-overflow-scrolling: touch;
+    -ms-overflow-style: -ms-autohiding-scrollbar;
+  }
+  .table-responsive-md > .table-bordered {
+    border: 0;
+  }
+}
+
+@media (max-width: 991.98px) {
+  .table-responsive-lg {
+    display: block;
+    width: 100%;
+    overflow-x: auto;
+    -webkit-overflow-scrolling: touch;
+    -ms-overflow-style: -ms-autohiding-scrollbar;
+  }
+  .table-responsive-lg > .table-bordered {
+    border: 0;
+  }
+}
+
+@media (max-width: 1199.98px) {
+  .table-responsive-xl {
+    display: block;
+    width: 100%;
+    overflow-x: auto;
+    -webkit-overflow-scrolling: touch;
+    -ms-overflow-style: -ms-autohiding-scrollbar;
+  }
+  .table-responsive-xl > .table-bordered {
+    border: 0;
+  }
+}
+
+.table-responsive {
+  display: block;
+  width: 100%;
+  overflow-x: auto;
+  -webkit-overflow-scrolling: touch;
+  -ms-overflow-style: -ms-autohiding-scrollbar;
+}
+
+.table-responsive > .table-bordered {
+  border: 0;
+}
+
+.clearfix {
+    clear: both;
+    width: 100%;
+    padding: 0; 
+}
Index: branches/b-20180319.02/css/bootstrap/grid.min.css
===================================================================
--- branches/b-20180319.02/css/bootstrap/grid.min.css	(revision 3579)
+++ branches/b-20180319.02/css/bootstrap/grid.min.css	(revision 3579)
@@ -0,0 +1,6 @@
+/*!
+ * Bootstrap Grid v4.0.0 (https://getbootstrap.com)
+ * Copyright 2011-2018 The Bootstrap Authors
+ * Copyright 2011-2018 Twitter, Inc.
+ * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
+ */@-ms-viewport{width:device-width}html{box-sizing:border-box;-ms-overflow-style:scrollbar}*,*::before,*::after{box-sizing:inherit}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width: 576px){.container{max-width:540px}}@media (min-width: 768px){.container{max-width:720px}}@media (min-width: 992px){.container{max-width:960px}}@media (min-width: 1200px){.container{max-width:1140px}}.container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.row{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*="col-"]{padding-right:0;padding-left:0}.col-1,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-10,.col-11,.col-12,.col,.col-auto,.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm,.col-sm-auto,.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12,.col-md,.col-md-auto,.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg,.col-lg-auto,.col-xl-1,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl,.col-xl-auto{position:relative;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-1{-webkit-box-flex:0;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-2{-webkit-box-flex:0;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-webkit-box-flex:0;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-5{-webkit-box-flex:0;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-webkit-box-flex:0;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-8{-webkit-box-flex:0;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-webkit-box-flex:0;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-11{-webkit-box-flex:0;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-1{margin-left:8.3333333333%}.offset-2{margin-left:16.6666666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.3333333333%}.offset-5{margin-left:41.6666666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.3333333333%}.offset-8{margin-left:66.6666666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.3333333333%}.offset-11{margin-left:91.6666666667%}@media (min-width: 576px){.col-sm{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-sm-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-sm-1{-webkit-box-flex:0;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-sm-2{-webkit-box-flex:0;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-4{-webkit-box-flex:0;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-sm-5{-webkit-box-flex:0;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-sm-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-sm-7{-webkit-box-flex:0;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-sm-8{-webkit-box-flex:0;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-sm-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-sm-10{-webkit-box-flex:0;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-sm-11{-webkit-box-flex:0;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-sm-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-sm-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-sm-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-sm-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-sm-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-sm-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-sm-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-sm-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-sm-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-sm-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-sm-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-sm-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-sm-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-sm-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-sm-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-sm-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.3333333333%}.offset-sm-2{margin-left:16.6666666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.3333333333%}.offset-sm-5{margin-left:41.6666666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.3333333333%}.offset-sm-8{margin-left:66.6666666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.3333333333%}.offset-sm-11{margin-left:91.6666666667%}}@media (min-width: 768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-md-1{-webkit-box-flex:0;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-md-2{-webkit-box-flex:0;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-webkit-box-flex:0;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-md-5{-webkit-box-flex:0;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-md-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-webkit-box-flex:0;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-md-8{-webkit-box-flex:0;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-md-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-webkit-box-flex:0;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-md-11{-webkit-box-flex:0;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-md-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-md-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-md-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-md-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-md-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-md-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-md-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-md-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-md-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-md-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-md-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-md-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-md-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-md-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-md-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.3333333333%}.offset-md-2{margin-left:16.6666666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.3333333333%}.offset-md-5{margin-left:41.6666666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.3333333333%}.offset-md-8{margin-left:66.6666666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.3333333333%}.offset-md-11{margin-left:91.6666666667%}}@media (min-width: 992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-lg-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-lg-1{-webkit-box-flex:0;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-lg-2{-webkit-box-flex:0;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-webkit-box-flex:0;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-lg-5{-webkit-box-flex:0;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-lg-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-webkit-box-flex:0;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-lg-8{-webkit-box-flex:0;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-lg-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-webkit-box-flex:0;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-lg-11{-webkit-box-flex:0;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-lg-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-lg-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-lg-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-lg-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-lg-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-lg-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-lg-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-lg-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-lg-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-lg-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-lg-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-lg-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-lg-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-lg-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-lg-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.3333333333%}.offset-lg-2{margin-left:16.6666666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.3333333333%}.offset-lg-5{margin-left:41.6666666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.3333333333%}.offset-lg-8{margin-left:66.6666666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.3333333333%}.offset-lg-11{margin-left:91.6666666667%}}@media (min-width: 1200px){.col-xl{-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-xl-auto{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:none}.col-xl-1{-webkit-box-flex:0;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-xl-2{-webkit-box-flex:0;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-3{-webkit-box-flex:0;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-xl-4{-webkit-box-flex:0;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-xl-5{-webkit-box-flex:0;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-xl-6{-webkit-box-flex:0;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-xl-7{-webkit-box-flex:0;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-xl-8{-webkit-box-flex:0;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-xl-9{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-xl-10{-webkit-box-flex:0;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-xl-11{-webkit-box-flex:0;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-xl-12{-webkit-box-flex:0;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-xl-first{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.order-xl-last{-webkit-box-ordinal-group:14;-ms-flex-order:13;order:13}.order-xl-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-xl-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-xl-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-xl-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-xl-4{-webkit-box-ordinal-group:5;-ms-flex-order:4;order:4}.order-xl-5{-webkit-box-ordinal-group:6;-ms-flex-order:5;order:5}.order-xl-6{-webkit-box-ordinal-group:7;-ms-flex-order:6;order:6}.order-xl-7{-webkit-box-ordinal-group:8;-ms-flex-order:7;order:7}.order-xl-8{-webkit-box-ordinal-group:9;-ms-flex-order:8;order:8}.order-xl-9{-webkit-box-ordinal-group:10;-ms-flex-order:9;order:9}.order-xl-10{-webkit-box-ordinal-group:11;-ms-flex-order:10;order:10}.order-xl-11{-webkit-box-ordinal-group:12;-ms-flex-order:11;order:11}.order-xl-12{-webkit-box-ordinal-group:13;-ms-flex-order:12;order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.3333333333%}.offset-xl-2{margin-left:16.6666666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.3333333333%}.offset-xl-5{margin-left:41.6666666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.3333333333%}.offset-xl-8{margin-left:66.6666666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.3333333333%}.offset-xl-11{margin-left:91.6666666667%}}.d-none{display:none !important}.d-inline{display:inline !important}.d-inline-block{display:inline-block !important}.d-block{display:block !important}.d-table{display:table !important}.d-table-row{display:table-row !important}.d-table-cell{display:table-cell !important}.d-flex{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important}.d-inline-flex{display:-webkit-inline-box !important;display:-ms-inline-flexbox !important;display:inline-flex !important}@media (min-width: 576px){.d-sm-none{display:none !important}.d-sm-inline{display:inline !important}.d-sm-inline-block{display:inline-block !important}.d-sm-block{display:block !important}.d-sm-table{display:table !important}.d-sm-table-row{display:table-row !important}.d-sm-table-cell{display:table-cell !important}.d-sm-flex{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important}.d-sm-inline-flex{display:-webkit-inline-box !important;display:-ms-inline-flexbox !important;display:inline-flex !important}}@media (min-width: 768px){.d-md-none{display:none !important}.d-md-inline{display:inline !important}.d-md-inline-block{display:inline-block !important}.d-md-block{display:block !important}.d-md-table{display:table !important}.d-md-table-row{display:table-row !important}.d-md-table-cell{display:table-cell !important}.d-md-flex{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important}.d-md-inline-flex{display:-webkit-inline-box !important;display:-ms-inline-flexbox !important;display:inline-flex !important}}@media (min-width: 992px){.d-lg-none{display:none !important}.d-lg-inline{display:inline !important}.d-lg-inline-block{display:inline-block !important}.d-lg-block{display:block !important}.d-lg-table{display:table !important}.d-lg-table-row{display:table-row !important}.d-lg-table-cell{display:table-cell !important}.d-lg-flex{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important}.d-lg-inline-flex{display:-webkit-inline-box !important;display:-ms-inline-flexbox !important;display:inline-flex !important}}@media (min-width: 1200px){.d-xl-none{display:none !important}.d-xl-inline{display:inline !important}.d-xl-inline-block{display:inline-block !important}.d-xl-block{display:block !important}.d-xl-table{display:table !important}.d-xl-table-row{display:table-row !important}.d-xl-table-cell{display:table-cell !important}.d-xl-flex{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important}.d-xl-inline-flex{display:-webkit-inline-box !important;display:-ms-inline-flexbox !important;display:inline-flex !important}}@media print{.d-print-none{display:none !important}.d-print-inline{display:inline !important}.d-print-inline-block{display:inline-block !important}.d-print-block{display:block !important}.d-print-table{display:table !important}.d-print-table-row{display:table-row !important}.d-print-table-cell{display:table-cell !important}.d-print-flex{display:-webkit-box !important;display:-ms-flexbox !important;display:flex !important}.d-print-inline-flex{display:-webkit-inline-box !important;display:-ms-inline-flexbox !important;display:inline-flex !important}}.flex-row{-webkit-box-orient:horizontal !important;-webkit-box-direction:normal !important;-ms-flex-direction:row !important;flex-direction:row !important}.flex-column{-webkit-box-orient:vertical !important;-webkit-box-direction:normal !important;-ms-flex-direction:column !important;flex-direction:column !important}.flex-row-reverse{-webkit-box-orient:horizontal !important;-webkit-box-direction:reverse !important;-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-column-reverse{-webkit-box-orient:vertical !important;-webkit-box-direction:reverse !important;-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.justify-content-start{-webkit-box-pack:start !important;-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-end{-webkit-box-pack:end !important;-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-center{-webkit-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important}.justify-content-between{-webkit-box-pack:justify !important;-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-start{-webkit-box-align:start !important;-ms-flex-align:start !important;align-items:flex-start !important}.align-items-end{-webkit-box-align:end !important;-ms-flex-align:end !important;align-items:flex-end !important}.align-items-center{-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important}.align-items-baseline{-webkit-box-align:baseline !important;-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-stretch{-webkit-box-align:stretch !important;-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-auto{-ms-flex-item-align:auto !important;-ms-grid-row-align:auto !important;align-self:auto !important}.align-self-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-center{-ms-flex-item-align:center !important;-ms-grid-row-align:center !important;align-self:center !important}.align-self-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-stretch{-ms-flex-item-align:stretch !important;-ms-grid-row-align:stretch !important;align-self:stretch !important}@media (min-width: 576px){.flex-sm-row{-webkit-box-orient:horizontal !important;-webkit-box-direction:normal !important;-ms-flex-direction:row !important;flex-direction:row !important}.flex-sm-column{-webkit-box-orient:vertical !important;-webkit-box-direction:normal !important;-ms-flex-direction:column !important;flex-direction:column !important}.flex-sm-row-reverse{-webkit-box-orient:horizontal !important;-webkit-box-direction:reverse !important;-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-sm-column-reverse{-webkit-box-orient:vertical !important;-webkit-box-direction:reverse !important;-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-sm-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-sm-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-sm-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.justify-content-sm-start{-webkit-box-pack:start !important;-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-sm-end{-webkit-box-pack:end !important;-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-sm-center{-webkit-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important}.justify-content-sm-between{-webkit-box-pack:justify !important;-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-sm-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-sm-start{-webkit-box-align:start !important;-ms-flex-align:start !important;align-items:flex-start !important}.align-items-sm-end{-webkit-box-align:end !important;-ms-flex-align:end !important;align-items:flex-end !important}.align-items-sm-center{-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important}.align-items-sm-baseline{-webkit-box-align:baseline !important;-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-sm-stretch{-webkit-box-align:stretch !important;-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-sm-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-sm-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-sm-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-sm-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-sm-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-sm-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-sm-auto{-ms-flex-item-align:auto !important;-ms-grid-row-align:auto !important;align-self:auto !important}.align-self-sm-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-sm-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-sm-center{-ms-flex-item-align:center !important;-ms-grid-row-align:center !important;align-self:center !important}.align-self-sm-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-sm-stretch{-ms-flex-item-align:stretch !important;-ms-grid-row-align:stretch !important;align-self:stretch !important}}@media (min-width: 768px){.flex-md-row{-webkit-box-orient:horizontal !important;-webkit-box-direction:normal !important;-ms-flex-direction:row !important;flex-direction:row !important}.flex-md-column{-webkit-box-orient:vertical !important;-webkit-box-direction:normal !important;-ms-flex-direction:column !important;flex-direction:column !important}.flex-md-row-reverse{-webkit-box-orient:horizontal !important;-webkit-box-direction:reverse !important;-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-md-column-reverse{-webkit-box-orient:vertical !important;-webkit-box-direction:reverse !important;-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-md-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-md-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-md-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.justify-content-md-start{-webkit-box-pack:start !important;-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-md-end{-webkit-box-pack:end !important;-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-md-center{-webkit-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important}.justify-content-md-between{-webkit-box-pack:justify !important;-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-md-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-md-start{-webkit-box-align:start !important;-ms-flex-align:start !important;align-items:flex-start !important}.align-items-md-end{-webkit-box-align:end !important;-ms-flex-align:end !important;align-items:flex-end !important}.align-items-md-center{-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important}.align-items-md-baseline{-webkit-box-align:baseline !important;-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-md-stretch{-webkit-box-align:stretch !important;-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-md-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-md-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-md-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-md-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-md-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-md-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-md-auto{-ms-flex-item-align:auto !important;-ms-grid-row-align:auto !important;align-self:auto !important}.align-self-md-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-md-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-md-center{-ms-flex-item-align:center !important;-ms-grid-row-align:center !important;align-self:center !important}.align-self-md-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-md-stretch{-ms-flex-item-align:stretch !important;-ms-grid-row-align:stretch !important;align-self:stretch !important}}@media (min-width: 992px){.flex-lg-row{-webkit-box-orient:horizontal !important;-webkit-box-direction:normal !important;-ms-flex-direction:row !important;flex-direction:row !important}.flex-lg-column{-webkit-box-orient:vertical !important;-webkit-box-direction:normal !important;-ms-flex-direction:column !important;flex-direction:column !important}.flex-lg-row-reverse{-webkit-box-orient:horizontal !important;-webkit-box-direction:reverse !important;-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-lg-column-reverse{-webkit-box-orient:vertical !important;-webkit-box-direction:reverse !important;-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-lg-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-lg-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-lg-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.justify-content-lg-start{-webkit-box-pack:start !important;-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-lg-end{-webkit-box-pack:end !important;-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-lg-center{-webkit-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important}.justify-content-lg-between{-webkit-box-pack:justify !important;-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-lg-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-lg-start{-webkit-box-align:start !important;-ms-flex-align:start !important;align-items:flex-start !important}.align-items-lg-end{-webkit-box-align:end !important;-ms-flex-align:end !important;align-items:flex-end !important}.align-items-lg-center{-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important}.align-items-lg-baseline{-webkit-box-align:baseline !important;-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-lg-stretch{-webkit-box-align:stretch !important;-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-lg-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-lg-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-lg-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-lg-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-lg-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-lg-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-lg-auto{-ms-flex-item-align:auto !important;-ms-grid-row-align:auto !important;align-self:auto !important}.align-self-lg-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-lg-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-lg-center{-ms-flex-item-align:center !important;-ms-grid-row-align:center !important;align-self:center !important}.align-self-lg-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-lg-stretch{-ms-flex-item-align:stretch !important;-ms-grid-row-align:stretch !important;align-self:stretch !important}}@media (min-width: 1200px){.flex-xl-row{-webkit-box-orient:horizontal !important;-webkit-box-direction:normal !important;-ms-flex-direction:row !important;flex-direction:row !important}.flex-xl-column{-webkit-box-orient:vertical !important;-webkit-box-direction:normal !important;-ms-flex-direction:column !important;flex-direction:column !important}.flex-xl-row-reverse{-webkit-box-orient:horizontal !important;-webkit-box-direction:reverse !important;-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-xl-column-reverse{-webkit-box-orient:vertical !important;-webkit-box-direction:reverse !important;-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-xl-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-xl-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-xl-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.justify-content-xl-start{-webkit-box-pack:start !important;-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-xl-end{-webkit-box-pack:end !important;-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-xl-center{-webkit-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important}.justify-content-xl-between{-webkit-box-pack:justify !important;-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-xl-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-xl-start{-webkit-box-align:start !important;-ms-flex-align:start !important;align-items:flex-start !important}.align-items-xl-end{-webkit-box-align:end !important;-ms-flex-align:end !important;align-items:flex-end !important}.align-items-xl-center{-webkit-box-align:center !important;-ms-flex-align:center !important;align-items:center !important}.align-items-xl-baseline{-webkit-box-align:baseline !important;-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-xl-stretch{-webkit-box-align:stretch !important;-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-xl-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-xl-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-xl-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-xl-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-xl-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-xl-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-xl-auto{-ms-flex-item-align:auto !important;-ms-grid-row-align:auto !important;align-self:auto !important}.align-self-xl-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-xl-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-xl-center{-ms-flex-item-align:center !important;-ms-grid-row-align:center !important;align-self:center !important}.align-self-xl-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-xl-stretch{-ms-flex-item-align:stretch !important;-ms-grid-row-align:stretch !important;align-self:stretch !important}}.w-25{width:25% !important}.w-50{width:50% !important}.w-75{width:75% !important}.w-100{width:100% !important}.h-25{height:25% !important}.h-50{height:50% !important}.h-75{height:75% !important}.h-100{height:100% !important}.mw-100{max-width:100% !important}.mh-100{max-height:100% !important}.m-0{margin:0 !important}.mt-0,.my-0{margin-top:0 !important}.mr-0,.mx-0{margin-right:0 !important}.mb-0,.my-0{margin-bottom:0 !important}.ml-0,.mx-0{margin-left:0 !important}.m-1{margin:.25rem !important}.mt-1,.my-1{margin-top:.25rem !important}.mr-1,.mx-1{margin-right:.25rem !important}.mb-1,.my-1{margin-bottom:.25rem !important}.ml-1,.mx-1{margin-left:.25rem !important}.m-2{margin:.5rem !important}.mt-2,.my-2{margin-top:.5rem !important}.mr-2,.mx-2{margin-right:.5rem !important}.mb-2,.my-2{margin-bottom:.5rem !important}.ml-2,.mx-2{margin-left:.5rem !important}.m-3{margin:1rem !important}.mt-3,.my-3{margin-top:1rem !important}.mr-3,.mx-3{margin-right:1rem !important}.mb-3,.my-3{margin-bottom:1rem !important}.ml-3,.mx-3{margin-left:1rem !important}.m-4{margin:1.5rem !important}.mt-4,.my-4{margin-top:1.5rem !important}.mr-4,.mx-4{margin-right:1.5rem !important}.mb-4,.my-4{margin-bottom:1.5rem !important}.ml-4,.mx-4{margin-left:1.5rem !important}.m-5{margin:3rem !important}.mt-5,.my-5{margin-top:3rem !important}.mr-5,.mx-5{margin-right:3rem !important}.mb-5,.my-5{margin-bottom:3rem !important}.ml-5,.mx-5{margin-left:3rem !important}.p-0{padding:0 !important}.pt-0,.py-0{padding-top:0 !important}.pr-0,.px-0{padding-right:0 !important}.pb-0,.py-0{padding-bottom:0 !important}.pl-0,.px-0{padding-left:0 !important}.p-1{padding:.25rem !important}.pt-1,.py-1{padding-top:.25rem !important}.pr-1,.px-1{padding-right:.25rem !important}.pb-1,.py-1{padding-bottom:.25rem !important}.pl-1,.px-1{padding-left:.25rem !important}.p-2{padding:.5rem !important}.pt-2,.py-2{padding-top:.5rem !important}.pr-2,.px-2{padding-right:.5rem !important}.pb-2,.py-2{padding-bottom:.5rem !important}.pl-2,.px-2{padding-left:.5rem !important}.p-3{padding:1rem !important}.pt-3,.py-3{padding-top:1rem !important}.pr-3,.px-3{padding-right:1rem !important}.pb-3,.py-3{padding-bottom:1rem !important}.pl-3,.px-3{padding-left:1rem !important}.p-4{padding:1.5rem !important}.pt-4,.py-4{padding-top:1.5rem !important}.pr-4,.px-4{padding-right:1.5rem !important}.pb-4,.py-4{padding-bottom:1.5rem !important}.pl-4,.px-4{padding-left:1.5rem !important}.p-5{padding:3rem !important}.pt-5,.py-5{padding-top:3rem !important}.pr-5,.px-5{padding-right:3rem !important}.pb-5,.py-5{padding-bottom:3rem !important}.pl-5,.px-5{padding-left:3rem !important}.m-auto{margin:auto !important}.mt-auto,.my-auto{margin-top:auto !important}.mr-auto,.mx-auto{margin-right:auto !important}.mb-auto,.my-auto{margin-bottom:auto !important}.ml-auto,.mx-auto{margin-left:auto !important}@media (min-width: 576px){.m-sm-0{margin:0 !important}.mt-sm-0,.my-sm-0{margin-top:0 !important}.mr-sm-0,.mx-sm-0{margin-right:0 !important}.mb-sm-0,.my-sm-0{margin-bottom:0 !important}.ml-sm-0,.mx-sm-0{margin-left:0 !important}.m-sm-1{margin:.25rem !important}.mt-sm-1,.my-sm-1{margin-top:.25rem !important}.mr-sm-1,.mx-sm-1{margin-right:.25rem !important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem !important}.ml-sm-1,.mx-sm-1{margin-left:.25rem !important}.m-sm-2{margin:.5rem !important}.mt-sm-2,.my-sm-2{margin-top:.5rem !important}.mr-sm-2,.mx-sm-2{margin-right:.5rem !important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem !important}.ml-sm-2,.mx-sm-2{margin-left:.5rem !important}.m-sm-3{margin:1rem !important}.mt-sm-3,.my-sm-3{margin-top:1rem !important}.mr-sm-3,.mx-sm-3{margin-right:1rem !important}.mb-sm-3,.my-sm-3{margin-bottom:1rem !important}.ml-sm-3,.mx-sm-3{margin-left:1rem !important}.m-sm-4{margin:1.5rem !important}.mt-sm-4,.my-sm-4{margin-top:1.5rem !important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem !important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem !important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem !important}.m-sm-5{margin:3rem !important}.mt-sm-5,.my-sm-5{margin-top:3rem !important}.mr-sm-5,.mx-sm-5{margin-right:3rem !important}.mb-sm-5,.my-sm-5{margin-bottom:3rem !important}.ml-sm-5,.mx-sm-5{margin-left:3rem !important}.p-sm-0{padding:0 !important}.pt-sm-0,.py-sm-0{padding-top:0 !important}.pr-sm-0,.px-sm-0{padding-right:0 !important}.pb-sm-0,.py-sm-0{padding-bottom:0 !important}.pl-sm-0,.px-sm-0{padding-left:0 !important}.p-sm-1{padding:.25rem !important}.pt-sm-1,.py-sm-1{padding-top:.25rem !important}.pr-sm-1,.px-sm-1{padding-right:.25rem !important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem !important}.pl-sm-1,.px-sm-1{padding-left:.25rem !important}.p-sm-2{padding:.5rem !important}.pt-sm-2,.py-sm-2{padding-top:.5rem !important}.pr-sm-2,.px-sm-2{padding-right:.5rem !important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem !important}.pl-sm-2,.px-sm-2{padding-left:.5rem !important}.p-sm-3{padding:1rem !important}.pt-sm-3,.py-sm-3{padding-top:1rem !important}.pr-sm-3,.px-sm-3{padding-right:1rem !important}.pb-sm-3,.py-sm-3{padding-bottom:1rem !important}.pl-sm-3,.px-sm-3{padding-left:1rem !important}.p-sm-4{padding:1.5rem !important}.pt-sm-4,.py-sm-4{padding-top:1.5rem !important}.pr-sm-4,.px-sm-4{padding-right:1.5rem !important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem !important}.pl-sm-4,.px-sm-4{padding-left:1.5rem !important}.p-sm-5{padding:3rem !important}.pt-sm-5,.py-sm-5{padding-top:3rem !important}.pr-sm-5,.px-sm-5{padding-right:3rem !important}.pb-sm-5,.py-sm-5{padding-bottom:3rem !important}.pl-sm-5,.px-sm-5{padding-left:3rem !important}.m-sm-auto{margin:auto !important}.mt-sm-auto,.my-sm-auto{margin-top:auto !important}.mr-sm-auto,.mx-sm-auto{margin-right:auto !important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto !important}.ml-sm-auto,.mx-sm-auto{margin-left:auto !important}}@media (min-width: 768px){.m-md-0{margin:0 !important}.mt-md-0,.my-md-0{margin-top:0 !important}.mr-md-0,.mx-md-0{margin-right:0 !important}.mb-md-0,.my-md-0{margin-bottom:0 !important}.ml-md-0,.mx-md-0{margin-left:0 !important}.m-md-1{margin:.25rem !important}.mt-md-1,.my-md-1{margin-top:.25rem !important}.mr-md-1,.mx-md-1{margin-right:.25rem !important}.mb-md-1,.my-md-1{margin-bottom:.25rem !important}.ml-md-1,.mx-md-1{margin-left:.25rem !important}.m-md-2{margin:.5rem !important}.mt-md-2,.my-md-2{margin-top:.5rem !important}.mr-md-2,.mx-md-2{margin-right:.5rem !important}.mb-md-2,.my-md-2{margin-bottom:.5rem !important}.ml-md-2,.mx-md-2{margin-left:.5rem !important}.m-md-3{margin:1rem !important}.mt-md-3,.my-md-3{margin-top:1rem !important}.mr-md-3,.mx-md-3{margin-right:1rem !important}.mb-md-3,.my-md-3{margin-bottom:1rem !important}.ml-md-3,.mx-md-3{margin-left:1rem !important}.m-md-4{margin:1.5rem !important}.mt-md-4,.my-md-4{margin-top:1.5rem !important}.mr-md-4,.mx-md-4{margin-right:1.5rem !important}.mb-md-4,.my-md-4{margin-bottom:1.5rem !important}.ml-md-4,.mx-md-4{margin-left:1.5rem !important}.m-md-5{margin:3rem !important}.mt-md-5,.my-md-5{margin-top:3rem !important}.mr-md-5,.mx-md-5{margin-right:3rem !important}.mb-md-5,.my-md-5{margin-bottom:3rem !important}.ml-md-5,.mx-md-5{margin-left:3rem !important}.p-md-0{padding:0 !important}.pt-md-0,.py-md-0{padding-top:0 !important}.pr-md-0,.px-md-0{padding-right:0 !important}.pb-md-0,.py-md-0{padding-bottom:0 !important}.pl-md-0,.px-md-0{padding-left:0 !important}.p-md-1{padding:.25rem !important}.pt-md-1,.py-md-1{padding-top:.25rem !important}.pr-md-1,.px-md-1{padding-right:.25rem !important}.pb-md-1,.py-md-1{padding-bottom:.25rem !important}.pl-md-1,.px-md-1{padding-left:.25rem !important}.p-md-2{padding:.5rem !important}.pt-md-2,.py-md-2{padding-top:.5rem !important}.pr-md-2,.px-md-2{padding-right:.5rem !important}.pb-md-2,.py-md-2{padding-bottom:.5rem !important}.pl-md-2,.px-md-2{padding-left:.5rem !important}.p-md-3{padding:1rem !important}.pt-md-3,.py-md-3{padding-top:1rem !important}.pr-md-3,.px-md-3{padding-right:1rem !important}.pb-md-3,.py-md-3{padding-bottom:1rem !important}.pl-md-3,.px-md-3{padding-left:1rem !important}.p-md-4{padding:1.5rem !important}.pt-md-4,.py-md-4{padding-top:1.5rem !important}.pr-md-4,.px-md-4{padding-right:1.5rem !important}.pb-md-4,.py-md-4{padding-bottom:1.5rem !important}.pl-md-4,.px-md-4{padding-left:1.5rem !important}.p-md-5{padding:3rem !important}.pt-md-5,.py-md-5{padding-top:3rem !important}.pr-md-5,.px-md-5{padding-right:3rem !important}.pb-md-5,.py-md-5{padding-bottom:3rem !important}.pl-md-5,.px-md-5{padding-left:3rem !important}.m-md-auto{margin:auto !important}.mt-md-auto,.my-md-auto{margin-top:auto !important}.mr-md-auto,.mx-md-auto{margin-right:auto !important}.mb-md-auto,.my-md-auto{margin-bottom:auto !important}.ml-md-auto,.mx-md-auto{margin-left:auto !important}}@media (min-width: 992px){.m-lg-0{margin:0 !important}.mt-lg-0,.my-lg-0{margin-top:0 !important}.mr-lg-0,.mx-lg-0{margin-right:0 !important}.mb-lg-0,.my-lg-0{margin-bottom:0 !important}.ml-lg-0,.mx-lg-0{margin-left:0 !important}.m-lg-1{margin:.25rem !important}.mt-lg-1,.my-lg-1{margin-top:.25rem !important}.mr-lg-1,.mx-lg-1{margin-right:.25rem !important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem !important}.ml-lg-1,.mx-lg-1{margin-left:.25rem !important}.m-lg-2{margin:.5rem !important}.mt-lg-2,.my-lg-2{margin-top:.5rem !important}.mr-lg-2,.mx-lg-2{margin-right:.5rem !important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem !important}.ml-lg-2,.mx-lg-2{margin-left:.5rem !important}.m-lg-3{margin:1rem !important}.mt-lg-3,.my-lg-3{margin-top:1rem !important}.mr-lg-3,.mx-lg-3{margin-right:1rem !important}.mb-lg-3,.my-lg-3{margin-bottom:1rem !important}.ml-lg-3,.mx-lg-3{margin-left:1rem !important}.m-lg-4{margin:1.5rem !important}.mt-lg-4,.my-lg-4{margin-top:1.5rem !important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem !important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem !important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem !important}.m-lg-5{margin:3rem !important}.mt-lg-5,.my-lg-5{margin-top:3rem !important}.mr-lg-5,.mx-lg-5{margin-right:3rem !important}.mb-lg-5,.my-lg-5{margin-bottom:3rem !important}.ml-lg-5,.mx-lg-5{margin-left:3rem !important}.p-lg-0{padding:0 !important}.pt-lg-0,.py-lg-0{padding-top:0 !important}.pr-lg-0,.px-lg-0{padding-right:0 !important}.pb-lg-0,.py-lg-0{padding-bottom:0 !important}.pl-lg-0,.px-lg-0{padding-left:0 !important}.p-lg-1{padding:.25rem !important}.pt-lg-1,.py-lg-1{padding-top:.25rem !important}.pr-lg-1,.px-lg-1{padding-right:.25rem !important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem !important}.pl-lg-1,.px-lg-1{padding-left:.25rem !important}.p-lg-2{padding:.5rem !important}.pt-lg-2,.py-lg-2{padding-top:.5rem !important}.pr-lg-2,.px-lg-2{padding-right:.5rem !important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem !important}.pl-lg-2,.px-lg-2{padding-left:.5rem !important}.p-lg-3{padding:1rem !important}.pt-lg-3,.py-lg-3{padding-top:1rem !important}.pr-lg-3,.px-lg-3{padding-right:1rem !important}.pb-lg-3,.py-lg-3{padding-bottom:1rem !important}.pl-lg-3,.px-lg-3{padding-left:1rem !important}.p-lg-4{padding:1.5rem !important}.pt-lg-4,.py-lg-4{padding-top:1.5rem !important}.pr-lg-4,.px-lg-4{padding-right:1.5rem !important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem !important}.pl-lg-4,.px-lg-4{padding-left:1.5rem !important}.p-lg-5{padding:3rem !important}.pt-lg-5,.py-lg-5{padding-top:3rem !important}.pr-lg-5,.px-lg-5{padding-right:3rem !important}.pb-lg-5,.py-lg-5{padding-bottom:3rem !important}.pl-lg-5,.px-lg-5{padding-left:3rem !important}.m-lg-auto{margin:auto !important}.mt-lg-auto,.my-lg-auto{margin-top:auto !important}.mr-lg-auto,.mx-lg-auto{margin-right:auto !important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto !important}.ml-lg-auto,.mx-lg-auto{margin-left:auto !important}}@media (min-width: 1200px){.m-xl-0{margin:0 !important}.mt-xl-0,.my-xl-0{margin-top:0 !important}.mr-xl-0,.mx-xl-0{margin-right:0 !important}.mb-xl-0,.my-xl-0{margin-bottom:0 !important}.ml-xl-0,.mx-xl-0{margin-left:0 !important}.m-xl-1{margin:.25rem !important}.mt-xl-1,.my-xl-1{margin-top:.25rem !important}.mr-xl-1,.mx-xl-1{margin-right:.25rem !important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem !important}.ml-xl-1,.mx-xl-1{margin-left:.25rem !important}.m-xl-2{margin:.5rem !important}.mt-xl-2,.my-xl-2{margin-top:.5rem !important}.mr-xl-2,.mx-xl-2{margin-right:.5rem !important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem !important}.ml-xl-2,.mx-xl-2{margin-left:.5rem !important}.m-xl-3{margin:1rem !important}.mt-xl-3,.my-xl-3{margin-top:1rem !important}.mr-xl-3,.mx-xl-3{margin-right:1rem !important}.mb-xl-3,.my-xl-3{margin-bottom:1rem !important}.ml-xl-3,.mx-xl-3{margin-left:1rem !important}.m-xl-4{margin:1.5rem !important}.mt-xl-4,.my-xl-4{margin-top:1.5rem !important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem !important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem !important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem !important}.m-xl-5{margin:3rem !important}.mt-xl-5,.my-xl-5{margin-top:3rem !important}.mr-xl-5,.mx-xl-5{margin-right:3rem !important}.mb-xl-5,.my-xl-5{margin-bottom:3rem !important}.ml-xl-5,.mx-xl-5{margin-left:3rem !important}.p-xl-0{padding:0 !important}.pt-xl-0,.py-xl-0{padding-top:0 !important}.pr-xl-0,.px-xl-0{padding-right:0 !important}.pb-xl-0,.py-xl-0{padding-bottom:0 !important}.pl-xl-0,.px-xl-0{padding-left:0 !important}.p-xl-1{padding:.25rem !important}.pt-xl-1,.py-xl-1{padding-top:.25rem !important}.pr-xl-1,.px-xl-1{padding-right:.25rem !important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem !important}.pl-xl-1,.px-xl-1{padding-left:.25rem !important}.p-xl-2{padding:.5rem !important}.pt-xl-2,.py-xl-2{padding-top:.5rem !important}.pr-xl-2,.px-xl-2{padding-right:.5rem !important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem !important}.pl-xl-2,.px-xl-2{padding-left:.5rem !important}.p-xl-3{padding:1rem !important}.pt-xl-3,.py-xl-3{padding-top:1rem !important}.pr-xl-3,.px-xl-3{padding-right:1rem !important}.pb-xl-3,.py-xl-3{padding-bottom:1rem !important}.pl-xl-3,.px-xl-3{padding-left:1rem !important}.p-xl-4{padding:1.5rem !important}.pt-xl-4,.py-xl-4{padding-top:1.5rem !important}.pr-xl-4,.px-xl-4{padding-right:1.5rem !important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem !important}.pl-xl-4,.px-xl-4{padding-left:1.5rem !important}.p-xl-5{padding:3rem !important}.pt-xl-5,.py-xl-5{padding-top:3rem !important}.pr-xl-5,.px-xl-5{padding-right:3rem !important}.pb-xl-5,.py-xl-5{padding-bottom:3rem !important}.pl-xl-5,.px-xl-5{padding-left:3rem !important}.m-xl-auto{margin:auto !important}.mt-xl-auto,.my-xl-auto{margin-top:auto !important}.mr-xl-auto,.mx-xl-auto{margin-right:auto !important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto !important}.ml-xl-auto,.mx-xl-auto{margin-left:auto !important}}.visible{visibility:visible !important}.invisible{visibility:hidden !important}
Index: branches/b-20180319.02/css/bootstrap/pagadito_responsive.css
===================================================================
--- branches/b-20180319.02/css/bootstrap/pagadito_responsive.css	(revision 3579)
+++ branches/b-20180319.02/css/bootstrap/pagadito_responsive.css	(revision 3579)
@@ -0,0 +1,905 @@
+/*!
+ * Pagadito.com - 2018 / Green Navy -  v1.8.0 ()
+ * 2018 Green Navy / Josue Lopez @pepitoch
+ * Pagadito.com - 2018/03/22 / Green Navy  - pagadito_responsive.css */
+
+/************************* GENERAL *************************/
+
+.pg-cambiar-idioma{
+	max-width: 1115px;
+}
+#header{
+	max-width: 1115px;
+ display: block;
+ margin: 0 auto;
+}
+#content {
+ max-width: 1115px;
+ display: block;
+ margin: 0 auto;
+}
+#content {
+ max-width: 1115px;
+ display: block;
+ margin: 0 auto;
+}
+#div_secctions .div_section_content {
+ max-width: 1115px;
+ display: block;
+
+}
+#footer.pg-footer-simple {
+ max-width: 1115px;
+	background-size: 100%;
+}
+#footer #sec_pagadito_footer {
+ max-width: 1115px;
+ display: block;
+ margin: 0 auto;
+}
+#footer #sec_pagaditogroup_footer #center {
+ max-width: 1115px;
+ display: block;
+ margin: 0 auto;
+}
+
+#btn-abra-su-billetera{
+    display: none !important;
+}
+
+@media (min-width: 1114.9px) {
+	.pg-sec-banner {
+	max-width: 1115px;
+	display: block;
+	margin: 0 auto;
+	}
+	#div_secctions {
+	background: #eeeeee;
+	}
+	.div_sec_acp #sec_banner {
+	display: block;
+	margin: 0 auto;
+	max-width: 1115px;
+	}
+	
+	
+	.pg-cambiar-idioma{
+	padding-left: 0;
+	padding-right: 0;
+	}
+	.pg-section-dashboard{
+	padding-left: 0;
+	padding-right: 0;
+	}
+	#content .wide-content.container-fluid{
+	padding-left: 15px;
+	padding-right: 15px;
+	}
+	div.detallecuerpo{
+	padding-left: 0;
+	padding-right: 0;
+	}
+	#header .container-fluid{
+	padding-left: 0;
+	padding-right: 0;
+	}
+	
+}
+
+
+.pg-cambiar-idioma{
+ position: relative;
+
+
+ text-align: right;
+ margin-top: 7px;
+
+}
+hr{
+ width: 97.5%;
+ border: 0.5px solid rgba(91, 40, 62, 0.5);
+}
+
+/************************* HOME *************************/
+.img-fluid {
+ max-width: 100%;
+ height: auto;
+}
+.list-inline {
+ padding-left: 0;
+ list-style: none;
+}
+.list-inline-item:not(:last-child) {
+ margin-right: .5rem;
+}
+
+.list-inline-item {
+ display: inline-block;
+}
+
+#nav_sites li.list-inline-item:not(:last-child) {
+ margin-right: 2.5rem;
+}
+
+
+
+@media (min-width: 1114.9px) {
+	#usr_paso_C #usr_col_left .usr_tbl .usr_td_lbl{
+	max-width: 155px;
+	width: 155px;
+	margin-right: 10px;
+	}
+	#usr_paso_C #usr_col_right .usr_tbl .usr_td_lbl{
+	max-width: 210px;
+	width: 210px;
+	margin-right: 10px;
+	}
+	#usr_paso_C .usr_frm #usr_col_left .usr_text_field, #usr_paso_C .usr_frm #usr_col_left .usr_select_field, #usr_paso_C .usr_frm #usr_col_right .usr_text_field, #usr_paso_C .usr_frm #usr_col_right .usr_select_field {
+	max-width: 295px;
+	display: inline;
+	}
+	.form-group.form-check {
+	padding-left: 0;
+	}
+	.form-group.row .col {
+	width: 109px;
+	}
+	#usr_paso_C .usr_frm #usr_col_left #selDia, #usr_paso_C .usr_frm #usr_col_left #selMes, #usr_paso_C .usr_frm #usr_col_right #selDiaContacto, #usr_paso_C .usr_frm #usr_col_right #selMesContacto {
+	width: 55px;
+	}
+	#usr_paso_C .usr_frm #usr_col_left #selYear, #usr_paso_C .usr_frm #usr_col_right #selYearContacto {
+	width: 55px;
+	}
+	#frmProcRegistroFaseC #usr_col_left .form-group small{
+	padding-left: 170px;
+	}
+	#frmProcRegistroFaseC #usr_col_right .form-group small{
+	padding-left: 225px;
+	}
+	.form-terms{
+	padding-left: 189px !important;
+	max-width: 475px;
+	text-align: justify;
+	}
+	.pg-label-date-right {
+	text-align: right !important;
+	padding-right: 0 !important;
+	margin-right: 0 !important;
+	width: 225px !important;
+	max-width: 225px !important;
+	}
+	.pg-label-date-left {
+	text-align: right !important;
+	padding-right: 0 !important;
+	margin-right: 0 !important;
+	width: 170px !important;
+	max-width: 170px !important;
+	}
+	
+	#usr_paso_2 .usr_tbl .usr_td_lbl, #usr_paso_5 .usr_tbl .usr_td_lbl {
+	max-width: 175px;
+	width: 175px;
+	height: 25px;
+	padding: 0px 15px 7px 0;
+	vertical-align: top;
+	}
+	#usr_paso_2 .usr_frm .usr_text_field, #usr_paso_2 .usr_frm .usr_select_field, #usr_paso_2 .usr_frm .usr_textarea_field,
+	#usr_paso_5 .usr_frm .usr_text_field, #usr_paso_5 .usr_frm .usr_select_field, #usr_paso_5 .usr_frm .usr_textarea_field {
+	max-width: 212px;
+	display: inline-block;
+	}
+	.detallecuerpo form select, .detallecuerpo form input[type=text] {
+	height: 25px;
+	font-size: 11px !important;
+	}
+	#frmNewInvoice, #verNewInvoice, #frmEnlace {
+		width: 810px;
+	}
+	#tblItems td:nth-child(1) {
+		text-align: left;
+		width: 520px;
+	}
+
+	#tblItems td {
+		padding: 5px;
+		text-align: right;
+		vertical-align: middle;
+		width: 70px;
+	}
+	.usr_frm .usr_checkbox_field.form-check-input{
+		position: relative;
+		margin-top: 0;
+		margin-left: 0;
+	}
+	
+}
+@media (max-width: 1113.9px) {
+	.detallecuerpo form select, .detallecuerpo form input[type=text]{
+	height: 30px;
+	font-size: 11px !important;
+	}
+}
+
+
+@media (min-width: 768px) {
+	.art_pg, .pg-transparent, .pg-primary, .pg-secondary{
+		background: transparent !important;
+		background-color: transparent !important;
+	}
+	.pg-menu-mobile, #pg-menu-mobile-screen{
+		display:none;
+	}
+	#pg-nav-icon{
+		display: none;
+	}
+	#tblItems td:nth-child(1) {
+		text-align: left;
+		width: 520px;
+	}
+
+	#tblItems td {
+		padding: 5px;
+		text-align: right;
+		vertical-align: middle;
+		width: 70px;
+	}
+	#frmAgregarTerminal .informacion input[type="text"], 
+	#frmAgregarTerminal .informacion textarea, 
+	#frmAgregarTerminal .informacion select {
+		max-width: 300px;
+		display: inline-block;
+	}
+}
+@media (max-width: 768px) {
+	.pg-menu-mobile{
+	background: #582643;
+	width: 100%;
+	
+	text-align: center;
+	margin: 10px 0px 15px 0px;
+	border-radius: 3px;
+	border-bottom: 3px solid #05b3be;
+	}
+	.pg-menu-mobile:hover{
+	background: #05b3be;
+	border-bottom: 3px solid #582643;
+	cursor:pointer;
+	}
+	
+	#pg-nav-icon {
+	 width: 35px;
+	 height: 40px;
+	 position: relative;
+	 z-index:100;
+	 margin: 0;
+	 -webkit-transform: rotate(0deg);
+	 -moz-transform: rotate(0deg);
+	 -o-transform: rotate(0deg);
+	 transform: rotate(0deg);
+	 -webkit-transition: .5s ease-in-out;
+	 -moz-transition: .5s ease-in-out;
+	 -o-transition: .5s ease-in-out;
+	 transition: .5s ease-in-out;
+	 cursor: pointer;
+	 right: 0;
+	left: 0;
+	text-align: right;
+	display: block;
+	margin: 0 0 0 auto;
+	
+	}
+	#pg-nav-icon.open {
+	height: 40px;
+	position: fixed;
+	right: 10px;
+	top: 0;
+	margin-top: 19px;
+	}
+
+	#pg-nav-icon span {
+	 display: block;
+	 position: absolute;
+	 height: 5px;
+	 width: 100%;
+	 background: #582643;
+	 border-radius: 9px;
+	 opacity: 1;
+	 left: 0;
+	 -webkit-transform: rotate(0deg);
+	 -moz-transform: rotate(0deg);
+	 -o-transform: rotate(0deg);
+	 transform: rotate(0deg);
+	 -webkit-transition: .25s ease-in-out;
+	 -moz-transition: .25s ease-in-out;
+	 -o-transition: .25s ease-in-out;
+	 transition: .25s ease-in-out;
+	}
+
+	#pg-nav-icon.open span {
+	 background: #2bd9e4;
+	}
+
+	#pg-nav-icon span:nth-child(1) {
+	 top: 0px;
+	}
+
+	#pg-nav-icon span:nth-child(2) {
+	 top: 9px;
+	}
+
+	#pg-nav-icon span:nth-child(3) {
+	 top: 18px;
+	}
+
+	#pg-nav-icon.open span:nth-child(1) {
+	 top: 18px;
+	 -webkit-transform: rotate(135deg);
+	 -moz-transform: rotate(135deg);
+	 -o-transform: rotate(135deg);
+	 transform: rotate(135deg);
+	}
+
+	#pg-nav-icon.open span:nth-child(2) {
+	 opacity: 0;
+	 left: -60px;
+	}
+
+	#pg-nav-icon.open span:nth-child(3) {
+	 top: 18px;
+	 -webkit-transform: rotate(-135deg);
+	 -moz-transform: rotate(-135deg);
+	 -o-transform: rotate(-135deg);
+	 transform: rotate(-135deg);
+	}
+	
+	
+	.pg-btn-text{
+	color: #ffffff;
+	font-size: 24px;
+	font-weight: 400;
+	width: 100%;
+	display: block;
+	padding: 15px 2px 17px 2px;
+	}
+	#pg-menu-mobile-screen{
+	position: fixed;
+	background: rgba(88, 38, 67, 0.99);
+	top: 0;
+	left: 0;
+	bottom: -1px;
+	right: 0;
+	z-index: 12;
+	overflow: hidden;
+	padding: 80px 20px 20px 20px;
+	display: none;
+	}
+	#pg-menu-mobile-screen ul{
+	text-align: center;
+	}
+	#pg-menu-mobile-screen ul>li a{
+	display: block;
+	color: #2bd9e4;
+	font-size: 20px;
+	font-weight: 700;
+	padding: 15px 1px 15px 1px;
+	}
+	#pg-menu-mobile-screen ul>li a:hover{
+	color: #ffffff;
+	}
+	#pg-close{
+	position: absolute;
+	color: #592844;
+	background: #2bd9e4;
+	width: 50px;
+	height: 50px;
+	text-align: center;
+	top: 0;
+	right: 0;
+	cursor: pointer;
+	padding: 12px 2px 2px 2px;
+	font-size: 24px;
+	font-weight: bold;
+	text-shadow: 1px 2px 0px white;
+	z-index: 15;
+	}
+	#pg-close:hover{
+	
+	color: white;
+	background: #12adb7;
+	text-shadow: 1px 2px 0px #5a2945;
+	}
+	#nav_countries{
+	position: absolute;
+	z-index: 13;
+	top: 0;
+	bottom: 0;
+	width: 110px;
+	margin: 15px 0 0 0;
+	}
+	.pg-menu-desktop #nav_main_menu, .pg-menu-desktop #nav_countries{
+	display:none;
+	}
+}
+
+
+@media (min-width: 576.1px) {
+	#div_secctions #sec_pagos #nav_sites ul li{
+	margin-top:20px;
+	}
+}
+@media (max-width: 576px) {
+	
+	#header #div_login #frm-login #inputs input[type="input"]{
+	width: 100%;
+	margin-bottom: 10px;
+	height: 40px;
+	}
+	#header #div_login #frm-login #inputs input[type="password"]{
+	width: 100%;
+	margin-bottom: 10px;
+	height: 40px;
+	}
+	#header #div_login #frm-login #inputs #link_recuperar_password{
+	width: 45px;
+	height: 40px;
+	font-size: 25px;
+	padding-top: 8px;
+	}
+	#header #div_login #frm-login #botones{
+	margin-bottom: 20px;
+	}
+	#header #div_login #frm-login #botones .pg_btn_gris,
+	#header #div_login #frm-login #botones .pg_btn_verde{
+	width: 100%;
+	height: 40px;
+        margin: 0;
+	}
+	#header #div_login #frm-login #botones .pg_btn_verde{
+	background: transparent;
+	color: #3c979e;
+	text-decoration: underline;
+	}
+	
+	#div_secctions #sec_pagos #nav_sites ul li{
+	margin-right: 0;
+	display: inline-block;
+	width: 35%;
+	margin: 15px auto 15px auto;
+	}
+	#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li h3{
+	width: 100%;
+	float: none;
+	text-align: center;
+	}
+	#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li h3 #img_facil_y_amigable{
+	margin: 0;
+	}
+	#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li .div_texto_caracteristicas{
+	 float: none;
+	margin-top: 20px;
+	text-align: center;
+	}
+	#footer{
+	text-align: center;
+	}
+	#footer .optionsList>li{
+	text-align: center;
+	}
+	#footer #sec_pagadito_footer .column{
+	border-top: 1px solid rgba(113, 57, 88, 0.1);
+	padding-top: 20px;
+	text-align: center;
+	}
+	#footer #sec_pagadito_footer .column #certificados{
+	width: 50%;
+	position: relative;
+	left: 0;
+	right: 0;
+	display: block;
+	margin: 0 auto;
+	text-align: center;
+	}
+	#footer #sec_pagadito_footer .column #frm_suscribete{
+	width: calc(100% - 175px);
+	position: relative;
+	left: 0;
+	right: 0;
+	display: block;
+	margin: 0 auto;
+	text-align: center;
+	}
+	#footer #sec_pagadito_footer .column #frm_suscribete #txt_suscribete_email{
+	width:235px;
+	}
+	#footer #sec_pagadito_footer .column .optionsList{
+	margin-bottom: 20px;
+	}
+        #botones .recuperar_pass {
+            font-size: 14px;
+            width: 100%;
+            text-align: center;
+            margin:10px 0 10px 0;
+        }
+        #btn-abra-su-billetera{
+            display: inherit !important;
+        }
+	
+}
+@media (max-width: 488px) {
+	#div_secctions #sec_pagos #nav_sites ul li {
+	width: 50%;
+	}
+	#footer #sec_pagadito_footer .column #frm_suscribete {
+	width: calc(100% - 60px);
+	}
+}
+
+
+
+/************************* abra-su-cuenta-pagadito-pagos-en-linea/ *************************/
+.pg-sec-banner {
+	padding: 125px 1px 125px 11px;
+}
+.pg-sec-banner-2 {
+	padding: 30px 15px 30px 15px;
+}
+@media (max-width: 768px) {
+	.pg-sec-banner {
+	padding: 125px 1px 125px 11px;
+	background: rgba(255, 255, 255, 0.9);
+	}
+	.pg-sec-banner-2 {
+	background: rgba(255, 255, 255, 0.9);
+	}
+}
+
+/************************* pagadito-personas-pagos-en-linea/ *************************/
+.pg-media-body{
+	border-left: 1px solid #eee;
+ padding-left: 6px;
+}
+
+/******************* background colors **************************/
+.pg-fafafa{
+background-color: #FAFAFA;
+}
+
+/******************* transaprents background colors **************************/
+.pg-primary{
+	background-color: rgba(218, 184, 203, 0.8);
+	padding: 100px 15px 100px 15px;
+}
+.pg-secondary{
+	background-color: rgba(218, 184, 203, 0.8);
+}
+
+
+
+/************************* modulos *************************/
+input.vl_numero{
+	height: 30px;
+	font-size: 14px;
+}
+
+.pg-titulo-ret{
+	background: white;
+ margin-top: 0;
+ padding-bottom: 15px;
+}
+.pg-panel-color-left{
+	background-image: linear-gradient( to right, #5B283E 33.3333%, white 33% );
+	
+}
+.pg-panel-color-left .col-12.col-sm-4{
+	color: white;
+}
+.pg-large-text{
+	word-break: break-word;
+}
+.pg-form-file input[type=file]{
+	width: 100%;
+}
+.pg-table-fixed{
+	table-layout: fixed;
+}
+
+.form-group-icon label {
+	display: block;
+}
+.pg-block{
+	display: block !important;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li #editarCorreo input[type=text]#txtCorreo{
+	width: 100%;
+ margin-bottom: 10px;
+ padding-left: 5px;
+ height: 35px;
+ font-size: 14px;
+}
+
+@media (min-width: 1200px) {
+	.pg-table-fixed-2{
+	table-layout: fixed;
+	}
+}
+
+@media (min-width: 768px) {
+	.pg-panel-color-left {
+		background-image: linear-gradient( to right, #5B283E 17%, white 17% );
+		margin-left: 0px;
+	}
+	.pg-alert-envfnd{
+		color: #FF0000;
+		position: absolute;
+		top: 30px;
+		right: 40px;
+		max-width: 200px;
+		width: 200px;
+		display: inline-block;
+	}
+}
+
+@media (max-width: 768px) {
+	.pg-alert-envfnd{
+		color: #FF0000;
+		position: relative;
+		width: 100%;
+		text-align: right;
+		padding: 0 15px 0 0;
+	}
+	input.vl_clave, .p-button, input.vl_dinero, input.vl_correo{
+	width: 100% !important;
+	height: 30px;
+	margin-bottom: 7px !important;
+	margin-top: 7px !important;
+	}
+	textarea.vl_contenido{
+	width: 100% !important;
+	height: 75px !important;
+	margin-bottom: 7px !important;
+	margin-top: 7px !important;
+	}
+	.detallecuerpo form .col-12 input[type=text], .detallecuerpo form .col-12 select{
+	width: 100% !important;
+	height: 30px;
+	}
+	
+	
+
+	.form-group-icon {
+	 margin-bottom: 1rem;
+	}
+	.form-group-icon .form-control {
+	display: inline-block;
+	width: calc(100% - 45px);
+	padding: .375rem .75rem;
+	line-height: 1.5;
+	background-clip: padding-box;
+	transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
+	}
+	.form-group-icon span, .form-group-icon label {
+	display: block;
+	}
+	#calendarDiv{
+	right:0 !important;
+	left: auto !important;
+	}
+	#calendarDiv span,#calendarDiv img{
+	float:right !important;
+	}
+	#calendarDiv .topBar div{
+	float:right !important;
+	}
+	
+	#validarCorreo p {
+	width: 100%;
+	}
+	
+	._info {
+	
+	margin-left: 15px;
+	margin-right: 15px;
+	width: 95%;
+	}
+	
+	.tip-wrap {
+	position: fixed !important;
+	top: 0% !important;
+	left: auto !important;
+	right: auto !important;
+	
+	margin: 0 auto;
+	width: 100%;
+	text-align: center;
+	background: rgba(0, 0, 0, 0.5);
+	padding: 15px 2px 15px 2px;
+	}
+	
+	.tip-wrap img{
+	width: 100%;
+	}
+	#usr_paso_3 .usr_tbl {
+	margin: 25px 0 0 0px;
+	}
+	
+	#simple-modal-overlay {
+	height: 100% !important;
+	}
+	.simple-modal {
+            top: 10% !important;
+            width: 300px;
+            left: 10% !important;
+        }
+	.simple-modal .simple-modal-body {
+	padding: 5px;
+	text-align: center;
+	}
+	.simple-modal .simple-modal-body iframe {
+	width: 100%;
+	}
+	
+	
+	#usr_img_ejemplo {
+	position: fixed;
+	z-index: 2;
+	top: 0;
+	left: 0;
+	background: rgba(0, 0, 0, 0.5);
+	width: 100%;
+	padding: 15px;
+	visibility: hidden;
+	}
+	
+	.div_sec_pp #sec_title .div_title h1 {
+	
+	height: 90px;
+	padding-top: 35px;
+	}
+}
+
+@media (max-width: 576px) {
+	.detallecuerpo form .col-12.col-5{
+	margin-bottom: 6px;
+	font-weight: 600;
+	}
+	.detallecuerpo form .col-6 select{
+	width: 100% !important;
+	height: 30px;
+	font-size: 14px;
+	}
+	input.vl_numero{
+	height: 30px;
+	font-size: 14px;
+	width: auto !important;
+	}
+	.pg-panel-color-left{
+	background: white;
+
+	}
+	
+	.pg-panel-color-left .col-12.col-sm-4{
+	color: black;
+	margin-bottom: 3px;
+	font-weight:600;
+	}
+	
+	#header #globo-msg {
+	width: 327px;
+	max-width: 327px;
+	bottom: -108px;
+	}
+}
+@media (max-width: 380px) {
+	#usr_paso_3 .usr_frm .usr_radio_cardtype {
+	float: none;
+	display: inline-block;
+	position: relative;
+	top: -10px;
+	margin: 6px 15px 6px -2px;
+	}
+	#usr_paso_3 .usr_frm .usr_img_cardtype {
+	float: none;
+	display: inline-block;
+	}
+}
+
+/* module pagos_npe */
+@media (max-width: 768px){
+	#descripcion_pago_npe .npe_desc .npe_desc_logos {
+		border-right: 0px solid #fff;
+		border-bottom: 1px solid #fff;
+		margin-bottom:20px;
+	}
+	#section_form_npe .div_section_content #div_form_npe{
+		background-position: -40px 50px;
+	}
+	#npe_dudas_y_consultas .div_section_content ul li{
+		width:100%;
+		margin: 25px 0px 25px 0px;
+	}
+	#sec_pague_npe .div_section_content #validacion {
+		margin: 50px 1px 25px 1px;
+		border-right: 0px solid #fff;
+		position: relative;
+		border-bottom: 1px solid #fff;
+		padding-bottom: 25px;
+		padding-right: 0;
+	}
+}
+@media (max-width: 576px){
+	#section_form_npe .div_section_content #div_form_npe{
+		background-position: -30px bottom;
+		background-size: contain;
+	}
+	#sec_pague_npe .div_section_content #validacion .datos_npe tr #monto_pagar_desc {
+		font-size: 18px;
+	}
+	#sec_pague_npe .div_section_content #validacion .datos_npe tr #monto_pagar {
+		font-size: 24px;
+	}
+	#sec_pague_npe .div_section_content #validacion .datos_npe tr td {
+		padding: 5px;
+	}
+}
+
+/****************** PRINT CSS **********************************/
+@media print {
+	html, body, .container-fluid, #imp000 {
+	width: 1200px !important;
+	}
+	.p-button, ._info {
+	display:none;
+	}
+ .col-1, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-10, .col-11, .col-12 {
+ float: left;
+ }
+ .col-12 {
+ width: 100%;
+ }
+ .col-11 {
+ width: 91.66666667%;
+ }
+ .col-10 {
+ width: 83.33333333%;
+ }
+ .col-9 {
+ width: 75%;
+ }
+ .col-8 {
+ width: 66.66666667%;
+ }
+ .col-7 {
+ width: 58.33333333%;
+ }
+ .col-6 {
+ width: 50%;
+ }
+ .col-5 {
+ width: 41.66666667%;
+ }
+ .col-4 {
+ width: 33.33333333%;
+ }
+ .col-3 {
+ width: 25%;
+ }
+ .col-2 {
+ width: 16.66666667%;
+ }
+ .col-1 {
+ width: 8.33333333%;
+ }
+
+
+ .pg-panel-color-left .col-12.col-sm-4,
+ .pg-panel-color-left .col-12.col-sm-8{
+	float: left;
+	width: 50% !important;
+	color: black;
+	flex: none;
+	border-bottom: 1px solid #f7f6f6;
+ }
+
+
+}
Index: branches/b-20180319.02/css/footer.css
===================================================================
--- trunk/css/footer.css	(revision 3384)
+++ branches/b-20180319.02/css/footer.css	(revision 3579)
@@ -3,8 +3,8 @@
     background-position: left bottom;
     background-repeat: no-repeat;
-    height: 138px;
-    margin: 50px auto 30px;
-    overflow: hidden;
-    width: 997px;
+    
+    margin: 50px auto 0px auto;
+    
+    
 }
 #footer strong {
@@ -15,9 +15,9 @@
     background-color: #FAFAFA;
     border-top: 1px solid #A5AEB6;
-    min-height: 87px;
+    
     list-style-type: none;
     margin: 0 auto;
     padding: 0;
-    width: 993px;
+    
 }
 #footer p {
@@ -50,6 +50,6 @@
     border-right: 1px solid #F1F2F2;
     display: inline-block;
-    float: left;
-    height: 82px;
+    
+    
     list-style-type: none;
     padding: 5px 10px 0 0;
@@ -69,18 +69,18 @@
 }
 .footerOptions1 {
-    width: 200px;
-    margin-left: 20px;
+    
+    
 }
 
 .footerOptions2 {
-    width: 300px;
+    
 }
 
 .footerOptions3 {
-    width: 215px;
+    
 }
 
 .footerOptions4 {
-    width: 200px;
+    
     border-right: none !important;
 }
@@ -105,5 +105,5 @@
 }
 
-/* BOTONES: REDES SOCIALES*/
+
 #optionsList .pg_redes_sociales {
     background: url("../img/vw_home/pagadito-iconos-redes-sociales-sprite.png") no-repeat scroll 0 0 rgba(0, 0, 0, 0);
Index: branches/b-20180319.02/css/footer_r.css
===================================================================
--- branches/b-20180319.02/css/footer_r.css	(revision 3579)
+++ branches/b-20180319.02/css/footer_r.css	(revision 3579)
@@ -0,0 +1,142 @@
+#footer {
+    background-image: url("../imagenes/pg_bg_footer.png");
+    background-position: left bottom;
+    background-repeat: no-repeat;
+    height: 138px;
+    margin: 50px auto 30px;
+    overflow: hidden;
+    width: 997px;
+}
+#footer strong {
+    color: #3B8795;
+    font-size: 10px;
+}
+#footerOptions {
+    background-color: #FAFAFA;
+    border-top: 1px solid #A5AEB6;
+    min-height: 87px;
+    list-style-type: none;
+    margin: 0 auto;
+    padding: 0;
+    width: 993px;
+}
+#footer p {
+    color: #BCBCBB;
+    font-family: Verdana,Geneva,sans-serif,umpush;
+    font-size: 10px;
+    margin: 10px 0 0;
+    padding: 0;
+    text-align: center;
+}
+#footer p a {
+    color: #3B8795;
+    text-decoration: none;
+}
+#footer p a:hover {
+    color: #3B8795;
+    text-decoration: underline;
+}
+#transacciones_seguras {
+    background-image: url("../imagenes/pg_bg_transacciones_seguras.png");
+    background-position: left top;
+    background-repeat: no-repeat;
+    height: 78px;
+    margin: 10px auto 0;
+    overflow: hidden;
+    padding: 0;
+    width: 997px;
+}
+#footerOptions li {
+    border-right: 1px solid #F1F2F2;
+    display: inline-block;
+    float: left;
+    height: 82px;
+    list-style-type: none;
+    padding: 5px 10px 0 0;
+    text-align: left;
+    vertical-align: top;
+}
+#footerOptions li a {
+    color: #BCBCBB;
+    font-family: verdana;
+    font-size: 11px;
+}
+#footerOptions li a:hover{
+    color: #3B8795 !important;
+}
+#footerOptions li:last-child {
+    border-right: medium none;
+}
+.footerOptions1 {
+    width: 200px;
+    margin-left: 20px;
+}
+
+.footerOptions2 {
+    width: 300px;
+}
+
+.footerOptions3 {
+    width: 215px;
+}
+
+.footerOptions4 {
+    width: 200px;
+    border-right: none !important;
+}
+.optionsList {
+    margin: 5px 0 0;
+    padding: 0;
+}
+.footerOptions4 #optionsList{
+    margin-top: 5px;
+}
+.optionsList li {
+    border: medium none !important;
+    display: block !important;
+    height: auto !important;
+    min-height: 0 !important;
+    padding: 0 !important;
+    width: 100%;
+}
+div.optionsList {
+    margin: 5px 0 0;
+    padding: 0;
+}
+
+/* BOTONES: REDES SOCIALES*/
+#optionsList .pg_redes_sociales {
+    background: url("../img/vw_home/pagadito-iconos-redes-sociales-sprite.png") no-repeat scroll 0 0 rgba(0, 0, 0, 0);
+    border: 0 none;
+    display: inline-block;
+    height: 32px;
+    line-height: 25px;
+    margin: 0;
+    padding: 0;
+    position: relative;
+    width: 32px;
+    font-size: 0;
+}
+#optionsList .pg_redes_sociales:hover{
+    opacity: 0.8;
+}
+
+#optionsList  .btn_social_facebook {
+    background-position: left top;
+}
+
+#optionsList  .btn_social_twitter {
+    background-position: -32px 0;
+}
+
+#optionsList  .btn_social_youtube {
+    background-position: -64px 0;
+}
+
+#optionsList  .btn_social_google_plus {
+    background-position: -96px 0;
+}
+
+#optionsList  .btn_social_wordpress {
+    background-position: -128px 0;
+}
Index: branches/b-20180319.02/css/home_r.css
===================================================================
--- branches/b-20180319.02/css/home_r.css	(revision 3579)
+++ branches/b-20180319.02/css/home_r.css	(revision 3579)
@@ -0,0 +1,1347 @@
+/* generales */
+html {
+    width: auto;
+    height: auto;
+}
+
+body {
+    width: auto;
+    height: auto;
+    background-color: #ffffff;
+    font-family: 'Lato',Arial,Helvetica;
+    font-weight: 300;
+    color: #1b1b1b;
+}
+
+a, img {
+    outline: 0 none;
+    text-decoration: none;
+    border: 0px none;
+}
+
+a:hover, img:hover {
+    outline: 0 none;
+}
+
+.clear {
+    clear: both;
+}
+
+.pg_btn_verde_home {
+    width: 265px;
+    height: 43px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-color: #38a6ad;
+    border: 0px none;
+    
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+    font-family: 'Lato',sans-serif;
+    font-size: 22px;
+    font-weight: bold;
+    color: #ffffff;
+    text-align: center;
+    line-height: 43px;
+}
+
+.pg_btn_verde_home:hover {
+    background-color: #5fc9d0;
+}
+
+.tpsv{
+    background-color: #552F44;
+    border: 1px solid #4B0082;
+    border-radius: 0;
+    left: 50%;
+    opacity: 0.3;
+    padding: 5px 10px;
+    position: relative;
+    top: 0;
+    left: 0 !important;
+    text-align: center;
+}
+.tpsv span{
+    color: #FFF;
+    font-weight: bold;
+}
+
+
+#div_wrapper {
+    width: 100%;
+    
+}
+
+#div_content {
+    width: 100%;
+    height: auto;
+    margin: 0 auto;
+}
+
+#header {
+    width: 100%;
+    margin: 0 auto;
+    background-color: #ffffff;
+}
+
+#div_secctions {
+    width: 100%;
+}
+
+#footer {
+    width: 100%;
+    
+    border-top: 1px solid #d5d4d4;
+    border-bottom: 2px solid #0e3379;
+}
+
+
+
+#header #a_logo {
+    
+    
+    
+    margin: 25px 0 0 30px;
+}
+
+#header #a_logo:hover {
+    text-decoration: none;
+}
+
+
+#header #div_header_right {
+    
+    
+}
+
+
+#header #div_login {
+    
+    margin: 5px 0 0 0;
+}
+
+#header #div_login #frm-login {
+    
+    margin: 0;
+    padding: 0;
+}
+
+#header #div_login #frm-login #inputs {
+    margin: 7px 0 0 0;
+    
+}
+
+
+#header #div_login #frm-login #inputs input[type="input"],
+#header #div_login #frm-login #inputs input[type="password"]{
+    width: 134px;
+    height: 20px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #edefef;
+    border: 1px solid #a1a1a1;
+    font-family: verdana,sans-serif;
+    font-size: 11px;
+    color: #a6a5a5;
+    text-align: center;
+}
+
+#header #div_login #frm-login #inputs input[type="input"] {
+    width: 151px;
+    margin-right: 4px;
+}
+
+#header #div_login #frm-login #inputs input[type="input"]:focus,
+#header #div_login #frm-login #inputs input[type="password"]:focus {
+    color: #545454;
+}
+
+#header #div_login #frm-login #inputs #link_recuperar_password {
+    width: 18px;
+    height: 20px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #a1a1a1;
+    font-family: verdana,sans-serif;
+    font-size: 10px;
+    color: #ffffff;
+    text-align: center;
+    line-height: 20px;
+}
+
+#header #div_login #frm-login #inputs #link_recuperar_password:hover {
+    text-decoration: underline;
+    background-color: #c6c4c4;
+}
+
+#header #div_login #frm-login #botones {
+    margin: 5px 0 0 0;
+    
+}
+
+#header #div_login #frm-login #botones .pg_btn_gris {
+    width: 134px;
+    height: 24px;
+    margin: 5px 0 5px 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-color: #a1a1a1;
+    border: 0px none;
+    -webkit-border-radius: 5px;
+    -moz-border-radius: 5px;
+    border-radius: 5px;
+    font-family: 'Lato',sans-serif;
+    font-size: 10px;
+    font-weight: normal;
+    color: #ffffff;
+    text-align: center;
+    line-height: 24px;
+    cursor: pointer;
+}
+
+#header #div_login #frm-login #botones .pg_btn_gris:hover {
+    background-color: #c6c4c4;
+}
+
+#header #div_login #frm-login #botones .pg_btn_verde {
+    width: 104px;
+    height: 24px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #38a6ad;
+    border: 0px none;
+    
+    -webkit-border-radius: 5px;
+    -moz-border-radius: 5px;
+    border-radius: 5px;
+    font-family: 'Lato',sans-serif;
+    font-size: 10px;
+    font-weight: normal;
+    color: #ffffff;
+    text-align: center;
+    line-height: 24px;
+    cursor: pointer;
+}
+
+#header #div_login #frm-login #botones .pg_btn_verde:hover {
+    background-color: #5fc9d0;
+}
+
+#header #globo-msg {
+    background: url("../img/globo_msg.png") no-repeat center;
+    width: 308px;
+    height: 60px;
+    margin-left: 0px;
+    margin-top: 23px;
+    display: block;
+    position: absolute;
+    z-index: 2;
+    background-size: 95%;
+}
+
+#header #globo-msg p {
+    margin-top: 25px;
+    padding-left: 43px;
+    text-align: center;
+    color: #000;
+}
+
+
+#header #nav_language {
+    width: 58px;
+    margin: 15px 0 0 0;
+    
+}
+
+#header #nav_language a {
+    width: 58px;
+    display: block;
+    font-family: "Noto Sans",sans-serif;
+    font-size: 12px;
+    font-weight: normal;
+    color: #323d3e;
+    text-align: center;
+    text-decoration: none;
+}
+
+#header #nav_language:hover > ul {
+    display: block;
+    z-index: 999px;
+}
+
+#header #nav_language ul {
+    width: 58px;
+    margin: 25px 0 0 0;
+    padding: 0;
+    position: absolute;
+    top: 6px;
+    list-style: outside none none;
+    display: none;
+    z-index: 1;
+}
+
+#header #nav_language ul li {
+    width: 58px;
+    height: 13px;
+    margin: 0;
+    padding: 0;
+    background-color: #eaefee;
+}
+
+#header #nav_language ul li:hover {
+    background-color: #0e0e0e;
+    opacity: 0.48;
+}
+
+#header #nav_language ul li a {
+    width: 58px;
+    height: 13px;
+    margin: 0;
+    padding: 0;
+    display: block;
+    font-family: "Lato",sans-serif;
+    font-size: 10px;
+    font-weight: 300;
+    color: #323d3e;
+    text-align: center;
+    text-decoration: none;
+    line-height: 13px;
+}
+
+#header #nav_language ul li a:hover {
+    color: #fffdfd;
+}
+
+
+#header #nav_main_menu {
+    margin: 10px 0 5px 0;
+    
+}
+
+#header #nav_main_menu ul {
+    
+    margin: 0;
+    padding: 0;
+    list-style: none;
+    list-style-position: inside;
+}
+
+#header #nav_main_menu ul li {
+    width: auto;
+    height: 30px;
+    float: left;
+}
+
+#header #nav_main_menu ul li.li_separetor {
+    width: 1px;
+    margin: 0 10px 0 10px;
+    background-color: #a1a1a1;
+}
+
+#header #nav_main_menu ul li a {
+    width: auto;
+    height: 25px;
+    text-decoration: none;
+}
+
+#header #nav_main_menu ul li a h2 {
+    font-family: 'Noto Sans',sans-serif;
+    font-weight: normal;
+    font-size: 14px;
+    color: #323d3e;
+    line-height: 25px;
+}
+
+#header #nav_main_menu ul li a:hover h2 {
+    color: #703655;
+    text-decoration: underline;
+}
+
+
+#header #nav_countries {
+    height: 30px;
+    margin: 10px 0 5px 0;
+    
+}
+
+
+
+#footer #sec_pagadito_footer {
+    width: 100%;
+    height: auto;
+    margin: 32px auto 0 auto;
+}
+
+#footer #sec_pagadito_footer .column {
+    
+    
+    
+    
+    
+	margin-top: 20px;
+}
+
+#footer #sec_pagadito_footer #column_1 {}
+
+#footer #sec_pagadito_footer #column_2 {}
+
+#footer #sec_pagadito_footer #column_3 {}
+
+#footer #sec_pagadito_footer #column_4 {
+    width: auto;
+}
+
+#footer #sec_pagadito_footer .column h2 {
+    width: auto;
+    height: auto;
+    margin: 0 0 8px 0;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu', verdana;
+    font-size: 14px;
+    font-weight: normal;
+    color: #713958;
+}
+
+#footer #sec_pagadito_footer .column .optionsList {
+    width: auto;
+    height: auto;
+    margin: 0 0 8px 0;
+    padding: 0 0 0 0;
+    list-style: none;
+}
+
+#footer #sec_pagadito_footer .column .optionsList li {
+    width: auto;
+    height: auto;
+    margin: 0 0 3px 0;
+    padding: 0 0 0 0;
+}
+
+#footer #sec_pagadito_footer .column .optionsList li a {}
+
+#footer #sec_pagadito_footer .column .optionsList li a h3 {
+    font-family: 'Ubuntu', verdana;
+    font-size: 10px;
+    color: #545454;
+}
+
+#footer #sec_pagadito_footer .column .optionsList li a:hover h3 {
+    text-decoration: underline;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete {
+    width: auto;
+    height: auto;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete label {
+    width: auto;
+    height: auto;
+    margin: 0 0 35px 0;
+    padding: 0 0 0 0;
+    display: block;
+    font-family: 'Ubuntu', verdana;
+    font-size: 12px;
+    color: #545454;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #txt_suscribete_email {
+    width: 200px;
+    height: 19px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    border: 1px solid #8a8585;
+    background-color: #ffffff;
+    font-family: verdana;
+    font-size: 10.57px;
+    color: #a6a5a5;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #txt_suscribete_email:focus {
+    color: #545454;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #btn_suscribete_ok {
+    width: 23px;
+    height: 19px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    background-color: #713958;
+    border: 0px none;
+    font-family: verdana;
+    font-size: 10.57px;
+    color: #ffffff;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #msj_suscribete_no_email,
+#footer #sec_pagadito_footer .column #frm_suscribete #msj_suscribete {
+    margin: 5px 0 0 0;
+    font-size: 10px;
+    display: none;
+}
+
+#footer #sec_pagadito_footer .column #certificados {
+    width: auto;
+    height: auto;
+    margin: 26px 0 0 0;
+    padding: 0 0 0 0;
+}
+
+#footer #sec_pagadito_footer .column #certificados #verisign {
+    width: 105px;
+    height: auto;
+    margin: 0 0 0 10px;
+    padding: 0 0 0 0;
+    float: left;
+}
+
+#footer #sec_pagadito_footer .column #certificados #pci {
+    width: 105px;
+    height: auto;
+    margin: 0 0 0 10px;
+    padding: 0 0 0 0;
+    float: left;
+}
+
+#footer #sec_pagadito_footer .column #certificados #div_tarjetas {
+    width: 170px;
+    margin: 13px 0 0 35px;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales {
+    width: auto;
+    height: auto;
+    margin: 26px 0 0 0;
+    padding: 0 0 0 0;
+}
+
+
+#footer #sec_pagadito_footer .column #redes_sociales .pg_redes_sociales {
+    background: url("../img/vw_home/pagadito-iconos-redes-sociales-sprite.png") no-repeat scroll 0 0 rgba(0, 0, 0, 0);
+    border: 0 none;
+    display: inline-block;
+    height: 32px;
+    line-height: 25px;
+    margin: 0;
+    padding: 0;
+    position: relative;
+    width: 32px;
+    font-size: 0;    
+}
+#footer #sec_pagadito_footer .column #redes_sociales .pg_redes_sociales:hover{
+    opacity: 0.8;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_facebook {
+    background-position: left top;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_twitter {
+    background-position: -32px 0;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_youtube {
+    background-position: -64px 0;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_google_plus {
+    background-position: -96px 0;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_wordpress {
+    background-position: -128px 0;
+}
+
+#footer #sec_pagadito_footer #h1_pague_seguro {
+    margin: 40px 0 0 0;
+    font-family: 'Ubuntu',sans-serif;
+    font-size: 10px;
+    font-weight: bold;
+    color: #545454;
+    text-align: center;
+}
+
+
+#footer #sec_pagaditogroup_footer {
+    
+    
+    margin: 32px 0 0px 0;
+    font-family: "Ubuntu", verdana;
+    background-color: #0e3379;
+    border-top: 1px solid #d8d4d4;
+}
+
+#footer #sec_pagaditogroup_footer #center {
+    
+    
+    
+}
+
+#footer #sec_pagaditogroup_footer #copys {
+    
+    
+    font-family: 'Noto Sans',sans-serif;
+    font-size: 10px;
+    font-weight: bold;
+    color: #ffffff;
+    padding-top: 25px;
+}
+
+#footer #sec_pagaditogroup_footer #copys a {
+    color: #ffffff;
+}
+
+#footer #sec_pagaditogroup_footer #copys a:hover {
+    text-decoration: underline;
+}
+
+#footer #sec_pagaditogroup_footer #link-group {
+    
+    
+    
+    
+}
+
+#footer #sec_pagaditogroup_footer #link-group a {
+    
+    
+    
+    
+}
+
+
+
+#div_secctions .sec_pg {}
+
+#div_secctions .div_section_sep {
+    height: 0px;
+    clear: both;
+}
+
+#div_secctions .div_section_content {
+    width: 100%;
+    
+    margin: 0 auto;
+}
+
+
+#div_secctions #sec_pagos {
+    
+    background-image: url(../img/vw_home/pg-bg-venda-online.jpg);
+    background-position: center center;
+    background-repeat: no-repeat;
+    background-size:  cover;
+}
+
+
+#div_secctions #sec_retiros {
+    
+    background-image: url(../img/vw_home/pg-bg-transferencias-y-retiros.jpg);
+    background-position: center top;
+    background-repeat: no-repeat;
+    background-size: cover;
+    
+}
+
+.lang_en #div_secctions #sec_retiros {
+    background-image: url(../img/vw_home/pg-bg-transferencias-y-retiros-en.jpg);
+}
+
+
+#div_secctions #sec_pago_seguro {
+    
+    background-image: url(../img/vw_home/pg-bg-pague-seguro.jpg);
+    background-position: center center;
+    background-repeat: no-repeat;
+    background-size:  cover;
+    
+}
+
+
+#div_secctions #sec_facturacion {
+    
+    background-image: url(../img/vw_home/pg-bg-facturacion-electronica.jpg);
+    background-position: center center;
+    background-repeat: no-repeat;
+    background-size: cover;
+    
+}
+
+.lang_en #div_secctions #sec_facturacion {
+    background-image: url(../img/vw_home/pg-bg-facturacion-electronica-en.jpg);
+}
+
+
+#div_secctions #sec_caracteristicas {
+    
+    background-image: url(../img/vw_home/pg-bg-pagadito-caracteristicas.jpg);
+    background-position: center center;
+    background-repeat: no-repeat;
+    background-size: cover;
+    
+}
+
+
+#div_secctions #sec_developers {
+    
+    background-image: url(../img/vw_home/pg-bg-developers.jpg);
+    background-position: center center;
+    background-repeat: no-repeat;
+    background-size: cover;
+}
+
+
+
+#div_secctions .sec_pg .art_pg {
+    
+}
+
+#div_secctions .sec_pg .art_pg .div_art_right {
+    
+    
+    
+}
+
+
+#div_secctions #sec_pagos #nav_sites {
+    
+    
+    margin: 40px 0 0 0;
+    text-align: center;
+}
+
+#div_secctions #sec_pagos #nav_sites ul {
+    
+    
+    
+    
+    
+    
+}
+
+#div_secctions #sec_pagos #nav_sites ul li {
+    
+    
+    
+    
+}
+
+#div_secctions #sec_pagos #nav_sites ul li.li_separator {
+    
+    
+}
+
+#div_secctions #sec_pagos #nav_sites ul li a {
+    width: 157px;
+    height: 54px;
+    display: block;
+}
+
+#div_secctions #sec_pagos #nav_sites ul li a:hover {}
+
+#div_secctions #sec_pagos #nav_sites ul li a h3 {
+    margin-left: 63px;
+    font-family: 'Ubuntu',sans-serif;
+    font-size: 15px;
+    font-weight: normal;
+    color: #333333;
+    line-height: 54px;
+}
+
+
+#div_secctions #sec_pagos #nav_sites .a_nav_sites {
+    background-image: url(../img/vw_home/pg-sprite-nav-sites.png);
+    background-repeat: no-repeat;
+}
+
+#div_secctions #sec_pagos #nav_sites #a_personas {
+    background-position: left top;
+}
+
+#div_secctions #sec_pagos #nav_sites #a_personas:hover {
+    background-position: -157px top;
+}
+
+#div_secctions #sec_pagos #nav_sites #a_comercios {
+    background-position: left -54px;
+}
+
+#div_secctions #sec_pagos #nav_sites #a_comercios:hover {
+    background-position: -157px -54px;
+}
+
+#div_secctions #sec_pagos #nav_sites #a_developers {
+    background-position: left -108px;
+}
+
+#div_secctions #sec_pagos #nav_sites #a_developers:hover {
+    background-position: -157px -108px;
+}
+
+
+#div_secctions #sec_pagos #art_pagos {
+    
+    
+    
+    padding: 100px 0 100px 0;
+    background: rgba(220, 207, 207, 0.8);
+}
+
+#div_secctions #sec_pagos #art_pagos #p_texto {
+    margin: 20px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #1b1b1b;
+    line-height: 35px;
+}
+
+#div_secctions #sec_pagos #art_pagos #p_texto a {
+    color: #05b3be;
+    text-decoration: underline;
+}
+
+#div_secctions #sec_pagos #art_pagos #p_texto a:hover {
+    color: #5fc9d0;
+}
+
+#div_secctions #sec_pagos #art_pagos #div_paises {
+    height: 143px;
+    margin: 20px 0 0 0;
+    overflow: hidden;
+    background-image: url(../img/vw_home/pg-mapa.png);
+    background-position: top left;
+    background-repeat: no-repeat;
+}
+
+#div_secctions #sec_pagos #art_pagos #div_paises #h3_paises {
+    height: 121px;
+    margin: 7px 0 0 142px;
+    padding-left: 10px;
+    border-left: 4px solid #37a5ac;
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 25px;
+}
+
+#div_secctions #sec_pagos #art_pagos .div_links {
+    margin: 48px 0 10px 0;
+}
+
+#div_secctions #sec_pagos #art_pagos .div_links #a_abra_su_cuenta {
+    width: 265px;
+    height: 43px;
+}
+
+#a_abra_su_cuenta{
+    font-size: 16px;
+}
+
+#div_secctions #sec_retiros #art_retiros {
+    padding: 100px 0 100px 0;
+    background: rgba(55, 165, 172, 0.8);
+}
+
+#div_secctions #sec_retiros #art_retiros #img_icono_retiros {
+    
+}
+
+#div_secctions #sec_retiros #art_retiros #h2_retiros {
+    margin: 16px 0 0 0;
+    font-family: 'Lato', sans-serif;
+    font-size: 34px;
+    font-weight: 300;
+    color: #333333;
+}
+
+#div_secctions #sec_retiros #art_retiros p {
+    margin: 27px 0 0 0;
+    font-family: 'Lato', sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #323d3e;
+    line-height: 18px;
+}
+
+#div_secctions #sec_retiros #art_retiros #p_morado {
+    margin: 15px 0 0 0;
+    font-family: 'Lato', sans-serif;
+    font-size: 16px;
+    font-weight: normal;
+    color: #733858;
+    line-height: 18px;
+}
+
+#div_secctions #sec_retiros #art_retiros .div_links {
+    margin: 30px 0 0 0;
+}
+
+#div_secctions #sec_retiros #art_retiros .div_links a {}
+
+#div_secctions #sec_retiros #art_retiros .div_links a h2 {
+    display: inline;
+    font-family: 'Lato', sans-serif;
+    font-size: 18px;
+    font-weight: normal;
+    color: #030303;
+    text-decoration: underline;
+}
+
+#div_secctions #sec_retiros #art_retiros .div_links a:hover h2 {
+    color: #696969;
+}
+
+
+#div_secctions #sec_pago_seguro #art_pago_seguro {
+    padding: 100px 0 100px 0;
+    background: rgba(255, 255, 255, 0.8);
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro #img_icono_pago_seguro {
+    
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro #h2_pago_seguro {
+    margin: 38px 0 0 0;
+    font-family: 'Lato', sans-serif;
+    font-size: 34px;
+    font-weight: 300;
+    color: #010101;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro p {
+    margin: 28px 0 0 0;
+    font-family: 'Lato', sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #050505;
+    line-height: 18px;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro p#p2 {
+    margin-top: 20px;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro p strong {
+    font-weight: bold;
+}
+
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links {
+    margin: 0 0 0 0;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links #div_links_left {
+    margin: 40px 0 0 0;
+    float: left;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links #div_links_right {
+    float: right;
+    margin-top: 25px;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links a {}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links a h2 {
+    display: inline;
+    font-family: 'Lato', sans-serif;
+    font-size: 18px;
+    font-weight: normal;
+    color: #7e2e4e;
+    text-decoration: underline;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links a:hover h2 {
+    color: #B2416E;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links h3 {
+    display: inline-block;
+}
+
+#div_secctions #sec_pago_seguro #art_pago_seguro .div_links h3#h3_tarjetas {
+    width: 170px;
+    display: block;
+    margin: 10px auto 0 auto;
+}
+
+
+#div_secctions #sec_facturacion #art_facturacion {
+    
+    
+    padding: 100px 0 100px 0;
+    background: rgba(7, 184, 226, 0.8);
+}
+
+#div_secctions #sec_facturacion #art_facturacion #img_icono_facturacion_electronica {
+    
+}
+
+#div_secctions #sec_facturacion #art_facturacion #h2_facturacion {
+    margin: 17px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 34px;
+    font-weight: 300;
+    color: #ffffff;
+    line-height: 34px;
+}
+
+#div_secctions #sec_facturacion #art_facturacion p {
+    margin: 10px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #020202;
+    line-height: 18px;
+}
+
+#div_secctions #sec_facturacion #art_facturacion .div_links {
+    margin: 26px 0 0 0;
+}
+
+#div_secctions #sec_facturacion #art_facturacion .div_links a {}
+
+#div_secctions #sec_facturacion #art_facturacion .div_links a h2 {
+    display: inline;
+    font-family: 'Lato', sans-serif;
+    font-size: 18px;
+    font-weight: normal;
+    color: #ffffff;
+    text-decoration: underline;
+}
+
+#div_secctions #sec_facturacion #art_facturacion .div_links a:hover h2 {
+    color: #E5E5E5;
+}
+
+
+#div_secctions #sec_caracteristicas #art_caracteristicas {
+    padding: 100px 0 100px 0;
+    background: rgba(164, 88, 163, 0.8);
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas {
+    
+    
+    
+    list-style: none;
+    list-style-position: inside;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li {
+    display: block;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li.li_separator {
+    height: 42px;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li h3 {
+    width: 137px;
+    float: left;
+    display: block;
+    font-weight: normal;
+    text-align: left;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li h3 #img_facil_y_amigable {
+    margin-top: 13px;
+    margin-left: 30px;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li h3 #img_seguro {
+    margin-top: 16px;
+    margin-left: 13px;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li h3 #img_versatil {
+    margin-top: 27px;
+    margin-left: 24px;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li .div_texto_caracteristicas {
+    float: left;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li h2 {
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #ffffff;
+    text-shadow: 0 2px 0.5px #000000;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li p {
+    margin-top: 14px;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 18px;
+}
+
+#div_secctions #sec_caracteristicas #art_caracteristicas #ul_caracteristicas li p strong {
+    font-weight: bold;
+}
+
+
+#div_secctions #sec_developers #art_developers {
+    position: relative;
+}
+
+#div_secctions #sec_developers #art_developers #div_layer_transparente {
+    
+    
+    
+    
+    
+    filter:  alpha(opacity=66);
+}
+
+#div_secctions #sec_developers #art_developers #div_layer_normal {
+    
+    
+    
+    
+    
+	background: rgba(0, 0, 0, 0.6);
+    padding-top: 100px;
+    padding-bottom: 100px;
+}
+
+#div_secctions #sec_developers #art_developers #h2_developers {
+    
+}
+
+#div_secctions #sec_developers #art_developers p {
+    margin: 20px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #ffffff;
+    line-height: 18px;
+}
+
+#div_secctions #sec_developers #art_developers p strong {
+    font-weight: bold;
+}
+
+#div_secctions #sec_developers #art_developers .div_links {
+    margin: 30px 0 0 0;
+}
+
+
+.country_int #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-int.jpg);
+}
+
+.country_el-salvador #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-el-salvador.jpg);
+}
+
+.country_guatemala #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-guatemala.jpg);
+}
+
+.country_honduras #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-honduras.jpg);
+}
+
+.country_nicaragua #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-nicaragua.jpg);
+}
+
+.country_costa-rica #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-costa-rica.jpg);
+}
+
+.country_panama #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-panama.jpg);
+}
+
+.country_puerto-rico #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-puerto-rico.jpg);
+}
+
+.country_estados-unidos #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-estados-unidos.jpg);
+}
+
+.country_united-states #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-united-states.jpg);
+}
+
+.country_republica-dominicana #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-republica-dominicana.jpg);
+}
+
+.country_dominican-republic #div_secctions #sec_pagos {
+    background-image: url(../img/vw_home/bg_x_pais/pg-bg-venda-online-republica-dominicana.jpg);
+}
+
+
+.country_guatemala #div_secctions #sec_pagos #art_pagos #p_texto,
+.country_nicaragua #div_secctions #sec_pagos #art_pagos #p_texto,
+.country_republica-dominicana #div_secctions #sec_pagos #art_pagos #p_texto,
+.country_dominican-republic #div_secctions #sec_pagos #art_pagos #p_texto,
+.country_honduras #div_secctions #sec_pagos #art_pagos #p_texto {
+    color: #fffdfd;
+}
+
+.country_guatemala #div_secctions #sec_pagos #art_pagos #div_paises #h3_paises,
+.country_nicaragua #div_secctions #sec_pagos #art_pagos #div_paises #h3_paises,
+.country_republica-dominicana #div_secctions #sec_pagos #art_pagos #div_paises #h3_paises,
+.country_dominican-republic #div_secctions #sec_pagos #art_pagos #div_paises #h3_paises,
+.country_honduras #div_secctions #sec_pagos #art_pagos #div_paises #h3_paises {
+    color: #fffdfd;
+}
+
+
+#div_premios {
+    
+    
+    
+}
+
+#div_premios .logos {
+    
+    
+}
+
+#div_premios .logos img {
+    border: 0 none;
+    margin-right: 10px;
+    vertical-align: middle;
+}
+
+.mover_united-states,
+.mover_guatemala,
+.mover_honduras,
+.mover_nicaragua
+{
+    margin-right: 550px !important;
+}
+
+.btn_pago_npe{
+    
+    text-align: right;
+    background-color: #fff;
+    border: 1px solid #000;
+    color: #000;
+    border-radius: 10px;
+    padding: 8px;
+    width: 320px;
+    margin-top: 6px;
+    background-image: url(../img/logo_mh_thumbnail_b.png);
+    background-repeat: no-repeat;
+    background-size: 50px;
+    background-position: 15px;
+    
+}
+
+.btn_pago_npe:hover > .btn_npe_aqui{
+    color: #38a6ad;
+    text-decoration: none;
+}
+
+.btn_pago_npe:hover{
+    color: #fff;
+    background-color: #000;
+     background-image: url(../img/logo_mh_thumbnail.png);
+}
+
+.btn_npe_aqui{
+    color: #000;
+    text-decoration: underline;
+}
+
+.btn_pago_npe h2, .btn_pago_npe h3{
+    font-weight: bold;
+}
+
+
+
+#popup {
+    display: none;
+}
+
+#simple-modal-overlay {
+    background: none;
+    background-color: #000000;
+}
+
+#simple-modal {
+    border: 0px none;
+    box-shadow: none;
+}
+
+#simple-modal .close {
+    top: -10px;
+    right: -15px;
+    width: 28px;
+    height: 28px;
+    border-radius: 100%;
+    background-color: #f5f9f6;
+    text-transform: uppercase;
+    font-size: 20px;
+    font-weight: bold;
+    color: #000000;
+    text-align: center;
+    line-height: 28px;
+}
+
+.simple-modal-body {
+    border: 0px none !important;
+    padding: 0px !important;
+} 
+@media (min-width: 768px){
+   .simple-modal-body #link-popup {
+        height: 373px !important;
+    } 
+}
+.simple-modal-body #link-popup {
+    display: block;
+    overflow: hidden;
+    text-decoration: none;
+    border: 0px none;
+    height: 300px;
+}
+.simple-modal-body #link-popup img{
+    width: 100%;
+}
+#botones .recuperar_pass{
+    color: #7e2e4e;
+    display: inline-block;
+    font-weight: bold;
+    font-size: 12px;
+    text-decoration: underline;
+    margin:8px 19px;
+    float: left;
+}
+
+.idioma{
+    padding-right: 5px !important;
+}
+
+#retira-fondos{
+    font-size: 22px;
+    letter-spacing: 1.5px;
+    font-weight: bold;
+}
Index: branches/b-20180319.02/css/pagos_npe.css
===================================================================
--- trunk/css/pagos_npe.css	(revision 3384)
+++ branches/b-20180319.02/css/pagos_npe.css	(revision 3579)
@@ -1,4 +1,5 @@
 #npe{
     width: 370px;
+    max-width: 100%;
     border: 1px solid;
     height: 25px;
@@ -18,6 +19,6 @@
 
 #div_secctions{
-    background: url("../img/vw_npe/fondo_pague_sus_impuestos_en_linea_npe.png") repeat-y;
-    background-color: #000;
+    background: url("../img/vw_npe/fondo_pague_sus_impuestos_en_linea_npe.png") repeat-y !important;
+    background-color: #000 !important;
 }
 
@@ -34,20 +35,9 @@
 }
 
-#div_secctions .div_section_content {
-    width: 1115px;
-    height: inherit;
-    margin: 0 auto;
-}
-
 #descripcion_pago_npe{
     color: #fff;
     min-height: 350px;
-    padding: 50px 0px 0px 0px;
-}
-
-#descripcion_pago_npe .npe_desc{
-    width: 700px;
-}
-
+    padding: 30px 0px 30px 0px;
+}
 .tabla{
     display: table;
@@ -83,6 +73,4 @@
 
 #descripcion_pago_npe .npe_desc .npe_desc_logos p{
-    width: 500px;
-    margin: 20px 0px 20px 20px;
     line-height: 25px;
 }
@@ -91,21 +79,18 @@
     font-size: 40px;
     font-weight: bold;
-    margin: 8px 8px 30px 8px;
+    margin: 8px 8px 20px 8px;
 }
 
 #descripcion_pago_npe p{
     font-weight: bold;
-    margin: 8px 8px 30px 8px;
+    margin: 8px 8px 20px 8px;
 }
 
 #descripcion_pago_npe .desc_npe_logo_mh{
     text-align: center;
-    width: 415px;
-    vertical-align: middle;
 }
 
 #section_form_npe{
     background-color: #fff;
-    min-height: 350px;
     background-image: url("../img/vw_npe/pague_sus_impuestos_en_linea_npe_2.png");
     background-position: center top;
@@ -121,5 +106,5 @@
     font-size: 35px;
     font-weight: bold;
-    margin: 10px 20px;
+    margin-bottom: 10px;
 }
 
@@ -139,15 +124,10 @@
     min-height: 450px;
     text-align: right;
-    padding: 50px 50px 0px 50px;
+    padding: 30px 30px 30px 30px;
 }
 
 #section_form_npe .div_section_content #div_form_npe h3{
-    margin-right: 182px;
+    margin-right: 180px;
     margin-top: 60px;
-}
-
-#section_form_npe .div_section_content .indicacion_pasos img, #sec_pague_npe .div_section_content .indicacion_pasos img{
-    float: left;
-    margin: 0px 40px 0px 15px;
 }
 
@@ -177,13 +157,14 @@
 
 #section_form_npe .div_section_content .indicacion_pasos, #sec_pague_npe .div_section_content .indicacion_pasos{
-    padding: 50px 50px 0px 0px;
+    padding: 60px 5px 20px 5px;
 }
 
 #sec_pague_npe .div_section_content #validacion{
-    margin: 50px 20px 50px 20px; 
+    margin: 50px 5px 50px 5px;
     color:#fff;
     border-right: 1px solid #fff;
-    padding-right: 50px;
+    padding-right: 20px;
     min-height: 210px;
+    position: relative;
 }
 
@@ -197,5 +178,6 @@
     background-color: #859a9b;
     font-weight: bold;
-    width: 400px;
+    max-width: calc(100% - 50px);
+    width: 100%;
     text-align: center;
     color: #fff;
@@ -206,4 +188,5 @@
 #sec_pague_npe .div_section_content #validacion .datos_npe tr td{
     padding: 10px;
+    word-break: break-word;
 }
 
@@ -238,4 +221,6 @@
     vertical-align: middle;
     margin-right: 42px;
+    max-width: calc(100% - 50px);
+    width: 100%;
 }
 
@@ -262,5 +247,5 @@
     background-image: url("../img/vw_npe/icono_ok.png");
     float: right;
-    margin:3px 0px 0px 8px;
+    margin: 0px 0px 0px 8px;
 }
 
@@ -270,5 +255,5 @@
     background-image: url("../img/vw_npe/icono_error.png");
     float: right;
-    margin:3px 0px 0px 8px;
+    margin: 0px 0px 0px 8px;
 }
 
@@ -277,4 +262,7 @@
     font-weight: bolder;
     margin-bottom: 5px;
+    max-width: calc(100% - 50px);
+    width: 100%;
+    display: inline-block;
 }
 
@@ -288,2 +276,21 @@
     color: #A00;
 }
+
+@media(max-width:768px){
+    #descripcion_pago_npe .desc_npe_logo_mh img{
+        width: 25%;
+    }
+}
+
+@media(max-width:560px){
+    #descripcion_pago_npe .desc_npe_logo_mh img{
+        width: 40%;
+    }
+}
+
+@media(max-width:440px){
+    #section_form_npe .div_section_content #div_form_npe h3{
+        margin-right: 0;
+        text-align: left;
+    }
+}
Index: branches/b-20180319.02/css/views.css
===================================================================
--- trunk/css/views.css	(revision 3384)
+++ branches/b-20180319.02/css/views.css	(revision 3579)
@@ -172,5 +172,4 @@
 #header #div_login #frm-login #inputs {
     margin: 3px 0 0 0;
-    float: left;
 }
 
@@ -222,16 +221,10 @@
 }
 
-#header #div_login #frm-login #botones {
-    margin: 0 0 0 5px;
-    float: left;
-}
-
 #header #div_login #frm-login #botones .pg_btn_gris {
-    width: 104px;
+    width: 135px;
     height: 24px;
-    margin: 0 4px 0 0;
-    padding: 0 0 0 0;
-    display: block;
-    float: left;
+    margin: 5px 0 5px 0;
+    padding: 0 0 0 0;
+    display: inline-block;
     background-color: #a1a1a1;
     border: 0px none;
@@ -5661,2 +5654,16 @@
     margin-left: 5px;
 }
+
+#botones .recuperar_pass{
+    color: #7e2e4e;
+    display: inline-block;
+    font-weight: bold;
+    font-size: 12px;
+    text-decoration: underline;
+    margin:8px 20px;
+    float: left;
+}
+
+#link_abra_su_cuenta h2, #link_abra_su_cuenta h3, #link_abra_su_cuenta_pj h3, #link_abra_su_cuenta_pn h3{
+    font-size: 16px !important;
+}
Index: branches/b-20180319.02/css/views_r.css
===================================================================
--- branches/b-20180319.02/css/views_r.css	(revision 3579)
+++ branches/b-20180319.02/css/views_r.css	(revision 3579)
@@ -0,0 +1,5693 @@
+/**************************/
+
+/* generales */
+html {
+    width: auto;
+    height: auto;
+}
+
+body {
+    width: auto;
+    height: auto;
+    background-color: #ffffff;
+    font-family: 'Lato',Arial,Helvetica;
+    font-weight: 300;
+    color: #1b1b1b;
+}
+
+a, img {
+    outline: 0 none;
+    text-decoration: none;
+    border: 0px none;
+}
+
+a:hover, img:hover {
+    outline: 0 none;
+}
+
+.clear {
+    clear: both;
+}
+
+.pg_btn_verde_home {
+    width: 265px;
+    height: 43px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-color: #38a6ad;
+    border: 0px none;
+    
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+    font-family: 'Lato',sans-serif;
+    font-size: 21px;
+    font-weight: bold;
+    color: #ffffff;
+    text-align: center;
+    line-height: 43px;
+}
+
+.pg_btn_verde_home:hover {
+    background-color: #5fc9d0;
+}
+
+.link_ver_requisitos {
+    font-family: 'Lato',Arial,Helvetica;
+    font-weight: normal;
+    color: #46b1b7;
+    text-decoration: underline;
+}
+
+.link_ver_requisitos:hover {
+    color: #5fc9d0;
+}
+
+.link_seo {
+    color: inherit;
+}
+
+.link_seo:hover {
+    text-decoration: underline;
+}
+
+.link_seo strong {
+    font-weight: normal;
+}
+
+.strong_seo {
+    font-weight: normal;
+}
+
+
+.tpsv {
+    background-color: #552F44;
+    border: 1px solid #4B0082;
+    border-radius: 0;
+    left: 50%;
+    opacity: 0.3;
+    padding: 5px 10px;
+    position: relative;
+    top: 0;
+    left: 0 !important;
+    text-align: center;
+}
+.tpsv span {
+    color: #FFF;
+    font-weight: bold;
+}
+
+
+#topBarsBox {
+    width: 100%;
+    height: 30px;
+    background-color: #5C2946;
+    border-bottom: 2px solid #442035;
+}
+
+#topBarsBox #center {
+    width: 800px;
+    margin: 0 auto;
+    text-align: center;
+    line-height: 30px;
+    color: #fff;
+}
+
+
+#div_wrapper {
+    width: 100%;
+    height: auto;
+}
+
+#div_content {
+    width: 100%;
+    height: auto;
+    margin: 0 auto;
+}
+
+#header {
+    
+    
+    background-color: #ffffff;
+}
+
+#div_secctions {
+    width: 100%;
+}
+
+#footer {
+    width: 100%;
+    height: auto;
+    border-top: 1px solid #d5d4d4;
+}
+
+
+
+#header #a_logo {
+    
+    
+    
+    margin: 25px 0 0 30px;
+}
+
+#header #a_logo:hover {
+    text-decoration: none;
+}
+
+
+#header #div_header_right {
+    
+    
+}
+
+
+#header #div_login {
+    height: 24px;
+    margin: 5px 0 0 0;
+}
+
+#header #div_login #frm-login {
+    height: 24px;
+    margin: 0;
+    padding: 0;
+}
+
+#header #div_login #frm-login #inputs {
+    margin: 3px 0 0 0;
+    float: left;
+}
+
+
+#header #div_login #frm-login #inputs input[type="input"],
+#header #div_login #frm-login #inputs input[type="password"]{
+    width: 134px;
+    height: 18px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #edefef;
+    border: 1px solid #a1a1a1;
+    font-family: verdana,sans-serif;
+    font-size: 11px;
+    color: #a6a5a5;
+    text-align: center;
+}
+
+#header #div_login #frm-login #inputs input[type="input"] {
+    width: 151px;
+    margin-right: 4px;
+}
+
+#header #div_login #frm-login #inputs input[type="input"]:focus,
+#header #div_login #frm-login #inputs input[type="password"]:focus {
+    color: #545454;
+}
+
+#header #div_login #frm-login #inputs #link_recuperar_password {
+    width: 18px;
+    height: 20px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #a1a1a1;
+    font-family: verdana,sans-serif;
+    font-size: 10px;
+    color: #ffffff;
+    text-align: center;
+    line-height: 20px;
+}
+
+#header #div_login #frm-login #inputs #link_recuperar_password:hover {
+    text-decoration: underline;
+    background-color: #c6c4c4;
+}
+
+#header #div_login #frm-login #botones {
+    margin: 0 0 0 5px;
+    float: left;
+}
+
+#header #div_login #frm-login #botones .pg_btn_gris {
+    width: 104px;
+    height: 24px;
+    margin: 0 4px 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #a1a1a1;
+    border: 0px none;
+    
+    -webkit-border-radius: 5px;
+    -moz-border-radius: 5px;
+    border-radius: 5px;
+    font-family: 'Lato',sans-serif;
+    font-size: 10px;
+    font-weight: normal;
+    color: #ffffff;
+    text-align: center;
+    line-height: 24px;
+    cursor: pointer;
+}
+
+#header #div_login #frm-login #botones .pg_btn_gris:hover {
+    background-color: #c6c4c4;
+}
+
+#header #div_login #frm-login #botones .pg_btn_verde {
+    width: 104px;
+    height: 24px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #38a6ad;
+    border: 0px none;
+    
+    -webkit-border-radius: 5px;
+    -moz-border-radius: 5px;
+    border-radius: 5px;
+    font-family: 'Lato',sans-serif;
+    font-size: 10px;
+    font-weight: normal;
+    color: #ffffff;
+    text-align: center;
+    line-height: 24px;
+    cursor: pointer;
+}
+
+#header #div_login #frm-login #botones .pg_btn_verde:hover {
+    background-color: #5fc9d0;
+}
+
+#header #globo-msg {
+    background: url("../img/globo_msg.png") no-repeat center;
+    width: 361px;
+    height: 76px;
+    margin-left: 0px;
+    margin-top: 35px;
+    display: block;
+    position: absolute;
+}
+
+#header #globo-msg p {
+    margin-top: 37px;
+    padding-left: 55px;
+    text-align: center;
+    color: #000;
+}
+
+
+#header #nav_language {
+    width: 58px;
+    height: 41px;
+    margin: 17px 0 0 0;
+    float: right;
+}
+
+#header #nav_language a {
+    width: 58px;
+    display: block;
+    font-family: "Noto Sans",sans-serif;
+    font-size: 12px;
+    font-weight: normal;
+    color: #323d3e;
+    text-align: center;
+    text-decoration: none;
+}
+
+#header #nav_language:hover > ul {
+    display: block;
+}
+
+#header #nav_language ul {
+    width: 58px;
+    margin: 0;
+    padding: 0;
+    position: relative;
+    float: right;
+    top: 6px;
+    list-style: outside none none;
+    display: none;
+}
+
+#header #nav_language ul li {
+    width: 58px;
+    height: 13px;
+    margin: 0;
+    padding: 0;
+    background-color: #eaefee;
+}
+
+#header #nav_language ul li:hover {
+    background-color: #0e0e0e;
+    opacity: 0.48;
+}
+
+#header #nav_language ul li a {
+    width: 58px;
+    height: 13px;
+    margin: 0;
+    padding: 0;
+    display: block;
+    font-family: "Lato",sans-serif;
+    font-size: 10px;
+    font-weight: 300;
+    color: #323d3e;
+    text-align: center;
+    text-decoration: none;
+    line-height: 13px;
+}
+
+#header #nav_language ul li a:hover {
+    color: #fffdfd;
+}
+
+
+#header #nav_main_menu {
+    
+    margin: 25px 0 10px 0;
+    
+}
+
+#header #nav_main_menu ul {
+    
+    margin: 0;
+    padding: 0;
+    list-style: none;
+    list-style-position: inside;
+}
+
+#header #nav_main_menu ul li {
+    width: auto;
+    height: 30px;
+    float: left;
+}
+
+#header #nav_main_menu ul li.li_separetor {
+    width: 1px;
+    margin: 0 10px 0 10px;
+    background-color: #a1a1a1;
+}
+
+#header #nav_main_menu ul li a {
+    width: auto;
+    height: 25px;
+    text-decoration: none;
+}
+
+#header #nav_main_menu ul li a h2 {
+    font-family: 'Noto Sans',sans-serif;
+    font-weight: normal;
+    font-size: 14px;
+    color: #323d3e;
+    line-height: 25px;
+}
+
+#header #nav_main_menu ul li a.active h2,
+#header #nav_main_menu ul li a:hover h2 {
+    color: #703655;
+    text-decoration: underline;
+}
+
+#header #nav_main_menu ul li .div_active_nmm {
+    width: 22px;
+    height: 11px;
+    margin: 4px auto 0 auto;
+    background-image: url("../img/vw_home/pg-icon-active-nmm.jpg");
+}
+
+#header #nav_main_menu ul li .div_active_nmm_gris {
+    background-image: url("../img/vw_home/pg-icon-active-nmm-gris.jpg") !important;
+}
+
+
+#header #nav_main_menu.nav_main_menu_sub_menu {
+    
+}
+
+#header #nav_main_menu.nav_main_menu_no_active {
+    
+}
+
+#header #nav_main_menu.nav_main_menu_sub_menu ul li.li_separetor {
+    
+}
+
+#header #nav_main_menu.nav_main_menu_sub_menu ul li#li_inicio {
+    width: auto;
+    position: relative;
+    padding: 0 34px 0 15px;
+    border-top: 1px solid #ffffff;
+    border-right: 1px solid #ffffff;
+    border-left: 1px solid #ffffff;
+    background-image: url(../img/vw_home/pg_flechita_abajo.png);
+    background-position: 68px 8px;
+    background-repeat: no-repeat;
+    z-index: 4;
+}
+
+#header #nav_main_menu.nav_main_menu_sub_menu ul li#li_inicio:hover {
+    display: block;
+    border-top: 1px solid #a1a1a1;
+    border-left: 1px solid #a1a1a1;
+    border-right: 1px solid #a1a1a1;
+}
+
+#header #nav_main_menu ul li:hover > #ul_submenu {
+    display: block;
+}
+
+#header #nav_main_menu #ul_submenu {
+    width: 250px;
+    
+    border-bottom: 1px solid #a1a1a1;
+    border-right: 1px solid #a1a1a1;
+    border-left: 1px solid #a1a1a1;
+    background-color: #ffffff;
+    opacity: 0.9;
+    margin: 0;
+    padding: 0;
+    position: absolute;
+    top: 29px;
+    left: -1px;
+    list-style: none;
+    list-style-position: inside;
+    display: none;
+    z-index: 5;
+}
+
+#header #nav_main_menu #ul_submenu li:first-child {
+    width: 154px;
+    min-height: 5px;
+    height: 5px;
+    border-top: 1px solid #a1a1a1;
+    float: right;
+}
+
+#header #nav_main_menu #ul_submenu li {
+    width: auto;
+    min-height: 30px;
+    height: 30px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 13px;
+}
+
+#header #nav_main_menu #ul_submenu li a {
+    width: auto;
+    height: 30px;
+    text-decoration: none;
+}
+
+#header #nav_main_menu #ul_submenu li a h2 {
+    font-family: 'Noto Sans',sans-serif;
+    font-weight: normal;
+    font-size: 14px;
+    color: #323d3e;
+    line-height: 25px;
+}
+
+#header #nav_main_menu #ul_submenu li a.active h2,
+#header #nav_main_menu #ul_submenu li a:hover h2 {
+    color: #703655;
+    text-decoration: underline;
+}
+
+
+#header #nav_countries {
+    
+    height: 27px;
+    margin: 25px 0 5px 0;
+    
+}
+
+
+#header #nav_countries.nav_countries_sub_menu {
+    
+}
+
+
+
+
+#footer #sec_pagadito_footer {
+    width: 100%;
+    height: auto;
+    margin: 32px auto 0 auto !important;
+}
+
+#footer #sec_pagadito_footer .column {
+    width: 300px;
+    height: auto;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: left;
+}
+
+#footer #sec_pagadito_footer #column_1 {}
+
+#footer #sec_pagadito_footer #column_2 {}
+
+#footer #sec_pagadito_footer #column_3 {}
+
+#footer #sec_pagadito_footer #column_4 {
+    width: auto;
+}
+
+#footer #sec_pagadito_footer .column h2 {
+    width: auto;
+    height: auto;
+    margin: 0 0 8px 0;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu', verdana;
+    font-size: 14px;
+    font-weight: normal;
+    color: #713958;
+}
+
+#footer #sec_pagadito_footer .column .optionsList {
+    width: auto;
+    height: auto;
+    margin: 0 0 8px 0;
+    padding: 0 0 0 0;
+    list-style: none;
+}
+
+#footer #sec_pagadito_footer .column .optionsList li {
+    width: auto;
+    height: auto;
+    margin: 0 0 3px 0;
+    padding: 0 0 0 0;
+}
+
+#footer #sec_pagadito_footer .column .optionsList li a {}
+
+#footer #sec_pagadito_footer .column .optionsList li a h3 {
+    font-family: 'Ubuntu', verdana;
+    font-size: 10px;
+    color: #545454;
+}
+
+#footer #sec_pagadito_footer .column .optionsList li a:hover h3 {
+    text-decoration: underline;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete {
+    width: auto;
+    height: auto;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete label {
+    width: auto;
+    height: auto;
+    margin: 0 0 35px 0;
+    padding: 0 0 0 0;
+    display: block;
+    font-family: 'Ubuntu', verdana;
+    font-size: 12px;
+    color: #545454;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #txt_suscribete_email {
+    width: 200px;
+    height: 19px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    border: 1px solid #8a8585;
+    background-color: #ffffff;
+    font-family: verdana;
+    font-size: 10.57px;
+    color: #a6a5a5;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #txt_suscribete_email:focus {
+    color: #545454;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #btn_suscribete_ok {
+    width: 23px;
+    height: 19px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    background-color: #713958;
+    border: 0px none;
+    font-family: verdana;
+    font-size: 10.57px;
+    color: #ffffff;
+}
+
+#footer #sec_pagadito_footer .column #frm_suscribete #msj_suscribete_no_email,
+#footer #sec_pagadito_footer .column #frm_suscribete #msj_suscribete {
+    margin: 5px 0 0 0;
+    font-size: 10px;
+    display: none;
+}
+
+#footer #sec_pagadito_footer .column #certificados {
+    width: auto;
+    height: auto;
+    margin: 26px 0 0 0;
+    padding: 0 0 0 0;
+}
+
+#footer #sec_pagadito_footer .column #certificados #verisign {
+    width: 105px;
+    height: auto;
+    margin: 0 0 0 10px;
+    padding: 0 0 0 0;
+    float: left;
+}
+
+#footer #sec_pagadito_footer .column #certificados #pci {
+    width: 105px;
+    height: auto;
+    margin: 0 0 0 10px;
+    padding: 0 0 0 0;
+    float: left;
+}
+
+#footer #sec_pagadito_footer .column #certificados #div_tarjetas {
+    width: 170px;
+    margin: 13px 0 0 35px;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales {
+    width: auto;
+    height: auto;
+    margin: 26px 0 0 0;
+    padding: 0 0 0 0;
+}
+
+
+#footer #sec_pagadito_footer .column #redes_sociales .pg_redes_sociales {
+    background: url("../img/vw_home/pagadito-iconos-redes-sociales-sprite.png") no-repeat scroll 0 0 rgba(0, 0, 0, 0);
+    border: 0 none;
+    display: inline-block;
+    height: 32px;
+    line-height: 25px;
+    margin: 0;
+    padding: 0;
+    position: relative;
+    width: 32px;
+    font-size: 0;    
+}
+#footer #sec_pagadito_footer .column #redes_sociales .pg_redes_sociales:hover{
+    opacity: 0.8;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_facebook {
+    background-position: left top;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_twitter {
+    background-position: -32px 0;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_youtube {
+    background-position: -64px 0;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_google_plus {
+    background-position: -96px 0;
+}
+
+#footer #sec_pagadito_footer .column #redes_sociales .btn_social_wordpress {
+    background-position: -128px 0;
+}
+
+#footer #sec_pagadito_footer #h2_pague_seguro {
+    margin: 40px 0 0 0;
+    font-family: 'Ubuntu',sans-serif;
+    font-size: 10px;
+    font-weight: bold;
+    color: #545454;
+    text-align: center;
+}
+
+
+#footer #sec_pagaditogroup_footer {
+    
+    
+    margin: 32px 0 0px 0;
+    font-family: "Ubuntu", verdana;
+    background-color: #0e3379;
+    border-top: 1px solid #d8d4d4;
+}
+
+#footer #sec_pagaditogroup_footer #center {
+    
+    
+    
+}
+
+#footer #sec_pagaditogroup_footer #copys {
+    
+    
+    font-family: 'Noto Sans',sans-serif;
+    font-size: 10px;
+    font-weight: bold;
+    color: #ffffff;
+    padding-top: 25px;
+}
+
+#footer #sec_pagaditogroup_footer #copys a {
+    color: #ffffff;
+}
+
+#footer #sec_pagaditogroup_footer #copys a:hover {
+    text-decoration: underline;
+}
+
+#footer #sec_pagaditogroup_footer #link-group {
+    
+    
+    
+    
+}
+
+#footer #sec_pagaditogroup_footer #link-group a {
+    
+    
+    
+    
+}
+
+
+
+
+#div_secctions .sec_pg {
+    width: 100%;
+}
+
+#div_secctions .div_section_content {
+    
+    
+    
+}
+
+
+.div_sec_pdp #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_pdp #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_pasarela_pagos/pg-icono-comercios.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_pdp #sec_title .div_title h2 {
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_pdp #sec_title .div_title h2 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_pdp #sec_banner {
+    height: 473px;
+    background-color: #edefef;
+    position: relative;
+    overflow: hidden;
+}
+
+.div_sec_pdp #sec_banner #div_layer_banner {
+    width: 617px;
+    height: 458px;
+    position: absolute;
+    z-index: 1;
+    margin-left: -108px;
+    top: 7px;
+    left: 50%;
+    background-image: url("../img/vw_pasarela_pagos/pg-bg-comercios.jpg");
+    background-position: left top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_pdp #sec_banner #div_layer_contenido {
+    width: 100%;
+    height: inherit;
+    position: absolute;
+    z-index: 2;
+}
+
+.div_sec_pdp #sec_banner h1 {
+    padding: 44px 0 0 90px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #5d2846;
+}
+
+.div_sec_pdp #sec_banner p {
+    width: 645px;
+    padding: 17px 0 0 90px;
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 26px;
+}
+
+.div_sec_pdp #sec_banner p strong {
+    font-weight: normal;
+}
+
+.div_sec_pdp #sec_banner #link_abra_su_cuenta {
+    margin: 56px 0 0 90px;
+}
+
+.div_sec_pdp #sec_content {
+    height: 545px;
+}
+
+.div_sec_pdp #sec_content .div_col_comercios {
+    width: 330px;
+    margin: 50px 0 0 0;
+    float: left;
+}
+
+.div_sec_pdp #sec_content .div_col_sep_comercios {
+    width: 2px;
+    height: 450px;
+    float: left;
+    margin: 30px 0 0 0;
+    background-color: #a1a1a1;
+}
+
+.div_sec_pdp #sec_content .div_col_comercios h3 {
+    width: 330px;
+    height: 303px;
+    text-align: center;
+}
+
+.div_sec_pdp #sec_content .div_col_comercios h3 img {
+    border: 0 none;
+}
+
+.div_sec_pdp #sec_content .div_col_comercios p {
+    padding: 30px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 24px;
+    text-align: center;
+}
+
+.div_sec_pdp #sec_content #div_col_comercios_1 {
+    margin-left: 90px;
+}
+
+.div_sec_pdp #sec_content #div_col_comercios_2 {}
+
+.div_sec_pdp #sec_content #div_col_comercios_3 {}
+
+
+.div_sec_pel #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_pel #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_pagos_online/pg-ico-pagos-en-linea.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_pel #sec_title .div_title h1 {
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_pel #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_pel #sec_banner {
+    height: 473px;
+    background-color: #edefef;
+    background-image: url("../img/vw_pagos_online/pg-bg-pagos-en-linea.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_pel #sec_banner p:first-child {
+    padding-top: 53px;
+}
+
+.div_sec_pel #sec_banner p {
+    padding: 25px 0 0 90px;
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: 300;
+    color: #333333;
+    line-height: 26px;
+}
+
+.div_sec_pel #sec_banner #link_abra_su_cuenta {
+    margin: 19px 0 0 90px;
+}
+
+.div_sec_pel #sec_title_clientes {
+    height: 96px;
+    background-color: #e0e2e2;
+}
+
+.div_sec_pel #sec_title_clientes .div_title_clientes {
+    height: 96px;
+    background-image: url("../img/vw_pagos_online/pg-ico-nuestros-clientes.png");
+    background-position: 90px 13px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_pel #sec_title_clientes .div_title_clientes h2 {
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_pel #sec_title_clientes .div_title_clientes h2 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #393939;
+}
+
+.div_sec_pel #sec_slide_clientes {
+    height: 300px;
+}
+
+.div_sec_pel #sec_slide_clientes #div_link_prev {
+    width: 12px;
+    height: 21px;
+    margin: 130px 25px 0 13.5px;
+    float: left;
+    cursor: pointer;
+}
+
+.div_sec_pel #sec_slide_clientes #div_link_next {
+    width: 12px;
+    height: 21px;
+    margin: 130px 0 0 25px;
+    float: left;
+    cursor: pointer;
+}
+
+#sec_slide_clientes #div_slide_clientes {
+    width: 1027px;
+    height: 157px;
+    margin: 60px 0 0 0;
+    float: left;
+    position: relative;
+    overflow: hidden;
+}
+
+#sec_slide_clientes #div_slide_clientes h3 {
+    width: 155px;
+    height: 155px;
+    position: relative;
+    display: inline-block;
+    margin-right: 17px;
+    border: 1px solid #000000;
+}
+
+#sec_slide_clientes #div_link_dc {
+    margin: 20px 35px 0 0;
+    text-align: right;
+}
+
+#sec_slide_clientes #div_link_dc #link_dc {
+    font-family: 'Lato',Arial,Helvetica;
+    font-weight: normal;
+    color: #46b1b7;
+    text-decoration: underline;
+}
+
+#sec_slide_clientes #div_link_dc #link_dc:hover {
+    color: #5fc9d0;
+}
+
+
+.div_sec_fe #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_fe #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_facturacion_electronica/pg-ico-facturacion-electronica.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_fe #sec_title .div_title h1 {
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_fe #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_fe #sec_pasos_fe {
+    height: 473px;
+    background-color: #edefee;
+}
+
+.div_sec_fe #sec_pasos_fe .div_col_pasos_fe {
+    width: 270px;
+    margin: 72px 0 0 0;
+    float: left;
+}
+
+.div_sec_fe #sec_pasos_fe .div_col_sep_fe {
+    width: 75px;
+    height: 473px;
+    float: left;
+}
+
+.div_sec_fe #sec_pasos_fe .div_col_pasos_fe .div_img {
+    height: 202px;
+    text-align: center;
+}
+
+.div_sec_fe #sec_pasos_fe .div_col_pasos_fe .div_img img {
+    border: 0 none;
+}
+
+.div_sec_fe #sec_pasos_fe .div_col_pasos_fe .div_num {
+    width: 34px;
+    height: 34px;
+    margin: 5px auto 0 auto;
+    background-color: #fcfcfc;
+    border: 1px solid #42a8ae;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+    font-family: 'Lato',sans-serif;
+    font-size: 18px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 34px;
+    text-align: center;
+}
+
+.div_sec_fe #sec_pasos_fe .div_col_pasos_fe p {
+    padding: 17px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 18px;
+    text-align: center;
+}
+
+.div_sec_fe #sec_pasos_fe #div_col_pasos_fe_1 {
+    margin-left: 90px;
+}
+
+.div_sec_fe #sec_pasos_fe #div_col_pasos_fe_2 {}
+
+.div_sec_fe #sec_pasos_fe #div_col_pasos_fe_3 {}
+
+.div_sec_fe #sec_3 {
+    height: 124px;
+    background-color: #333333;
+}
+
+.div_sec_fe #sec_3 h3 {
+    padding-top: 16px;
+    font-family: 'Lato',sans-serif;
+    font-size: 35px;
+    font-weight: 300;
+    color: #fffdfd;
+    line-height: 40px;
+    text-align: center;
+}
+
+.div_sec_fe #sec_descripcion {
+    height: 1064px;
+    background-color: #07b8e2;
+    background-image: url("../img/vw_facturacion_electronica/pg-bg-flechita_abajo.jpg");
+    background-position: top center;
+    background-repeat: no-repeat;
+}
+
+.div_sec_fe #sec_descripcion #p_1 {
+    padding: 50px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 36px;
+    text-align: center;
+}
+
+.div_sec_fe #sec_descripcion #p_2 {
+    padding: 35px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 28px;
+    font-weight: bold;
+    color: #5d2846;
+    line-height: 36px;
+    text-align: center;
+}
+
+.div_sec_fe #sec_descripcion #p_3 {
+    padding: 35px 0 0 23px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 36px;
+    text-align: center;
+}
+
+.div_sec_fe #sec_descripcion #p_3 strong {
+    font-weight: normal;
+}
+
+.div_sec_fe #sec_descripcion #div_img {
+    margin: 127px 0 0 0;
+    text-align: center;
+}
+
+.div_sec_fe #sec_5 {
+    height: 135px;
+    background-color: #333333;
+}
+
+.div_sec_fe #sec_5 .div_section_content {
+    overflow: auto;
+}
+
+.div_sec_fe #sec_5 .div_links {
+    margin: 15px auto 0 auto;
+    text-align: center;
+}
+
+.div_sec_fe #sec_5 #link_envie_fe_ya {
+    width: 384px;
+    height: 61px;
+    line-height: 61px;
+    display: block;
+    margin: 17px auto 0 auto;
+}
+
+.lang_en .div_sec_fe #sec_5 #link_envie_fe_ya {
+    line-height: 30.5px !important;
+}
+
+.div_sec_fe #sec_6 {
+    height: 45px;
+    background-color: #5c5b5b;
+}
+
+.div_sec_fe #sec_6 h4 {
+    height: 45px;
+    font-family: 'Lato',sans-serif;
+    font-size: 17px;
+    font-weight: normal;
+    color: #1b1b1b;
+    line-height: 45px;
+    text-align: center;
+}
+
+
+.div_sec_ryt #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_ryt #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_retiros_y_transferencias/pg-ico-retiros-y-transferencias.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_ryt #sec_title .div_title h1 {
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_ryt #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_ryt #sec_retiros {
+    height: 468px;
+    border-bottom: 1px solid #4c4b4b;
+    background-color: #4c4b4b;
+    background-image: url("../img/vw_retiros_y_transferencias/pg-bg-retiros-y-transferencias.jpg");
+    background-position: top center;
+    background-repeat: no-repeat;
+}
+
+.div_sec_ryt #sec_retiros p {
+    padding: 130px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 25px;
+    font-weight: 300;
+    color: #fffdfd;
+    line-height: 30px;
+    text-align: center;
+}
+
+.div_sec_ryt #sec_retiros p strong {
+    font-weight: bold;
+}
+
+.div_sec_ryt #sec_retiros #link_abra_su_cuenta {
+    display: block;
+    margin: 50px auto 0 auto;
+}
+
+.div_sec_ryt #sec_transferencias {
+    height: 539px;
+    background-color: #fffdfd;
+    position: relative;
+    overflow: hidden;
+}
+
+.div_sec_ryt #sec_transferencias #div_layer_banner {
+    width: 848px;
+    height: 417px;
+    position: absolute;
+    z-index: 1;
+    margin-left: 105px;
+    top: 53px;
+    left: 50%;
+    background-image: url("../img/vw_retiros_y_transferencias/pg-bg-retiros-y-transferencias-mapa.jpg");
+    background-position: left top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_ryt #sec_transferencias #div_layer_contenido {
+    width: 100%;
+    height: inherit;
+    position: absolute;
+    z-index: 2;
+}
+
+.div_sec_ryt #sec_transferencias #h2_titulo {
+    padding: 64px 0 0 90px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #5d2846;
+}
+
+.div_sec_ryt #sec_transferencias p.first-child {
+    padding-top: 20px;
+}
+
+.div_sec_ryt #sec_transferencias p {
+    padding: 38px 0 0 90px;
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: 300;
+    color: #333333;
+    line-height: 26px;
+}
+
+.div_sec_ryt #sec_transferencias p strong {
+    font-weight: normal;
+}
+
+.div_sec_ryt #sec_transferencias .div_links {
+    padding: 40px 0 0 90px;
+}
+
+.div_sec_ryt #sec_transferencias #link_conozca_nuestras_tarifas {
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: normal;
+    color: #5d2846;
+    text-decoration: underline;
+}
+
+.div_sec_ryt #sec_transferencias #link_conozca_nuestras_tarifas:hover {
+    color: #b2416e;
+}
+
+.div_sec_ryt #sec_content {
+    height: 268px;
+    background-color: #333333;
+}
+
+.div_sec_ryt #sec_content .div_col_content {
+    min-width: 220px;
+    margin: 13px 0 0 0;
+    float: left;
+}
+
+.div_sec_ryt #sec_content .div_col_sep_content {
+    width: 1px;
+    height: 240px;
+    float: left;
+    margin: 13px 40px 0 40px;
+    background-color: #38a6ad;
+}
+
+.div_sec_ryt #sec_content .div_col_content .div_num {
+    width: 47px;
+    height: 47px;
+    margin: 0 auto 0 auto;
+    border: 1px solid #fffdfd;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+    font-family: 'Noto Sans',sans-serif;
+    font-size: 23px;
+    font-weight: bold;
+    color: #ffffff;
+    line-height: 47px;
+    text-align: center;
+}
+
+.div_sec_ryt #sec_content .div_col_content p {
+    padding: 40px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #fffdfd;
+    line-height: 22px;
+}
+
+.div_sec_ryt #sec_content .div_col_content p strong {
+    font-weight: bold;
+}
+
+.div_sec_ryt #sec_content #div_col_content_1 {
+    margin-left: 160px;
+}
+
+.div_sec_ryt #sec_content #div_col_content_2 {}
+
+.div_sec_ryt #sec_content #div_col_content_3 {}
+
+
+.div_sec_dc #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_dc #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_pagos_online/pg-ico-nuestros-clientes.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_dc #sec_title .div_title h1 {
+    float: left;
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_dc #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_dc #sec_title .div_title #div_buscador {
+    margin: 37px 75px 0 0;
+    float: right;
+}
+
+.div_sec_dc #sec_title .div_title #div_buscador #frm_buscador {}
+
+.div_sec_dc #sec_title .div_title #div_buscador #h3_bg_input {
+    max-width: 400px;
+    min-width: 244px;
+    height: 29px;
+    float: left;
+    background-color: #ffffff;
+}
+
+.div_sec_dc #sec_title .div_title #div_buscador #txt_keyword {
+    width: auto;
+    height: 29px;
+    margin: 0 0 0 16px;
+    padding: 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 15px;
+    color: #333333;
+    border: 0px none;
+    line-height: 29px;
+    outline: 0;
+}
+
+.div_sec_dc #sec_title .div_title #div_buscador #sel_id_pais {
+    margin: 0 2px 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 15px;
+    color: #333333;
+    background-color: #ffffff;
+    border: 1px solid #b9b7b7;
+    
+    -moz-border-radius: 5px;
+    -webkit-border-radius: 5px;
+    border-radius: 5px;
+}
+
+.div_sec_dc #sec_title .div_title #div_buscador #btn_buscar {
+    width: 91px;
+    height: 29px;
+    margin: 0 0 0 2px;
+    padding: 0;
+    float: right;
+    background-color: #333333;
+    background-image: url("../img/vw_directorio_comercios/pg-icono-buscar.png");
+    background-repeat: no-repeat;
+    background-position: 3px center;
+    border: 0px none;
+    
+    -moz-border-radius: 10px;
+    -webkit-border-radius: 10px;
+    border-radius: 10px;
+    font-family: 'Lato',sans-serif;
+    font-size: 15px;
+    color: #ffffff;
+    line-height: 29px;
+    text-indent: 24px;
+    text-align: left;
+}
+
+.div_sec_dc #sec_title .div_title #div_buscador #btn_buscar:hover {
+    background-color: #5c5c5c;
+}
+
+.div_sec_dc #sec_directorio {}
+
+.div_sec_dc #sec_directorio .div_paginacion {}
+
+.div_sec_dc #sec_directorio #div_dc {
+    width: 968px;
+    margin: 0 auto;
+}
+
+.div_sec_dc #sec_directorio #div_dc #div_sin_resultados {
+    padding: 0 0 300px 0;
+}
+
+.div_sec_dc #sec_directorio #div_dc .div_separator_v_co {
+    width: 13px;
+    height: 218px;
+    float: left;
+}
+
+.div_sec_dc #sec_directorio #div_dc .div_separator_h_co {
+    width: 968px;
+    height: 47px;
+    float: left;
+}
+
+.div_sec_dc #sec_directorio #div_dc .h2_co {
+    width: 180px;
+    height: 216px;
+    float: left;
+    border: 1px solid #000000;
+}
+
+.div_sec_dc #sec_directorio #div_dc .div_logo {
+    width: 100px;
+    height: 100px;
+    margin: 20px auto 0 auto;
+    border: 1px solid #000000;
+}
+
+.div_sec_dc #sec_directorio #div_dc .link_co_img {
+    text-decoration: none;
+}
+
+.div_sec_dc #sec_directorio #div_dc .img_logo {
+    border: 0 none;
+}
+
+.div_sec_dc #sec_directorio #div_dc .div_bandera {
+    width: 46px;
+    height: 26px;
+    margin: 7px auto 0 auto;
+}
+
+.div_sec_dc #sec_directorio #div_dc .img_bandera {
+    border: 0 none;
+}
+
+.div_sec_dc #sec_directorio #div_dc .div_nombre {
+    width: 160px;
+    height: auto;
+    margin: 15px auto 0 auto;
+    text-align: center
+}
+
+.div_sec_dc #sec_directorio #div_dc .link_co {
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    color: #333333;
+    text-decoration: underline;
+    line-height: 18px;
+}
+
+.div_sec_dc #sec_directorio #div_dc .link_co:hover {
+    color: #703655;
+}
+
+.div_sec_dc #sec_directorio .div_paginacion {
+    height: 25px;
+    margin: 16px 75px 16px 0;
+    float: right;
+}
+
+.div_sec_dc #sec_directorio .div_paginacion a,
+.div_sec_dc #sec_directorio .div_paginacion span {
+    margin: 3px 2px 0 2px;
+    float: left;
+    font-family: 'Lato',sans-serif;
+    font-size: 14px;
+    font-weight: bold;
+    color: #333333;
+    text-decoration: underline;
+}
+
+.div_sec_dc #sec_directorio .div_paginacion a:hover {
+    color: #703655;
+}
+
+.div_sec_dc #sec_directorio .div_paginacion .lt,
+.div_sec_dc #sec_directorio .div_paginacion .gt {
+    margin-top: -3px;
+    font-size: 25px;
+    text-decoration: none;
+}
+
+.div_sec_dc #sec_directorio .div_paginacion .inactive {
+    text-decoration: none;
+}
+
+.div_sec_dc #sec_directorio .div_paginacion .paginate {}
+
+.div_sec_dc #sec_directorio .div_paginacion .current {
+    color: #703655;
+}
+
+
+
+.div_sec_pc #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_pc #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_directorio_comercios/pg-icono-comercios-certificados.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_pc #sec_title .div_title h2 {
+    float: left;
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_pc #sec_title .div_title h2 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_pc #sec_perfil_comercio {}
+
+.div_sec_pc #sec_perfil_comercio #div_pc {
+    width: 966px;
+    margin: 10px auto 30px auto;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #h2_logo_c {
+    width: 160px;
+    height: 160px;
+    margin: 0 auto;
+    border: 1px solid #a1a1a1;
+    
+    -moz-border-radius: 100%;
+    -webkit-border-radius: 100%;
+    border-radius: 100%;
+    text-align: center;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #h2_logo_c #img_logo_c {
+    border: 0 none;
+    margin: 30px 0 0 0;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_bandera {
+    width: 46px;
+    height: 26px;
+    margin: 13px auto 0 auto;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_bandera #img_bandera {
+    border: 0 none;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_nombre {
+    margin: 24px auto 0 auto;
+    text-align: center;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_nombre #h1_nombre_c {
+    font-family: 'Lato',sans-serif;
+    font-size: 25px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc .p_label {
+    margin: 0 0 10px 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 25px;
+    color: #561f3e;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc .e_info {
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: normal;
+    color: #010101;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_descripcion_c {
+    margin: 20px 0 0 0;
+    padding: 14px 0 0 0;
+    border-top: 1px solid #a1a1a1;
+    background-image: url("../img/vw_directorio_comercios/pg-flechita-abajo.jpg");
+    background-repeat: no-repeat;
+    background-position: top center;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_descripcion_c .p_label {
+    margin: 0 0 20px 0;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_descripcion_c .e_info {
+    font-size: 16px;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_web_actividad_c {
+    margin: 30px 0 0 0;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_web_actividad_c #div_web {
+    width: 50%;
+    float: left;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_web_actividad_c #link_web {
+    color: #010101;
+    text-decoration: underline;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_web_actividad_c #link_web:hover {
+    color: #561f3e;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_web_actividad_c #div_actividad {
+    width: 50%;
+    float: left;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_ubicacion_c {
+    margin: 30px 0 0 0;
+    padding: 30px 0 0 0;
+    border-top: 1px solid #a1a1a1;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_ubicacion_c #div_pais {
+    width: 50%;
+    float: left;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_ubicacion_c #div_ciudad {
+    width: 50%;
+    float: left;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_regresar {
+    margin: 30px 0 0 0;
+    text-align: left;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_regresar #link_regresar {
+    padding: 0 0 0 24px;
+    background-image: url("../img/vw_directorio_comercios/pg-flechita-regresar.jpg");
+    background-repeat: no-repeat;
+    background-position: left center;
+    font-family: 'Lato',sans-serif;
+    font-size: 14px;
+    color: #561f3e;
+    text-decoration: underline;
+}
+
+.div_sec_pc #sec_perfil_comercio #div_pc #div_regresar #link_regresar:hover {
+    color: #333333;
+}
+
+
+.div_sec_rc #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_rc #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_requisitos_comercios/pg-requisitos-icono.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_rc #sec_title .div_title h1 {
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_rc #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_rc #sec_banner {
+    height: 473px;
+    background-color: #ffffff;
+    background-image: url("../img/vw_requisitos_comercios/pg-bg-requisitos-comercios-es.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.lang_en .div_sec_rc #sec_banner {
+    background-image: url("../img/vw_requisitos_comercios/pg-bg-requisitos-comercios-en.jpg");
+}
+
+.div_sec_rc #sec_banner #div_globito {
+    width: 480px;
+    padding: 50px 0 0 105px;
+}
+
+.div_sec_rc #sec_banner p {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 24px;
+    font-weight: 300;
+    color: #030303;
+    line-height: normal;
+}
+
+.div_sec_rc #sec_banner p#p_segundo {
+    margin: 20px 0 0 0;
+    font-weight: 400;
+}
+
+.div_sec_rc #sec_requisitos {
+    height: 46px;
+    background-color: #333333;
+}
+
+.div_sec_rc #sec_requisitos #h2_requisitos {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #ffffff;
+    line-height: 45px;
+    text-align: center;
+}
+
+.div_sec_rc #sec_content {
+    height: auto;
+    background-image: url("../img/vw_requisitos_comercios/pg-requisitos-comercios-triangulito-gris.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_rc #sec_content .div_columns {
+    width: 1051px;
+    margin: 0 auto 0 auto;
+    padding: 30px 0 50px 0;
+}
+
+.div_sec_rc #sec_content .div_column {
+    width: 500px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: left;
+}
+
+.div_sec_rc #sec_content .div_column_separator {
+    width: 1px;
+    height: 885px;
+    float: left;
+    margin: 0 25px 0 25px;
+    background-color: #a1a1a1;
+}
+
+.div_sec_rc #sec_content .div_column h2 {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 25px;
+    font-weight: 300;
+    color: #020202;
+}
+
+.div_sec_rc #sec_content .div_column ol {
+    margin: 45px 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #030303;
+    list-style: decimal;
+    list-style-position: inside;
+}
+
+.div_sec_rc #sec_content .div_column ol li {
+    margin: 0 0 30px 0;
+    padding: 0 0 0 0;
+}
+
+.div_sec_rc #sec_content .div_column ol li .span_email {
+    color: #38a6ad;
+    font-weight: 400;
+}
+
+.div_sec_rc #sec_content .div_column .pg_btn_verde_home {
+    margin: 40px auto 0 auto;
+    display: block;
+}
+
+.div_sec_rc #sec_content .div_column ol.ol_sub_lista {
+    margin: 8px 0 30px 12px;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #030303;
+    list-style: lower-roman;
+    list-style-position: inside;
+}
+
+.div_sec_rc #sec_content .div_column ol.ol_sub_lista li {
+    margin: 0 0 0 0;
+}
+
+.div_sec_rc #sec_content .div_column ol a {
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #030303;
+    text-decoration: none;
+}
+
+.div_sec_rc #sec_content .div_column ol a:hover {
+    text-decoration: underline;
+}
+
+
+.div_sec_tyc #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_tyc #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_tarifas_y_comisiones/pg-tarifas-icono.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_tyc #sec_title .div_title h1 {
+    padding: 36px 0 0 165px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_tyc #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_tyc #sec_banner {
+    height: 473px;
+    background-color: #238c92;
+    background-image: url("../img/vw_tarifas_y_comisiones/pg-tarifas-bg.jpg");
+    background-position: center 33px;
+    background-repeat: no-repeat;
+    overflow: hidden;
+}
+
+.div_sec_tyc #sec_banner #h2_banner {
+    margin: 175px auto 0 auto;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 36px;
+    font-weight: 300;
+    color: #ffffff;
+    line-height: normal;
+    text-align: center;
+}
+
+.div_sec_tyc #sec_banner #ul_listado_banderas_banner {
+    margin-top: 32px;
+}
+
+
+.div_sec_tyc .h2_sub_titulo {
+    margin: 0 0 0 0;
+    padding: 35px 0 0 20px;
+    font-family: 'Lato',sans-serif;
+    font-size: 37px;
+    font-weight: 300;
+    color: #020202;
+}
+
+.div_sec_tyc .div_img_left {
+    width: 266px;
+    height: auto;
+    margin: 65px 50px 0 20px;
+    float: left;
+}
+
+.div_sec_tyc .div_img_left img {}
+
+.div_sec_tyc .div_tabla_left {
+    width: 735px;
+    margin: 30px 0 13px 0;
+    float: left;
+}
+
+.div_sec_tyc .div_tabla_left .table_tyc {
+    width: 100%;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    border: 0px none;
+    border-spacing: 0px;
+}
+
+.div_sec_tyc .div_tabla_left .table_tyc thead th {
+    padding: 5px 65px 5px 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #5e2846;
+    text-align: left;
+    border-bottom: 1px solid #333333;
+}
+
+.div_sec_tyc .div_tabla_left .table_tyc tbody td {
+    padding: 15px 65px 15px 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 400;
+    color: #020202;
+}
+
+.div_sec_tyc .div_tabla_left .table_tyc tbody tr:first-child td {
+    padding-top: 32px;
+}
+
+.div_sec_tyc .div_tabla_left .table_tyc tbody td:last-child {
+    padding-right: 0px;
+}
+
+.div_sec_tyc #sec_comisiones {
+    height: auto;
+    background-color: #d5d3d3;
+    background-image: url("../img/vw_tarifas_y_comisiones/pg-tarifas-triangulito-verde.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_tyc #sec_comisiones .h2_sub_titulo {}
+
+.div_sec_tyc #sec_nota_comision {
+    height: 25px;
+    background-color: #b9b8b8;
+}
+
+.div_sec_tyc #sec_nota_comision p {
+    height: 25px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 400;
+    color: #561e3e;
+    text-align: center;
+    line-height: 25px;
+}
+
+.div_sec_tyc #sec_tarifas {
+    height: auto;
+    background-color: #d5d3d3;
+}
+
+.div_sec_tyc #sec_tarifas .div_tabla_left .table_tyc thead th {
+    padding-right: 0;
+    text-align: center;
+}
+
+.div_sec_tyc #sec_tarifas .div_tabla_left .table_tyc thead th:first-child {
+    text-align: left;
+}
+
+.div_sec_tyc #sec_tarifas .div_tabla_left .table_tyc tbody td {
+    padding-right: 0;
+    text-align: center;
+}
+
+.div_sec_tyc #sec_tarifas .div_tabla_left .table_tyc tbody td:first-child {
+    text-align: left;
+}
+
+.div_sec_tyc #sec_tarifas .div_img_left {
+    margin-top: 130px;
+}
+
+.div_sec_tyc #sec_tarifas .div_tabla_left {
+    margin-bottom: 40px;
+}
+
+.div_sec_tyc #sec_paises {
+    height: 167px;
+    background-color: #46b1b7;
+    background-image: url("../img/vw_tarifas_y_comisiones/pg-tarifas-triangulito-gris.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_tyc #sec_paises #h2_paises {
+    margin: 0 auto 0 auto;
+    padding: 30px 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 24px;
+    font-weight: 300;
+    color: #020202;
+    text-align: center;
+}
+
+.div_sec_tyc #sec_paises #ul_listado_banderas_paises {
+    margin-top: 26px;
+}
+
+
+.div_sec_tyc .ul_lista_banderas {
+    width: 674px;
+    height: 60px;
+    margin: 0 auto 0 auto;
+    padding: 0 0 0 0;
+    list-style: none;
+    list-style-position: inside;
+}
+
+.div_sec_tyc .ul_lista_banderas .li_bandera {
+    width: 50px;
+    height: 60px;
+    float: left;
+    margin: 0 28px 0 0;
+}
+
+.div_sec_tyc .ul_lista_banderas .li_bandera:last-child {
+    margin-right: 0px;
+}
+
+.div_sec_tyc .ul_lista_banderas .li_bandera .h3_bandera {
+    width: 50px;
+    height: auto;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+}
+
+.div_sec_tyc .ul_lista_banderas .li_bandera .h3_bandera .img_bandera {
+    width: 40px;
+    height: 24px;
+    margin: 0 auto 0 auto;
+    padding: 0 0 0 0;
+    display: block;
+}
+
+.div_sec_tyc .ul_lista_banderas .li_bandera .h3_bandera .span_nombre_pais {
+    width: 50px;
+    height: auto;
+    margin: 5px 0 0 0;
+    padding: 7px 0 0 0;
+    display: none;
+    border-top: 1px solid #ffffff;
+    font-family: 'Lato',sans-serif;
+    font-size: 9px;
+    font-weight: 400;
+    color: #ffffff;
+    text-align: center;
+    line-height: normal;
+}
+
+.div_sec_tyc .ul_lista_banderas .li_bandera .h3_bandera:hover .span_nombre_pais {
+    display: block;
+}
+
+
+.div_sec_acp #sec_title {
+    
+    background-color: #46b1b7;
+}
+
+.div_sec_acp #sec_title .div_title {
+    
+    background-image: url("../img/vw_abra_cuenta_pagadito/pg-registro-icono.png");
+    background-position: 0px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_acp #sec_title .div_title h1 {
+    padding: 36px 0 36px 75px;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_acp #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_acp #sec_banner {
+    
+    background-color: #eeeeee;
+    position: relative;
+    
+    background-image: url(../img/vw_abra_cuenta_pagadito/pg-registro-bg-es.jpg);
+    background-position: right bottom;
+    background-repeat: no-repeat;
+    background-size: contain;
+}
+
+.div_sec_acp #sec_banner #div_layer_banner {
+    
+    
+    
+    
+    
+    
+    
+    
+    
+    
+}
+
+.lang_en .div_sec_acp #sec_banner #div_layer_banner {
+    background-image: url("../img/vw_abra_cuenta_pagadito/pg-registro-bg-en.jpg");
+}
+
+.div_sec_acp #sec_banner #div_layer_contenido {
+    
+    
+    
+    
+}
+
+.div_sec_acp #sec_banner p {
+    
+    
+    
+    font-family: 'Lato',sans-serif;
+    font-size: 22px;
+    font-weight: 300;
+    color: #030303;
+    line-height: normal;
+    text-align: justify;
+}
+
+.div_sec_acp #sec_escoger {
+    
+    background-color: #333333;
+}
+
+.div_sec_acp #sec_escoger h3 {
+    
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #ffffff;
+    line-height: 46px;
+    text-align: center;
+}
+
+.div_sec_acp #sec_registro {
+    
+    background-color: #ffffff;
+    background-image: url("../img/vw_abra_cuenta_pagadito/pg-registro-triangulito-gris.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_acp #sec_registro .div_registro {
+    
+    
+    
+    
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas {
+    
+    
+    
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta {
+    
+    
+    margin: 60px 0 60px 0;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta:last-child {
+    border-left: 1px solid #eeeeee;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta_hidden {
+    display: none;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta img {
+    
+    
+    
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta h2 {
+    
+    
+    
+    float: left;
+    font-family: 'Lato',sans-serif;
+    font-size: 34px;
+    font-weight: 300;
+    color: #020202;
+    
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta h2 strong {
+    font-weight: 400;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta .div_rd_tipo_cuenta {
+    width: 28px;
+    height: 28px;
+    
+    background-color: #eeeeee;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+    border: 1px solid #908e8e;
+    float: right;
+    cursor: pointer;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta .div_rd_tipo_cuenta:hover {
+    opacity: 0.8;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta .div_rd_tipo_cuenta div {
+    width: 14px;
+    height: 14px;
+    margin: 7px auto 0 auto;
+    background-color: #38a6ad;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+    border: 0px none;
+    display: none;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_tipos_cuentas .div_tipo_cuenta .div_rd_tipo_cuenta_active div {
+    display: block;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles {
+    
+    
+    margin-top: 20px;
+    margin-bottom: 20px;
+    
+    
+    border-left: 1px solid #a1a1a1;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle {
+    display: none;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle_activo {
+    display: block;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle h3.h3_subtitulo {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 29px;
+    font-weight: 300;
+    color: #5c2745;
+    text-align: center;
+    line-height: normal;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle ul {
+    margin: 30px 0 0 0;
+    padding: 0 0 0 0;
+    list-style: disc;
+    list-style-position: inside;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle ul li {
+    margin: 0 0 35px 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #030303;
+    line-height: normal;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle ul li strong {
+    font-weight: 400;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle ul li a {
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 400;
+    color: #030303;
+    text-decoration: underline;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle ul li a:hover {
+    opacity: 0.9;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle#div_detalle_comercios ul li {
+    margin: 0 0 9px 0;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle#div_detalle_comercios ul li:last-child {
+    margin-bottom: 26px;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle p {
+    padding: 0 0 0 0;
+    margin: 0 0 35px 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    font-weight: 300;
+    color: #030303;
+    line-height: normal;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle p span {
+    color: #7b2a4a;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle .div_links {
+    margin: 0 auto 0 auto;
+    text-align: center;
+}
+
+.div_sec_acp #sec_registro .div_registro .div_detalles .div_detalle .div_links .link_ver_requisitos {
+    display: inline-block;
+    margin: 14px 0 7px 0;
+}
+
+
+.div_sec_pp #sec_title {
+    
+    background-color: #46b1b7;
+}
+
+.div_sec_pp #sec_title .div_title {
+    
+    background-image: url("../img/vw_pagadito_personas/pg-personas-icono.png");
+    background-position: 15px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_pp #sec_title .div_title h1 {
+    
+    padding: 4px 0 1px 75px;
+    
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_pp #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_pp #sec_title .div_title .lp_registro_comercio {
+    
+    
+    
+    padding: 18px 1px 17px 1px;
+}
+
+.div_sec_pp #sec_title .div_title .lp_registro_comercio img {
+    
+    
+    
+    
+    
+}
+
+.div_sec_pp #sec_title .div_title .lp_registro_comercio a {
+    
+    
+    
+    
+    
+    
+    
+}
+
+.div_sec_pp #sec_title .div_title .lp_registro_comercio a h2 {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: 300;
+    color: #ffffff;
+    line-height: 28px;
+    text-decoration: underline;
+}
+
+.div_sec_pp #sec_title .div_title .lp_registro_comercio a:hover h2 {
+    opacity: 0.9;
+}
+
+.div_sec_pp #sec_banner {
+    
+    background-color: #f1f1f1;
+    background-image: url("../img/vw_pagadito_personas/pg-personas-bg.jpg");
+    background-position: center center;
+    background-repeat: no-repeat;
+    background-size:  cover;
+}
+
+.div_sec_pp #sec_banner h2 {
+    
+    
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    color: #5d2846;
+    font-weight: normal;
+}
+
+.div_sec_pp #sec_banner ul {
+    margin: 25px 0 0 0px;
+    
+    list-style: disc;
+    list-style-position: inside;
+}
+
+.div_sec_pp #sec_banner ul li {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 20px;
+    font-weight: 300;
+    color: #030303;
+    line-height: 35px;
+}
+
+.div_sec_pp #sec_banner ul li span {
+    font-weight: 600;
+}
+
+.div_sec_pp #sec_banner ul li strong {
+    font-weight: bold;
+}
+
+.div_sec_pp #sec_banner a {
+    width: auto;
+    
+    display: inline-block;
+    margin: 50px 0 0 0px;
+    padding: 1px 30px 1px 30px;
+    background-color: #46b1b7;
+    border: 3px solid white;
+    border-radius: 5px;
+    box-shadow: 0 0 5px #d6d6d6;
+    cursor: pointer;
+    font-family: 'Lato',sans-serif;
+    font-size: 23px;
+    color: #ffffff;
+    font-weight: bold;
+    line-height: 46px;
+    text-align: center;
+    text-decoration: none;
+}
+
+.div_sec_pp #sec_banner a:hover {
+    background-color: #5fc9d0;
+}
+
+.div_sec_pp #sec_personas {
+    
+    background-color: #d7d4d4;
+    padding: 100px 1px 100px 11px;
+}
+
+.div_sec_pp #sec_personas .lp_footer_container {
+    
+    
+}
+
+.div_sec_pp #sec_personas .lp_footer_container .lp_footer_block {
+    
+    
+    margin-bottom: 60px;
+    
+    
+    text-align: center;
+}
+
+.div_sec_pp #sec_personas .lp_footer_container .lp_footer_block#div_versatil {
+    margin-right: 0px;
+}
+
+.div_sec_pp #sec_personas .lp_footer_container img {}
+
+.div_sec_pp #sec_personas .lp_footer_container h2 {
+    margin: 22px 0 29px;
+    padding: 0 0 0 0;
+    font-family: 'Yanone Kaffeesatz',sans-serif;
+    font-size: 36px;
+    font-weight: 300;
+}
+
+.div_sec_pp #sec_personas .lp_footer_container p {
+    
+    
+    
+    font-family: 'Lato',sans-serif;
+    font-size: 16px;
+    text-align: justify;
+    font-weight: normal;
+    line-height: normal;
+}
+
+.div_sec_pp #sec_personas .lp_footer_container p strong {
+    font-weight: bold;
+}
+
+
+.div_sec_ct #sec_title {
+    height: 96px;
+    background-color: #767d87;
+}
+
+.div_sec_ct #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_contactenos/pg-contactenos-icono.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_ct #sec_title .div_title h1 {
+    width: 500px;
+    padding: 36px 0 0 165px;
+    float: left;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_ct #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_ct #sec_title .div_title .div_link_reciba_pagos_en_linea {
+    width: 350px;
+    margin: 36px 60px 0 0;
+    float: right;
+    text-align: right;
+}
+
+.div_sec_ct #sec_title .div_title .div_link_reciba_pagos_en_linea a {}
+
+.div_sec_ct #sec_title .div_title .div_link_reciba_pagos_en_linea a h2 {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #ffffff;
+    text-decoration: underline;
+}
+
+.div_sec_ct #sec_title .div_title .div_link_reciba_pagos_en_linea a:hover h2 {
+    opacity: 0.9;
+}
+
+.div_sec_ct #sec_banner {
+    width: 100%;
+    height: 622px;
+    background-color: #46b1b7;
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.lang_es .div_sec_ct #sec_banner {
+    background-image: url("../img/vw_contactenos/pg-bg-contactenos-es.jpg");
+}
+
+.lang_en .div_sec_ct #sec_banner {
+    background-image: url("../img/vw_contactenos/pg-bg-contactenos-en.jpg");
+}
+
+.div_sec_ct #sec_banner #divContacto {
+    width: 447px;
+    height: 500px;
+    float: right;
+    position: relative;
+    margin: 67px 60px 0 0;
+    padding: 0 0 0 0;
+}
+
+.div_sec_ct #sec_banner #divContacto #divContactoLayer1 {
+    width: 447px;
+    height: 500px;
+    position: absolute;
+    background-color: #ffffff;
+    
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+    opacity: 0.76;
+}
+
+.div_sec_ct #sec_banner #divContacto #divContactoLayer2 {
+    width: 447px;
+    height: 500px;
+    position: absolute;
+}
+
+.div_sec_ct #sec_banner #frmContacto {
+    width: 357px;
+    height: 472px ;
+    padding: 28px 45px 0 45px;
+}
+
+.div_sec_ct #sec_banner #frmContacto h2 {
+    height: 30px;
+    margin: 0 0 0 0;
+    padding: 0 0 22px 0;
+    font-family: lato;
+    font-size: 30px;
+    font-weight: lighter;
+    color: #3d3d3d;
+}
+
+.div_sec_ct #sec_banner #frmContacto input[type="text"],
+.div_sec_ct #sec_banner #frmContacto input[type="email"] {
+    width: 330px;
+    height: 32px;
+    margin: 0 0 10px 0;
+    padding: 0 10px;
+    background-color: white;
+    border: 1px solid #bab9b9;
+    border-radius: 10px;
+    font-family: lato;
+    font-size: 18px;
+    font-weight: lighter;
+}
+
+.div_sec_ct #sec_banner #frmContacto .selectContainer {
+    background: white url("../img/vw_contactenos/pg-contactenos-arrow-down.png") no-repeat scroll 95% center;
+    border: 1px solid #bab9b9;
+    border-radius: 10px;
+    height: 32px;
+    margin: 0 0 10px 0;
+    overflow: hidden;
+    padding: 0;
+    width: 155px;
+}
+
+.div_sec_ct #sec_banner #frmContacto select {
+    background: transparent none repeat scroll 0 0;
+    border: medium none;
+    font-family: lato;
+    font-size: 18px;
+    font-weight: lighter;
+    height: 32px;
+    width: 200px;
+    padding: 0 0 0 10px;
+    color: #333;
+}
+
+.div_sec_ct #sec_banner #frmContacto select:first-child {
+    color: #999;
+}
+
+.div_sec_ct #sec_banner #frmContacto .divMsg {
+    width: 382px;
+    height: 30px;
+    font-family: lato;
+    font-size: 14px;
+    line-height: 30px;
+    text-align: center;
+}
+
+.div_sec_ct #sec_banner #frmContacto .divMsg span {
+    color: #f05c60;
+    margin: 0;
+    padding: 0;
+    display: inline;
+}
+
+.div_sec_ct #sec_banner #frmContacto #txttelefono {
+    width: 135px !important;
+}
+
+.div_sec_ct #sec_banner #frmContacto textarea {
+    width: 330px;
+    height: 105px;
+    margin: 0 0 0 0;
+    padding: 10px 10px 5px 10px ;
+    background-color: white;
+    border: 1px solid #bab9b9;
+    border-radius: 10px;
+    resize: none;
+    font-family: lato;
+    font-size: 18px;
+    font-weight: lighter;
+}
+
+.div_sec_ct #sec_banner #frmContacto input[type="submit"] {
+    width: 185px;
+    height: 74px;
+    display: block;
+    margin: 18px auto 0 auto;
+    padding: 0 0 0 0;
+    background-color: #767d87;
+    border: 4px solid #ffffff;
+    
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+    box-shadow: 1px 1px 13px #767d87;
+    font-family: lato;
+    font-weight: normal;
+    font-size: 29px;
+    color: #ffffff;
+}
+
+.div_sec_ct #sec_banner #frmContacto input[type="submit"]:hover {
+    background-color: #6f7987;
+    cursor: pointer;
+}
+
+.div_sec_ct #sec_pagadito {
+    height: 183px;
+    background-color: #2f9298;
+    background-image: url("../img/vw_contactenos/pg-contactenos-bg-linea.png");
+    background-position: center 13px;
+    background-repeat: repeat-x;
+}
+
+.div_sec_ct #sec_pagadito .cnt_linea{
+    width: 100%;
+    height: 43px;
+    padding: 0;
+    display: inline-block;
+    margin-top: 9px;
+}
+
+.div_sec_ct #sec_pagadito .cnt_linea .cnt_logopg {
+    padding: 0;
+    width: 209px;
+    height: 43px;
+    margin: 0 auto;
+    background-image: url("../img/vw_contactenos/pg-contactenos-icono-pglogo.png");
+    background-repeat: no-repeat;
+    background-position: center left;
+    background-color: #2f9298;
+}
+
+.div_sec_ct #sec_pagadito .cnt_p1 {
+    color: white;
+    font-family: lato;
+    font-size: 21px;
+    font-weight: normal;
+    margin: 25px 0 0 0;
+    padding: 0;
+    text-align: center;
+    width: 100%;
+}
+.div_sec_ct #sec_pagadito .cnt_p2 {
+    color: white;
+    font-family: lato;
+    font-size: 21px;
+    font-weight: normal;
+    margin: 0;
+    padding: 0;
+    text-align: center;
+    width: 100%;
+}
+
+.div_sec_ct #sec_pagadito .cnt_bancos_paises {
+    margin: 20px 0 0;
+    padding: 0;
+    text-align: center;
+    width: 100%;
+}
+
+.div_sec_ct #sec_pagadito .cnt_bancos_paises h2 {
+    color: #ffffff;
+    display: inline-block;
+    font-family: lato;
+    font-size: 25px;
+    font-weight: bold;
+    margin: 0;
+    padding: 0;
+}
+
+.div_sec_ct #sec_pagadito .cnt_bancos_paises span {
+    color: #5d2846;
+    display: inline-block;
+    font-size: 25px;
+    font-weight: bold;
+    margin: 0 5px;
+}
+
+.div_sec_ct #sec_botones {
+    height: 167px;
+    background-image: url("../img/vw_contactenos/pg-contactenos-bg-colita.png");
+    background-repeat: no-repeat;
+    background-position: center top;
+}
+
+.div_sec_ct #sec_botones .cnt_b_container {
+    width: 888px;
+    height: 132px;
+    margin: 0 auto;
+    padding: 0;
+}
+
+.div_sec_ct #sec_botones .cnt_b_container .btn_personas_comercios {
+    width: 398px;
+    height: 82px;
+    background-color: #2f9298;
+    border: 4px solid white;
+    border-radius: 10px;
+    box-shadow: 1px 1px 13px #d6d6d6;
+    padding: 0;
+    margin: 40px 0 0;
+    float: left
+}
+
+.div_sec_ct #sec_botones .cnt_b_container #btn_registrese_comercios {
+    float: right;
+}
+
+.div_sec_ct #sec_botones .cnt_b_container .btn_personas_comercios img {
+    margin: 16px 0 0 14px;
+    padding: 0;
+    float: left;
+}
+
+.div_sec_ct #sec_botones .cnt_b_container .btn_personas_comercios h3 {
+    color: white;
+    float: left;
+    font-family: lato;
+    font-size: 23px;
+    font-weight: lighter;
+    line-height: 26px;
+    margin: 12px 0 0 5px;
+    padding: 0;
+    text-align: center;
+    width: 320px;
+}
+
+.div_sec_ct #sec_botones .cnt_b_container .btn_personas_comercios:hover h3 {
+    text-decoration: underline;
+}
+
+.div_sec_ct #sec_titulo_premios {
+    height: 70px;
+    background-color: #767d87;
+    background-image: url("../img/vw_contactenos/pg-contactenos-bg-linea.png");
+    background-position: center 16px;
+    background-repeat: repeat-x;
+}
+
+.div_sec_ct #sec_titulo_premios .cnt_premios_line {
+    width: 100%;
+    height: 34px;
+    margin: 0 0 0 0;
+    padding: 20px 0 0 0;
+}
+
+.div_sec_ct #sec_titulo_premios .cnt_premios_line .cnt_premios_heading {
+    height: 34px;
+    width: 804px;
+    margin: 0 auto;
+    padding: 0;
+
+}
+
+.div_sec_ct #sec_titulo_premios .cnt_premios_line .cnt_premios_heading h2 {
+    background: #767d87;
+    color: #ffffff;
+    font-family: lato;
+    font-size: 34px;
+    font-weight: lighter;
+    line-height: 34px;
+    margin: 0;
+    padding: 0 10px;
+}
+
+.div_sec_ct #sec_premios {
+    height: 210px;
+    background-position: center 0px;
+    background-repeat: repeat-x;
+}
+
+.div_sec_ct #sec_premios .cnt_premios_container {
+    width: 1196px;
+    height: 210px;
+    margin: 0 auto;
+    padding: 0;
+}
+
+.div_sec_ct #sec_premios .cnt_premios_container .cnt_premios_logos {
+    margin: 30px 2px 10px 78px;
+    text-align: center;
+    width: 478px;
+    height: 194px;
+    float: left;
+}
+
+.div_sec_ct #sec_premios .cnt_premios_container .cnt_premios_logos img {
+    margin: 0 32px;
+}
+
+.div_sec_ct #sec_premios .cnt_premios_container .cnt_premios_certificaciones {
+    float: left;
+    height: 205px;
+    width: 376px;
+    margin: 5px 0;
+    border-left: 1px solid #a0a0a0;
+}
+
+.div_sec_ct #sec_premios .cnt_premios_container .cnt_premios_certificaciones img {
+    float: right;
+    margin: 59px 0 0 0;
+    padding: 0 0 0 0;
+}
+
+.div_sec_ct #sec_info_contacto {
+    height: auto;
+    padding:  50px 0 30px 0;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact {
+    width: 975px;
+    margin: 0 auto;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact .cnt_header_short {
+    width: 475px;
+    float: left;
+    display: block;
+    border-bottom: 1px solid #ccc;
+    padding-bottom: 3px;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact .cnt_header_short#h3_correo_electronico {
+    margin-left: 25px;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact .cnt_header_short .div_icon_label {
+    float: left;
+    text-transform: uppercase;
+    font-size: 14px;
+    font-weight: bold;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact .cnt_header_short .div_value {
+    float: right;
+    font-size: 12px;
+    color: #333;
+    text-decoration: none;
+    margin-right: 10px;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact .cnt_header_short .div_value a {
+    font-size: 12px;
+    color: #333;
+    text-decoration: none;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact #div_titulo_direcciones {
+    margin: 70px 0 0 0;
+    padding: 0 0 0 0;
+    text-transform: uppercase;
+    font-size: 14px;
+    font-weight: bold;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact #address {
+    margin: 3px 0 0 0;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact #address .mAddBox {
+    width: 240px;
+    float: left;
+    border-top: 1px solid #ccc;
+    padding: 10px 0 0 0;
+    font-size: 12px;
+    line-height: normal;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact #address .mAddBox div {
+    font-size: 14px;
+    color: #000;
+    text-transform: uppercase;
+    margin-bottom: 10px;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact #address .mAddBox strong {
+    display: block;
+    font-weight: bold;
+}
+
+.div_sec_ct #sec_info_contacto #win_contact #address .mSeparatorBox {
+    width: 5px;
+    height: 10px;
+    float: left;
+}
+
+.div_sec_ct #sec_info_contacto_direcciones {
+    height: 85px;
+    background-color: #f0f0f0;
+    border-top: 1px solid #f6f6f6;
+    margin: 30px 0 0 0;
+    padding:  0 0 0 0;
+}
+
+.div_sec_ct #sec_info_contacto_direcciones #secAdds {
+    width: 975px;
+    margin: 0 auto 0 auto;
+    padding: 10px 0 0 0;
+}
+
+.div_sec_ct #sec_info_contacto_direcciones #secAdds .sSeparatorBox {
+    width: 180px;
+    height: 75px;
+    float: left;
+}
+
+.div_sec_ct #sec_info_contacto_direcciones #secAdds .sAddBox {
+    width: 205px;
+    height: 75px;
+    float: left;
+    font-size: 11px;
+    line-height: 13px;
+}
+
+.div_sec_ct #sec_info_contacto_direcciones #secAdds .sAddBox div {
+    font-weight: bold;
+    margin-bottom: 3px;
+}
+
+
+.div_sec_rpl #sec_title {
+    height: 96px;
+    background-color: #46b1b7;
+}
+
+.div_sec_rpl #sec_title .div_title {
+    height: 96px;
+    background-image: url("../img/vw_contactenos/pg-contactenos-icono.png");
+    background-position: 90px 16px;
+    background-repeat: no-repeat;
+}
+
+.div_sec_rpl #sec_title .div_title h1 {
+    width: 500px;
+    padding: 36px 0 0 165px;
+    float: left;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: normal;
+    color: #333333;
+}
+
+.div_sec_rpl #sec_title .div_title h1 span {
+    font-size: 30px;
+    font-weight: 300;
+    color: #fffdfd;
+}
+
+.div_sec_rpl #sec_title .div_title .div_link_contactenos {
+    width: 300px;
+    margin: 36px 30px 0 0;
+    float: right;
+    text-align: right;
+}
+
+.div_sec_rpl #sec_title .div_title .div_link_contactenos a {}
+
+.div_sec_rpl #sec_title .div_title .div_link_contactenos a h2 {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 30px;
+    font-weight: 300;
+    color: #ffffff;
+    text-decoration: underline;
+}
+
+.div_sec_rpl #sec_title .div_title .div_link_contactenos a:hover h2 {
+    opacity: 0.9;
+}
+
+.div_sec_rpl #sec_banner {
+    width: 100%;
+    height: 613px;
+    background-color: #ffffff;
+    background-image: url("../img/vw_formulario_reciba_pagos/pg-bg-reciba-pagos-en-linea.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_rpl #sec_banner #divBeneficios {
+    width: 570px;
+    margin: 50px 0 0 30px;
+    padding: 0 0 0 0;
+    float: left;
+}
+
+.div_sec_rpl #sec_banner #divTituloBeneficios {
+    font-family: 'Lato',sans-serif;
+    font-size: 36px;
+    font-weight: normal;
+    color: #2f9298;
+}
+
+.div_sec_rpl #sec_banner #ul_beneficios {
+    margin: 50px 0 0 0;
+    padding: 0 0 0 0;
+    list-style: none;
+}
+
+.div_sec_rpl #sec_banner #ul_beneficios li {
+    min-height: 36px;
+    margin: 0 0 30px 0;
+    padding: 0 0 0 55px;
+    background-image: url("../img/vw_formulario_reciba_pagos/pg-chequesito.png");
+    background-position: left top;
+    background-repeat: no-repeat;
+    font-family: 'Lato',sans-serif;
+    font-size: 27px;
+    font-weight: lighter;
+    color: #030303;
+    line-height: normal;
+}
+
+.div_sec_rpl #sec_banner #ul_beneficios li a {
+    color: #030303;
+    text-decoration: none;
+}
+
+.div_sec_rpl #sec_banner #ul_beneficios li a:hover {
+    text-decoration: underline;
+}
+
+.div_sec_rpl #sec_banner #divFormulario {
+    width: 435px;
+    height: 500px;
+    margin: 50px 30px 0 0;
+    padding: 0 0 0 0;
+    float: right;
+    background-color: #4bb8be;
+    
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+}
+
+.div_sec_rpl #sec_banner #frmRPL {
+    width: 435px;
+    height: auto;
+    margin: 0 0 0 0;
+    padding: 45px 0 0 0;
+}
+
+.div_sec_rpl #sec_banner #frmRPL h2 {
+    height: 30px;
+    margin: 0 0 0 0;
+    padding: 0 0 40px 0;
+    font-family: lato;
+    font-size: 26px;
+    font-weight: lighter;
+    color: #ffffff;
+    text-align: center;
+}
+
+.div_sec_rpl #sec_banner #frmRPL input[type="text"],
+.div_sec_rpl #sec_banner #frmRPL input[type="email"] {
+    width: 330px;
+    height: 32px;
+    margin: 0 0 35px 40px;
+    padding: 0 10px;
+    background-color: white;
+    border: 1px solid #bab9b9;
+    border-radius: 10px;
+    font-family: lato;
+    font-size: 18px;
+    font-weight: lighter;
+}
+
+.div_sec_rpl #sec_banner #frmRPL #div_fields {
+    width: 352px;
+    height: auto;
+    margin: 0 0 35px 40px;
+    padding: 0 0 0 0;
+}
+
+.div_sec_rpl #sec_banner #frmRPL #txttelefono {
+    width: 130px;
+    float: left;
+    margin: 0 0 0 0;
+}
+
+.div_sec_rpl #sec_banner #frmRPL .selectContainer {
+    width: 150px;
+    height: 32px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    overflow: hidden;
+    float: right;
+    background: white url("../img/vw_contactenos/pg-contactenos-arrow-down.png") no-repeat scroll 95% center;
+    border: 1px solid #bab9b9;
+    border-radius: 10px;
+}
+
+.div_sec_rpl #sec_banner #frmRPL select {
+    width: 200px;
+    height: 32px;
+    padding: 0 0 0 10px;
+    margin: 0 0 0 0;
+    background: transparent none repeat scroll 0 0;
+    border: medium none;
+    font-family: lato;
+    font-size: 18px;
+    font-weight: lighter;
+    color: #333333;
+}
+
+.div_sec_rpl #sec_banner #frmRPL select:first-child {
+    color: #999;
+}
+
+.div_sec_rpl #sec_banner #frmRPL .divMsg {
+    width: 350px;
+    height: 18px;
+    margin: 3px auto 0 auto;
+    font-family: lato;
+    font-size: 14px;
+    text-align: center;
+}
+
+.div_sec_rpl #sec_banner #frmRPL .divMsg span {
+    color: #ffffff;
+    margin: 0;
+    padding: 0;
+    display: inline;
+}
+
+.div_sec_rpl #sec_banner #frmRPL #btnRegistreComercio {
+    width: 350px;
+    height: 75px;
+    display: block;
+    margin: 5px auto 0 auto;
+    padding: 0 0 0 0;
+    background-color: #2f9298;
+    background-image: url("../img/vw_formulario_reciba_pagos/pg-iconito-comercios.png");
+    background-repeat: no-repeat;
+    background-position: 7px 10px;
+    border: 4px solid #ffffff;
+    
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+    box-shadow: 1px 1px 13px #2f9298;
+    font-family: 'Lato',sans-serif;
+    font-size: 24px;
+    font-weight: normal;
+    color: #ffffff;
+    text-align: left;
+    text-indent: 65px;
+    line-height: 75px;
+}
+
+.div_sec_rpl #sec_banner #frmRPL #btnRegistreComercio:hover {
+    background-color: #1e8f96;
+    cursor: pointer;
+}
+
+.div_sec_rpl #sec_banner #frmRPL #btnRegistreComercio h4 {
+    font-weight: normal;
+}
+
+.div_sec_rpl #sec_pagadito {
+    height: 183px;
+    background-color: #2f9298;
+    background-image: url("../img/vw_contactenos/pg-contactenos-bg-linea.png");
+    background-position: center 13px;
+    background-repeat: repeat-x;
+}
+
+.div_sec_rpl #sec_pagadito .cnt_linea{
+    width: 100%;
+    height: 43px;
+    padding: 0;
+    display: inline-block;
+    margin-top: 9px;
+}
+
+.div_sec_rpl #sec_pagadito .cnt_linea .cnt_logopg {
+    padding: 0;
+    width: 209px;
+    height: 43px;
+    margin: 0 auto;
+    background-image: url("../img/vw_contactenos/pg-contactenos-icono-pglogo.png");
+    background-repeat: no-repeat;
+    background-position: center left;
+    background-color: #2f9298;
+}
+
+
+.div_sec_rpl #sec_pagadito #div_listado_paises {
+    height: auto;
+    margin: 17px 0 0 0;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises p {
+    width: auto;
+    height: auto;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Lato',sans-serif;
+    font-size: 22px;
+    color: #ffffff;
+    text-align: center;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises p #link_paises_disponibles {
+    font-family: 'Lato',sans-serif;
+    font-size: 22px;
+    font-weight: bold;
+    color: #ffffff;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises p #link_paises_disponibles:hover {
+    text-decoration: underline;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises p #link_paises_disponibles img {
+    width: 15px;
+    height: 15px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises #lista_banderas {
+    width: 410px;
+    height: 24px;
+    margin: 13px auto 13px auto;
+    padding: 0 0 0 0;
+    list-style: none;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises #lista_banderas .li_bandera {
+    width: 40px;
+    height: 24px;
+    margin: 0 6px 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-image: url(../img/vw_formulario_reciba_pagos/pg-sprite-banderas.png);
+    background-repeat: no-repeat;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises #lista_banderas .li_bandera:last-child {
+    margin-right: 0px;
+}
+
+.div_sec_rpl #sec_pagadito #div_listado_paises #lista_banderas #last_flag {
+    margin-right: 0px;
+}
+
+
+#paises_disponibles_pagos {
+    display: none;
+}
+
+#titulo_paises_disponibles {
+    width: 652px;
+    height: 48px;
+    margin: 20px 0 0 0;
+    padding: 0 0 0 18px;
+    background-color: #545454;
+    border-left: 28px solid #38a6ad;
+    font-family: 'Noto Sans', Verdana;
+    font-size: 26px;
+    font-weight: normal;
+    color: #ffffff;
+    line-height: 48px;
+}
+
+#cuadro_paises_disponibles {
+    width: 696px;
+    height: 357px;
+    margin: 30px 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #f8f8f9;
+    border: 1px solid #d8d4d4;
+}
+
+#cuadro_paises_disponibles .lista_banderas {
+    width: auto;
+    height: auto;
+    margin: 30px 62px 0 38px ;
+    padding: 0 0 0 0;
+    list-style: none;
+    float: left;
+}
+
+#cuadro_paises_disponibles .lista_banderas:last-of-type {
+    margin-right: 0px;
+}
+
+#cuadro_paises_disponibles .lista_banderas .li_bandera {
+    width: auto;
+    height: 24px;
+    margin: 0 0 15px 0;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu', Verdana;
+    font-size: 14px;
+    color: #38a6ad;
+}
+
+#cuadro_paises_disponibles .lista_banderas .li_bandera img {
+    width: 40px;
+    height: 24px;
+    margin: 0 10px 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-image: url(../img/vw_formulario_reciba_pagos/pg-sprite-banderas.png);
+    background-repeat: no-repeat;
+}
+
+
+.bandera_us {
+    background-position: 0px 0px;
+}
+
+.bandera_sv {
+    background-position: 0px -24px;
+}
+
+.bandera_gt {
+    background-position: 0px -48px;
+}
+
+.bandera_ni {
+    background-position: 0px -72px;
+}
+
+.bandera_hn {
+    background-position: 0px -96px;
+}
+
+.bandera_cr {
+    background-position: 0px -120px;
+}
+
+.bandera_pa {
+    background-position: 0px -144px;
+}
+
+.bandera_pr {
+    background-position: 0px -192px;
+}
+
+.bandera_do {
+    background-position: 0px -168px;
+}
+
+.bandera_mx {
+    background-position: -40px 0px;
+}
+
+.bandera_ar {
+    background-position: -40px -24px;
+}
+
+.bandera_pg {
+    background-position: -40px -48px;
+}
+
+.bandera_vn {
+    background-position: -40px -72px;
+}
+
+.bandera_ur {
+    background-position: -40px -96px;
+}
+
+.bandera_co {
+    background-position: -40px -120px;
+}
+
+.bandera_ch {
+    background-position: -40px -144px;
+}
+
+.bandera_bo {
+    background-position: -40px -168px;
+}
+
+.bandera_pe {
+    background-position: -40px -192px;
+}
+
+.bandera_ec {
+    background-position: -40px -216px;
+}
+
+.bandera_es {
+    background-position: -40px -240px;
+}
+
+.bandera_au {
+    background-position: 0 -216px;
+}
+
+.bandera_pt {
+    background-position: 0 -240px;
+}
+
+.bandera_ca {
+    background-position: 0 -264px;
+}
+
+.div_sec_rpl #sec_titulo_premios {
+    height: 70px;
+    background-color: #767d87;
+    background-image: url("../img/vw_contactenos/pg-contactenos-bg-linea.png");
+    background-position: center 16px;
+    background-repeat: repeat-x;
+}
+
+.div_sec_rpl #sec_titulo_premios .cnt_premios_line {
+    width: 100%;
+    height: 34px;
+    margin: 0 0 0 0;
+    padding: 20px 0 0 0;
+}
+
+.div_sec_rpl #sec_titulo_premios .cnt_premios_line .cnt_premios_heading {
+    height: 34px;
+    width: 804px;
+    margin: 0 auto;
+    padding: 0;
+
+}
+
+.div_sec_rpl #sec_titulo_premios .cnt_premios_line .cnt_premios_heading h3 {
+    background: #767d87;
+    color: #ffffff;
+    font-family: lato;
+    font-size: 34px;
+    font-weight: lighter;
+    line-height: 34px;
+    margin: 0;
+    padding: 0 10px;
+}
+
+.div_sec_rpl #sec_premios {
+    height: 210px;
+    background-position: center 0px;
+    background-repeat: repeat-x;
+}
+
+.div_sec_rpl #sec_premios .cnt_premios_container {
+    width: 1196px;
+    height: 210px;
+    margin: 0 auto;
+    padding: 0;
+}
+
+.div_sec_rpl #sec_premios .cnt_premios_container .cnt_premios_logos {
+    margin: 30px 2px 10px 78px;
+    text-align: center;
+    width: 478px;
+    height: 194px;
+    float: left;
+}
+
+.div_sec_rpl #sec_premios .cnt_premios_container .cnt_premios_logos img {
+    margin: 0 32px;
+}
+
+.div_sec_rpl #sec_premios .cnt_premios_container .cnt_premios_certificaciones {
+    float: left;
+    height: 205px;
+    width: 376px;
+    margin: 5px 0;
+    border-left: 1px solid #a0a0a0;
+}
+
+.div_sec_rpl #sec_premios .cnt_premios_container .cnt_premios_certificaciones img {
+    float: right;
+    margin: 59px 0 0 0;
+    padding: 0 0 0 0;
+}
+
+.div_sec_rpl #sec_info_contacto {
+    height: auto;
+    padding:  50px 0 30px 0;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact {
+    width: 975px;
+    margin: 0 auto;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact .cnt_header_short {
+    width: 475px;
+    float: left;
+    display: block;
+    border-bottom: 1px solid #ccc;
+    padding-bottom: 3px;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact .cnt_header_short#h3_correo_electronico {
+    margin-left: 25px;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact .cnt_header_short .div_icon_label {
+    float: left;
+    text-transform: uppercase;
+    font-size: 14px;
+    font-weight: bold;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact .cnt_header_short .div_value {
+    float: right;
+    font-size: 12px;
+    color: #333;
+    text-decoration: none;
+    margin-right: 10px;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact .cnt_header_short .div_value a {
+    font-size: 12px;
+    color: #333;
+    text-decoration: none;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact #div_titulo_direcciones {
+    margin: 70px 0 0 0;
+    padding: 0 0 0 0;
+    text-transform: uppercase;
+    font-size: 14px;
+    font-weight: bold;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact #address {
+    margin: 3px 0 0 0;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact #address .mAddBox {
+    width: 240px;
+    float: left;
+    border-top: 1px solid #ccc;
+    padding: 10px 0 0 0;
+    font-size: 12px;
+    line-height: normal;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact #address .mAddBox div {
+    font-size: 14px;
+    color: #000;
+    text-transform: uppercase;
+    margin-bottom: 10px;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact #address .mAddBox strong {
+    display: block;
+    font-weight: bold;
+}
+
+.div_sec_rpl #sec_info_contacto #win_contact #address .mSeparatorBox {
+    width: 5px;
+    height: 10px;
+    float: left;
+}
+
+.div_sec_rpl #sec_info_contacto_direcciones {
+    height: 85px;
+    background-color: #f0f0f0;
+    border-top: 1px solid #f6f6f6;
+    margin: 30px 0 0 0;
+    padding:  0 0 0 0;
+}
+
+.div_sec_rpl #sec_info_contacto_direcciones #secAdds {
+    width: 975px;
+    margin: 0 auto 0 auto;
+    padding: 10px 0 0 0;
+}
+
+.div_sec_rpl #sec_info_contacto_direcciones #secAdds .sSeparatorBox {
+    width: 180px;
+    height: 75px;
+    float: left;
+}
+
+.div_sec_rpl #sec_info_contacto_direcciones #secAdds .sAddBox {
+    width: 205px;
+    height: 75px;
+    float: left;
+    font-size: 11px;
+    line-height: 13px;
+}
+
+.div_sec_rpl #sec_info_contacto_direcciones #secAdds .sAddBox div {
+    font-weight: bold;
+    margin-bottom: 3px;
+}
+
+
+
+
+
+
+#body_pil {
+    background: #040707; 
+    background: -webkit-linear-gradient(-90deg, #040707 70%, #194346); 
+    background: -o-linear-gradient(-90deg, #040707 70%, #194346); 
+    background: -moz-linear-gradient(-90deg, #040707 70%, #194346); 
+    background: linear-gradient(-90deg, #040707 70%, #194346); 
+}
+
+#body_pil #header {
+    background-color: inherit;
+}
+
+
+#body_pil #header #nav_language a {
+    color: #ffffff;
+}
+
+#body_pil #header #nav_language ul li {
+    background-color: #454545;
+}
+
+#body_pil #header #nav_language ul li:hover {
+    background-color: #454545;
+    opacity: 0.80;
+}
+
+
+#body_pil #header #nav_main_menu ul li a h2 {
+    color: #ffffff;
+}
+
+#body_pil #header #nav_main_menu ul li a.active h2,
+#body_pil #header #nav_main_menu ul li a:hover h2 {
+    color: #e1e1e1;
+}
+
+#body_pil #header #nav_main_menu.nav_main_menu_sub_menu ul li#li_inicio {
+    border-left: 1px solid transparent;
+    border-right: 1px solid transparent;
+    border-top: 1px solid transparent;
+}
+
+#body_pil #header #nav_main_menu.nav_main_menu_sub_menu ul li#li_inicio:hover {
+    background-color: #454545;
+    border-left: 1px solid #a1a1a1;
+    border-right: 1px solid #a1a1a1;
+    border-top: 1px solid #a1a1a1;
+    display: block;
+}
+
+#body_pil #header #nav_main_menu #ul_submenu {
+    background-color: #454545;
+}
+
+
+#body_pil #footer {
+    background-color: #ffffff;
+}
+
+
+.div_sec_pil #sec_banner {
+    height: 556px;
+}
+
+.div_sec_pil #sec_banner #div_container_slider {
+    width: 100%;
+    height: 533px;
+    position: relative;
+    overflow: hidden;
+}
+
+.div_sec_pil #sec_banner #div_container_slider #div_container_slider_center {
+    width: 1920px;
+    height: 533px;
+    position: absolute;
+    top: 0;
+    left: 50%;
+    margin-left: -960px;
+}
+
+.div_sec_pil #sec_banner #div_slider {
+    width: 1920px;
+    height: 533px;
+    margin: 0 auto;
+    padding: 0;
+    position: relative;
+    overflow: hidden;
+}
+
+.div_sec_pil #sec_banner #div_slider_controls {
+    width: 125px;
+    height: 13px;
+    margin: 10px auto 0 auto;
+    padding: 0;
+}
+
+.div_sec_pil #sec_banner #div_slider_controls .a_slider_control {
+    width: 13px;
+    height: 13px;
+    display: block;
+    float: left;
+    margin: 0 15px 0 0;
+    background-color: #ffffff;
+    border: 0px none;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+}
+
+.div_sec_pil #sec_banner #div_slider_controls .a_slider_control:hover,
+.div_sec_pil #sec_banner #div_slider_controls .a_slider_control.selected {
+    background-color: #0fc2f9;
+}
+
+.div_sec_pil #sec_banner #div_slider_controls .a_slider_control:last-child {
+    margin-right: 0px;
+}
+
+
+.div_sec_pil #sec_opciones {
+    margin-top: 50px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion {
+    float: left;
+    width: 315px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion#div_opcion_ver_tutorial {
+    margin: 0 0 0 30px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_imagen_opcion {
+    width: 159px;
+    height: 159px;
+    margin: 0 auto;
+    border: 1px solid #ffffff;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_imagen_opcion .img_opcion {
+    display: block;
+    margin: 0 auto;
+    border: 0 none;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_imagen_opcion .img_opcion#img_video {
+    margin-top: 50px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_imagen_opcion .img_opcion#img_paga_en_linea {
+    margin-top: 35px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_imagen_opcion .img_opcion#img_premios {
+    margin-top: 40px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion {
+    margin-top: 55px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .h2_titulo_contenido_opcion {
+    height: 125px;
+    font-family: 'Roboto Slab',sans-serif;
+    font-weight: 300;
+    font-size: 35px;
+    color: #ffffff;
+    line-height: 40px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .h2_titulo_contenido_opcion span {
+    font-size: 30px;
+    font-weight: 400;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .pague_en_linea,  .div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .pague_en_linea2{
+    font-size: 26px !important;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .pague_en_linea span{
+    font-size: 24px !important;
+    color:#38a6ad !important;
+    font-weight: bold !important;
+}
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .pague_en_linea2 span{
+    font-size: 24px !important;
+    font-weight: bold !important;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .p_texto_contenido_opcion {
+    height: 100px;
+    margin-top: 45px;
+    font-family: 'Roboto Slab',sans-serif;
+    font-weight: 400;
+    font-size: 16px;
+    color: #ffffff;
+    line-height: 20px;
+    text-align: justify;
+
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .div_boton_contenido_opcion {
+    margin-top: 40px;
+}
+
+.div_sec_pil #sec_opciones .div_opcion .div_contenido_opcion .div_boton_contenido_opcion #link_abra_su_cuenta {
+    width: 184px;
+    height: 43px;
+}
+
+.div_sec_pil #sec_opciones .div_separador {
+    float: left;
+    width: 50px;
+    height: 100px;
+}
+
+
+.div_sec_pil #sec_contacto {
+    margin: 50px auto 55px auto;
+}
+
+.div_sec_pil #sec_contacto #h3_info {
+    width: 890px;
+    height: 55px;
+    margin: 0 auto;
+    font-family: 'Roboto Slab',sans-serif;
+    font-weight: 300;
+    font-size: 26px;
+    color: #ffffff;
+}
+
+.div_sec_pil #sec_contacto #h3_info span {
+    display: block;
+    float: left;
+    margin-top: 15px;
+}
+
+.div_sec_pil #sec_contacto .img_icono_contacto {
+    display: block;
+    float: left;
+    margin: 0 10px 0 25px;
+}
+
+.div_sec_pil #sec_contacto a {
+    display: block;
+    float: left;
+    margin-top: 15px;
+    font-family: 'Roboto Slab',sans-serif;
+    font-size: 26px;
+    color: #ffffff;
+    font-weight: 700 !important;
+}
+
+.div_sec_pil #sec_contacto a:hover {
+    text-decoration: underline;
+}
+
+.div_sec_pil #sec_contacto #span_telefono {
+    margin-right: 5px;
+    font-weight: 700;
+}
+
+
+#body_pil #simple-modal-overlay {
+    background-image: none;
+}
+
+#body_pil .simple-modal {
+    border: 0px none;
+    border-radius: 0px;
+}
+
+#body_pil .simple-modal .simple-modal-body {
+    padding: 0px;
+}
+
+#body_pil .simple-modal a.close {
+    top: 5px;
+    right: 10px;
+    width: 25px;
+    height: 25px;
+    border: 1px solid #ffffff;
+    font-weight: bold;
+    font-size: 13px;
+    color: #ffffff;
+    text-align: center;
+    line-height: 25px;
+    text-transform: uppercase;
+}
+
+#body_pil .simple-modal a.close:hover {
+    border: 1px solid #e1e1e1;
+    color: #e1e1e1;
+}
+
+
+.div_sec_pil #sec_modal_windows {
+    display: none;
+}
+
+.div_sec_pil #sec_modal_windows #div_modal_window_premios {}
+
+.div_sec_pil #sec_modal_windows #div_modal_window_video {}
+
+
+.div_modal_window_content {
+    width: 540px;
+    background-color: #ffffff;
+}
+
+.div_modal_window_content .div_modal_window_header {
+    height: 77px;
+    background: #040707; 
+    background: -webkit-linear-gradient(-90deg, #040707 70%, #194346); 
+    background: -o-linear-gradient(-90deg, #040707 70%, #194346); 
+    background: -moz-linear-gradient(-90deg, #040707 70%, #194346); 
+    background: linear-gradient(-90deg, #040707 70%, #194346); 
+}
+
+.div_modal_window_content .div_modal_window_header .div_header_img {
+    width: 66px;
+    height: 66px;
+    float: left;
+    margin: 5px 0 0 25px;
+    border: 1px solid #ffffff;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+}
+
+.div_modal_window_content .div_modal_window_header .div_header_img img {
+    margin: 15px auto 0 auto;
+    display: block;
+    border: 0px none;
+}
+
+.div_modal_window_content .div_modal_window_header .div_header_title {
+    float: left;
+    margin: 20px 0 0 15px;
+    font-family: 'Roboto Slab',sans-serif;
+    color: #ffffff;
+}
+
+.div_modal_window_content .div_modal_window_header .div_header_title .div_header_title_linea1 {
+    font-size: 24px;
+    font-weight: 300;
+    line-height: 24px;
+}
+
+.div_modal_window_content .div_modal_window_header .div_header_title .div_header_title_linea2 {
+    margin: 3px 0 0 0;
+    font-size: 18px;
+    font-weight: 400;
+    line-height: 18px;
+}
+
+.div_modal_window_content .div_modal_window_body {
+    width: 493px;
+    margin: 10px auto 40px auto;
+}
+
+.div_modal_window_content .div_modal_window_body #div_modal_window_slider {
+    width: 493px;
+    height: 358px;
+    margin: 0;
+    position: relative;
+    overflow: hidden;
+}
+
+.div_modal_window_content .div_modal_window_body #div_modal_window_slider_controls {
+    width: 44px;
+    height: 8px;
+    margin: 10px auto 0 auto;
+    padding: 0;
+}
+
+.div_modal_window_content .div_modal_window_body #div_modal_window_slider_controls .a_mw_slider_control {
+    width: 8px;
+    height: 8px;
+    display: block;
+    float: left;
+    margin: 0 10px 0 0;
+    background-color: #060c0c;
+    border: 0px none;
+    
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+}
+
+.div_modal_window_content .div_modal_window_body #div_modal_window_slider_controls .a_mw_slider_control:hover,
+.div_modal_window_content .div_modal_window_body #div_modal_window_slider_controls .a_mw_slider_control.selected {
+    background-color: #0fc2f9;
+}
+
+.div_modal_window_content .div_modal_window_body #div_modal_window_slider_controls .a_mw_slider_control:last-child {
+    margin-right: 0px;
+}
+
+.div_modal_window_content .div_modal_window_body .div_body_title_linea1 {
+    margin: 15px 0 0 0;
+    font-family: 'Roboto Slab',sans-serif;
+    font-size: 24px;
+    font-weight: 300;
+    color: #37969c;
+    line-height: 24px;
+}
+
+.div_modal_window_content .div_modal_window_body .div_body_title_linea2 {
+    margin: 10px 0 0 0;
+    font-family: 'Roboto Slab',sans-serif;
+    font-size: 18px;
+    font-weight: 400;
+    color: #194244;
+    line-height: 18px;
+}
+
+.div_modal_window_content .div_modal_window_body .p_body_texto {
+    margin: 15px 0 0 0;
+    font-family: 'Roboto Slab',sans-serif;
+    font-size: 10px;
+    font-weight: 400;
+    color: #060c0c;
+    line-height: 15px;
+    text-align: justify;
+}
+
+.div_modal_window_content .div_modal_window_body .p_body_texto strong {
+    font-weight: 700;
+}
+
+.div_modal_window_content .div_modal_window_body #link_participar {
+    width: 113px;
+    height: 26px;
+    display: block;
+    float: left;
+    margin: 15px 0 0 0;
+    font-size: 14px;
+    line-height: 26px;
+    
+    -webkit-border-radius: 5px;
+    -moz-border-radius: 5px;
+    border-radius: 5px;
+}
+
+.div_modal_window_content .div_modal_window_body #link_terminos_y_condiciones {
+    height: 13px;
+    float: right;
+    margin: 25px 0 0 0;
+    font-family: 'Roboto Slab',sans-serif;
+    font-size: 13px;
+    font-weight: 700;
+    color: #38a6ad;
+    line-height: 13px;
+    text-align: right;
+    text-decoration: underline;
+    
+}
+
+.div_modal_window_content .div_modal_window_body #link_terminos_y_condiciones:hover {
+    color: #5fc9d0
+}
+
+
+.div_modal_window_content .div_modal_window_body #div_modal_window_video_iframe {
+    width: 493px;
+    height: 358px;
+}
+
+
+.div_modal_window_content .div_modal_window_body .pg_btn_verde_oscuro, .pg_btn_verde_oscuro_renta {
+    width: 173px;
+    height: 27px;
+    margin: 10px 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: right;
+    background-color: #112c2d;
+    border: 0px none;
+    
+    -webkit-border-radius: 5px;
+    -moz-border-radius: 5px;
+    border-radius: 5px;
+    font-family: 'Lato',sans-serif;
+    font-size: 14px;
+    font-weight: bold;
+    color: #ffffff;
+    text-align: center;
+    line-height: 27px;
+}
+
+.div_modal_window_content .div_modal_window_body .pg_btn_verde_oscuro_renta {
+    width: 190px !important;
+    margin-right: 18px !important;
+}
+
+.div_modal_window_content .div_modal_window_body .pg_btn_verde_oscuro:hover, .pg_btn_verde_oscuro_renta:hover
+.div_modal_window_content .div_modal_window_body .pg_btn_verde_oscuro:active, .pg_btn_verde_oscuro_renta:active {
+    background-color: #1d4b4d;
+}
+
+
+
+.container_be_smart{
+    width: 100%;
+    font-family: 'Lato', sans-serif;
+}
+
+.container_be_smart .header{
+    border-bottom: 4px solid #1c4244;
+    box-shadow: 0px 10px 15px #ccc;
+    width: 100%;
+    position: fixed;
+    background-color: #fff;
+    top: 0;
+    z-index: 999;
+}
+
+.container_be_smart .header header{
+    width: 1115px;
+    margin: 0 auto;
+}
+
+.container_be_smart .header .contacto{
+    float: right;
+    margin: 44px 50px 0 0;
+}
+
+.container_be_smart .boton{
+    background-color: #1c4244;
+    display: inline-block;
+    font-size: 22px;
+    padding: 8px 20px;
+    text-align: center;
+    width: 190px;
+}
+
+.container_be_smart .boton:hover{
+    background-color: #19888d;
+}
+
+.container_be_smart .clear{
+    clear: both;
+}
+
+.container_be_smart a.logo{
+    float: left;
+    margin-bottom: 10px;
+    margin-left: 420px;
+    margin-top: 10px;
+}
+
+.container_be_smart .header .contacto a,
+.container_be_smart .botones a{
+    color: #fff;
+    text-decoration: none;
+}
+
+.container_be_smart .header .contacto .boton{
+    width: 110px !important;
+    font-size: 14px;
+}
+
+.container_be_smart .informacion{
+    text-align: center;
+}
+
+.container_be_smart .informacion_top{
+    margin-top: 108px;
+}
+
+.container_be_smart .informacion h1,
+.container_be_smart .informacion h2,
+.container_be_smart .informacion h4{
+    font-weight: normal;
+    color: #253c3d;
+}
+.container_be_smart .content .informacion_top h2 {
+    font-size: 18px;
+    margin-bottom: 5px;
+}
+
+.container_be_smart .informacion .hashtag{
+    font-style: italic;
+    font-weight: bold !important;
+    color: #249ea3 !important;
+    font-size: 24px;
+    margin: 0 auto;
+}
+
+.container_be_smart .informacion .hashtag span{
+    color: #000;
+}
+
+
+.container_be_smart #div_slider {
+    width: 1115px;
+    height: 245px;
+    margin: 20px auto 60px;
+    padding: 0;
+    position: relative;
+    overflow: hidden;
+}
+
+.container_be_smart .botones{
+    width: 1115px;
+    margin: 0 auto;
+}
+
+.container_be_smart .sub_container,
+.container_be_smart .content{
+    width: 1115px;
+    margin: 0 auto;
+}
+
+.container_be_smart .tabla{
+    width: 100%;
+    display: table;
+}
+
+.container_be_smart .fila{
+    display: table-row;
+}
+
+.container_be_smart .celda{
+    display: table-cell;
+    width: 33%;
+}
+
+.container_be_smart .centro h3{
+    width: 100%;
+    text-align: center;
+}
+
+.container_be_smart .info_contacto{
+    text-align: right;
+    padding-right: 100px;
+}
+
+.container_be_smart .informacion h2.paises{
+    color: #19888d !important;
+    font-weight: normal;
+    font-size: 18px;
+}
+
+.container_be_smart .paises strong{
+    color: #000;
+    font-weight: initial;
+}
+
+.container_be_smart .informacion_contacto{
+    width: 100%;
+    background-image: url('../img/vw_be_smart/bs_background_info_contacto.png');
+    background-repeat: repeat-y;
+    background-position: left;
+    background-color: #040707;
+    color: #fff;
+    padding: 15px 0;
+    margin-top: 40px;
+}
+
+.container_be_smart .informacion_contacto h3{
+    font-weight: normal;
+    display: inline;
+}
+
+.container_be_smart h1.descripcion{
+    font-size: 18px;
+    font-weight: normal;
+    margin-bottom: 25px;
+}
+.container_be_smart h1.descripcion strong {
+    font-weight: bold;
+}
+.container_be_smart h4.indicacion{
+    font-size: 22px;
+    padding: 30px 0;
+}
+
+.container_be_smart .pregunta{
+    font-size: 14px;
+    font-weight: normal;
+    margin-top: 10px;
+    text-align: center;
+    width: 100%;
+}
+
+
+
+
+
+
+
+
+#body_crpl {
+    background-color: #000000;
+}
+
+
+
+#body_crpl .div_sec_crpl #sec_header {
+    min-height: 104px;
+    background-image: url("../img/vw_cobrar_y_recibir_pagos_en_linea/pg-lc-background-playa-header.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+    border-bottom: 1px solid #030506;
+}
+
+#body_crpl #header {
+    min-height: 104px;
+    background-color: transparent;
+}
+
+#body_crpl #header #a_logo {
+    width: 301px;
+    height: 60px;
+    float: left;
+    margin: 17px 0 0 0;
+}
+
+
+#body_crpl #header #nav_language {
+    width: 58px;
+    height: 41px;
+    margin: 0 0 0 0;
+    float: right;
+}
+
+#body_crpl #header #nav_language a {
+    width: 58px;
+    display: block;
+    font-family: "Noto Sans",sans-serif;
+    font-size: 12px;
+    font-weight: normal;
+    color: #030506;
+    text-align: center;
+    text-decoration: none;
+}
+
+#body_crpl #header #nav_language:hover > ul {
+    display: block;
+}
+
+#body_crpl #header #nav_language ul {
+    width: 58px;
+    margin: 0;
+    padding: 0;
+    position: relative;
+    float: right;
+    top: 6px;
+    list-style: outside none none;
+    display: none;
+}
+
+#body_crpl #header #nav_language ul li {
+    width: 58px;
+    height: 13px;
+    margin: 0;
+    padding: 0;
+    background-color: #eaefee;
+}
+
+#body_crpl #header #nav_language ul li:hover {
+    background-color: #030506;
+    opacity: 1;
+}
+
+#body_crpl #header #nav_language ul li a {
+    width: 58px;
+    height: 13px;
+    margin: 0;
+    padding: 0;
+    display: block;
+    font-family: "Lato",sans-serif;
+    font-size: 10px;
+    font-weight: 300;
+    color: #030506;
+    text-align: center;
+    text-decoration: none;
+    line-height: 13px;
+}
+
+#body_crpl #header #nav_language ul li a:hover {
+    color: #ffffff;
+}
+
+
+#body_crpl #header #div_header_right {
+    margin: 5px 0 0 0;
+}
+
+#body_crpl #header #nav_main_menu {
+    min-height: 25px;
+    margin: 0 75px 0 0;
+    float: none;
+}
+
+#body_crpl #header #nav_main_menu ul li.li_separetor {
+    margin: 0 50px 0 50px;
+    background-color: #030506;
+}
+
+#body_crpl #header #nav_main_menu ul li a h4 {
+    font-family: 'Noto Sans',sans-serif;
+    font-weight: normal;
+    font-size: 18px;
+    color: #030506;
+    line-height: 25px;
+}
+
+#body_crpl #header #nav_main_menu ul li a.active h4,
+#body_crpl #header #nav_main_menu ul li a:hover h4 {
+    color: #030506;
+    text-decoration: underline;
+}
+
+
+
+#body_crpl #footer {
+    min-height: 478px;
+    background-color: #030506;
+    border-top: 0px none;
+    margin-top: 115px;
+}
+
+#body_crpl #footer #sec_pagadito_footer {
+    margin-top: 0px;
+}
+
+#body_crpl #footer #sec_pagadito_footer .div_logo {
+    text-align: center;
+    margin-bottom: 64px;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column {
+    min-width: 350px;
+    float: left;
+}
+
+#body_crpl #footer #sec_pagadito_footer #column_1 {}
+
+#body_crpl #footer #sec_pagadito_footer #column_2 {
+    width: 360px;
+    margin: 0 55px 0 0;
+}
+
+#body_crpl #footer #sec_pagadito_footer #column_3 {}
+
+#body_crpl #footer #sec_pagadito_footer .column h3 {
+    margin: 0 0 30px 0;    
+    font-family: 'Latos', sans-serif;
+    font-size: 14px;
+    font-weight: bold;
+    color: #47c1bf;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column .optionsList {
+    margin: 0 0 45px 0;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column .optionsList li {
+    margin: 0 0 16px 0;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column .optionsList li a h4 {
+    font-family: 'Lato', sans-serif;
+    font-weight: bold;
+    font-size: 14px;
+    color: #ffffff;
+    display: inline;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column .optionsList li a:hover h4 {
+    text-decoration: underline;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete {
+    margin-bottom: 40px;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete label {
+    margin: 0 0 20px 0;
+    font-family: 'Lato', sans-serif;
+    font-size: 14px;
+    font-weight: bold;
+    color: #ffffff;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete #txt_suscribete_email {
+    width: 248px;
+    height: 33px;
+    float: left;
+    display: block;
+    border: 0px none;
+    background-color: #ffffff;
+    font-family: 'Lato', sans-serif;
+    font-size: 14px;
+    color: #6c6b6b;
+    font-weight: bold;
+    text-indent: 10px;
+    border-top-left-radius: 10px;
+    border-bottom-left-radius: 10px;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete #txt_suscribete_email:focus {
+    color: #000000;
+    border: 0px none;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete #btn_suscribete_ok {
+    width: 110px;
+    height: 33px;
+    background-color: #47c1bf;
+    border: 0px none;
+    font-family: 'Lato', sans-serif;
+    font-size: 14px;
+    color: #000000;
+    font-weight: bold;
+    cursor: pointer;
+    border-top-right-radius: 10px;
+    border-bottom-right-radius: 10px;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete #btn_suscribete_ok:hover {
+    background-color: #50d9d7;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete #msj_suscribete_no_email,
+#body_crpl #footer #sec_pagadito_footer .column #frm_suscribete #msj_suscribete {
+    margin: 10px 0 0 10px;
+    font-family: 'Lato', sans-serif;
+    font-size: 13px;
+    font-weight: bold;
+    display: none;
+    color: #47c1bf;
+    text-transform: uppercase;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #redes_sociales {
+    margin: -10px 0 50px 0;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #redes_sociales .pg_redes_sociales {
+    margin-right: 3px;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #certificados {
+    margin: 30px 0 0 0;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #certificados #div_tarjetas {
+    width: auto;
+    float: left;
+    margin: 0 18px 0 0;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #certificados #verisign {
+    width: auto;
+    margin: 0 8px 0 0;
+}
+
+#body_crpl #footer #sec_pagadito_footer .column #certificados #pci {
+    width: auto;
+    margin: 0 0 0 0;
+}
+
+
+
+.div_sec_crpl #sec_con_pagadito_puedes {
+    min-height: 479px;
+    background-image: url("../img/vw_cobrar_y_recibir_pagos_en_linea/pg-lc-background-playa.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_crpl #sec_retira_los_fondos {
+    min-height: 408px;    
+    background-color: #ffffff;
+}
+
+.div_sec_crpl #sec_que_es_pagadito {
+    min-height: 745px;
+    background-image: url("../img/vw_cobrar_y_recibir_pagos_en_linea/pg-lc-background-negocio.jpg");
+    background-position: center top;
+    background-repeat: no-repeat;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad {
+    min-height: 660px;
+    background-color: #030506;
+}
+
+.div_sec_crpl #sec_abre_y_vende {
+    min-height: 190px;
+    background-color: #37969c;
+}
+
+.div_sec_crpl #sec_publicos {
+    min-height: 613px;
+    background-image: url("../img/vw_cobrar_y_recibir_pagos_en_linea/pg-lc-background-oficina.jpg");
+    background-position: center bottom;
+    background-repeat: no-repeat;
+}
+
+.div_sec_crpl #sec_comision_atractiva {
+    min-height: 725px;
+    background-color: #f6f9f8;
+    background-image: url("../img/vw_cobrar_y_recibir_pagos_en_linea/pg-lc-background-edificios.jpg");
+    background-position: center bottom;
+    background-repeat: no-repeat;
+}
+
+.div_sec_crpl #sec_empresas_lationamerica {
+    min-height: 385px;
+    background-color: #fdfdfd;
+}
+
+.div_sec_crpl #sec_inicia_ahora {
+    min-height: 442px;
+    background-color: #fdfdfd;
+}
+
+.div_sec_crpl #sec_contactanos {
+    min-height: 1000px;
+    background-color: #030506;
+}
+
+
+
+.div_sec_crpl #sec_que_es_pagadito .div_layer_background {
+    width: 452px;
+    height: 520px;
+    margin: 148px 0 0 590px;
+    background-color: #000000;
+    opacity: 0.5;
+    position: absolute;
+    z-index: 1;
+}
+
+.div_sec_crpl #sec_que_es_pagadito .div_layer_contenido {
+    width: 430px;
+    height: 520px;
+    margin: 148px 0 0 590px;
+    padding-left: 22px;
+    position: absolute;
+    z-index: 2;
+}
+
+
+#body_crpl .btn-abre-tu-cuenta {
+    width: 460px;
+    height: 60px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-color: #3fb3ba;
+    border: 0px none;
+    font-family: 'Lato',sans-serif;
+    font-size: 26px;
+    font-weight: bold;
+    color: #ffffff;
+    text-align: center;
+    line-height: 60px;
+}
+
+#body_crpl .btn-abre-tu-cuenta:hover,
+#body_crpl .btn-abre-tu-cuenta:active {
+    background-color: #4bd6de;
+}
+
+#body_crpl .btn-abre-tu-cuenta-negro {
+    width: 460px;
+    height: 56px;    
+    background-color: transparent;
+    border: 2px solid #030506;
+    color: #030506;
+    line-height: 56px;
+}
+
+#body_crpl .btn-abre-tu-cuenta-negro:hover,
+#body_crpl .btn-abre-tu-cuenta-negro:active,
+#body_crpl .btn-abre-tu-cuenta-negro_hover {
+    background-color: #030506;
+    color: #ffffff;
+}
+
+#body_crpl .btn-contactanos {
+    width: 144px;
+    height: 40px;
+    margin: 6px 0 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-color: #000000;
+    border: 2px solid #ffffff;
+    
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+    font-family: 'Lato',sans-serif;
+    font-size: 14px;
+    font-weight: normal;
+    color: #ffffff;
+    text-align: center;
+    line-height: 40px;
+}
+
+#body_crpl .btn-contactanos:hover,
+#body_crpl .btn-contactanos:active {
+    background-color: #363636;
+}
+
+#body_crpl .btn-contactanos-gris {
+    background-color: #c1c2c3;
+    border-color: #c1c2c3;
+    color: #000000;
+}
+
+#body_crpl .btn-contactanos-gris:hover,
+#body_crpl .btn-contactanos-gris:active {
+    background-color: #d9dada;
+    border-color: #d9dada;
+}
+
+
+
+#body_crpl .text-align-left {
+    text-align: left;
+}
+
+#body_crpl .text-align-right {
+    text-align: right;
+}
+
+#body_crpl .text-align-center {
+    text-align: center;
+}
+
+#body_crpl .font-weight-light {
+    font-weight: 300;
+}
+
+#body_crpl .font-weight-normal {
+    font-weight: 400;
+}
+
+#body_crpl .font-weight-bold {
+    font-weight: 700;
+}
+
+#body_crpl .font-weight-black {
+    font-weight: 900;
+}
+
+#body_crpl .font-size-13 {
+    font-size: 13px;
+}
+
+#body_crpl .font-size-14 {
+    font-size: 14px;
+}
+
+#body_crpl .font-size-15 {
+    font-size: 15px;
+}
+
+#body_crpl .font-size-18 {
+    font-size: 18px;
+}
+
+#body_crpl .font-size-19 {
+    font-size: 19px;
+}
+
+#body_crpl .font-size-20 {
+    font-size: 20px;
+}
+
+#body_crpl .font-size-21 {
+    font-size: 21px;
+}
+
+#body_crpl .font-size-22 {
+    font-size: 22px;
+}
+
+#body_crpl .font-size-24 {
+    font-size: 24px;
+}
+
+#body_crpl .font-size-26 {
+    font-size: 26px;
+}
+
+#body_crpl .font-size-27 {
+    font-size: 27px;
+}
+
+#body_crpl .font-size-30 {
+    font-size: 30px;
+}
+
+#body_crpl .font-size-31 {
+    font-size: 31px;
+}
+
+#body_crpl .font-size-36 {
+    font-size: 36px;
+}
+
+#body_crpl .font-size-40 {
+    font-size: 40px;
+}
+
+#body_crpl .font-size-41 {
+    font-size: 41px;
+}
+
+#body_crpl .font-size-48 {
+    font-size: 48px;
+}
+
+#body_crpl .font-size-49 {
+    font-size: 49px;
+}
+
+#body_crpl .font-size-54 {
+    font-size: 54px;
+}
+
+#body_crpl .font-size-60 {
+    font-size: 60px;
+}
+
+#body_crpl .font-color-white {
+    color: #ffffff;
+}
+
+#body_crpl .font-color-black {
+    color: #030506;
+}
+
+#body_crpl .font-color-gray {
+    color: #d0d2d4;
+}
+
+#body_crpl .font-color-green {
+    color: #3fb3ba;
+}
+
+#body_crpl .font-color-green2 {
+    color: #399ba1;
+}
+
+#body_crpl .font-color-green3 {
+    color: #37969c;
+}
+
+#body_crpl .font-color-green4 {
+    color: #47c1bf;
+}
+
+
+
+
+
+.div_sec_crpl #sec_con_pagadito_puedes #h_linea_1 {
+    padding-top: 50px;
+    line-height: 36px;
+}
+
+.div_sec_crpl #sec_con_pagadito_puedes #h_linea_2 {
+    width: 600px;
+    height: 57px;
+    background-color: #13171c;
+    margin: 30px auto 0 auto;
+    padding-top: 5px;
+    line-height: 25px;
+}
+
+.div_sec_crpl #sec_con_pagadito_puedes .btn-abre-tu-cuenta {
+    margin: 60px auto 0 auto;
+    display: block;
+}
+
+
+
+.div_sec_crpl #sec_retira_los_fondos .div_left {
+    width: 755px;
+    min-height: 255px;
+    margin-top: 55px;
+    float: left;
+    border-right: 2px solid #030506;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_right {
+    width: 165px;
+    height: auto;
+    margin-top: 75px;
+    margin-left: 40px;
+    float: left;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_left #h_linea_1 {
+    padding-top: 15px;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_left #h_linea_2 {
+    padding-top: 28px;
+    line-height: 30px;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_left #p_linea_3 {
+    padding-top: 50px;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_left .btn-abre-tu-cuenta {
+    margin-top: 15px;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_right .img_comision {}
+
+.div_sec_crpl #sec_retira_los_fondos .div_right #p_linea_1 {
+    padding-top: 18px;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_right #p_linea_2 {
+    padding-top: 8px;
+}
+
+.div_sec_crpl #sec_retira_los_fondos .div_right #p_linea_3 {
+    padding-top: 8px;
+}
+
+
+
+.div_sec_crpl #sec_que_es_pagadito .img_logo_pagadito {
+    padding-top: 35px;
+    padding-left: 22px;
+}
+
+.div_sec_crpl #sec_que_es_pagadito #h_linea_1 {
+    padding-top: 35px;
+    line-height: 30px;
+}
+
+.div_sec_crpl #sec_que_es_pagadito #p_linea_2 {
+    padding-top: 50px;
+    line-height: 30px;
+}
+
+.div_sec_crpl #sec_que_es_pagadito #p_linea_3 {
+    padding-top: 50px;
+    line-height: 30px;
+}
+
+
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad #h_linea_1 {
+    padding-top: 74px;
+    display: block;
+    margin: 0px auto 0px auto;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad #h_linea_2 {
+    padding-top: 20px;
+    display: block;
+    margin: 0px auto 0px auto;
+    line-height: 1.4;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad .div_contenido_left {
+    width: 50%;
+    float: left;
+    margin: 170px 0 0 0;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad .div_contenido_left #h_linea_1 {
+    margin: 0 0 0 0;
+    padding-top: 0px;
+    line-height: 30px;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad .div_contenido_right {
+    width: 508px;
+    float: left;
+    margin: 115px 0 0 0;
+    text-align: center;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad .div_contenido_right #div_pci_y_trustwave {
+    width: 508px;
+    padding-bottom: 18px;
+    border-bottom: 2px solid #ffffff;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad .img_logo_pci {
+    display: inline-block;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad #div_trustwave_azul {
+    display: inline-block;
+    padding-left: 25px;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad #div_trustwave_verde {
+    display: inline-block;
+    padding-left: 25px;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad .img_marcas_tarjetas {
+    margin-top: 25px;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad #p_linea_1 {
+    display: block;
+    margin: 55px auto 0 auto;
+}
+
+.div_sec_crpl #sec_retiros_locales_y_seguridad .btn-abre-tu-cuenta {
+    display: block;
+    margin: 30px auto 0 auto;
+}
+
+
+
+.div_sec_crpl #sec_abre_y_vende .div_section_content {
+    text-align: center;
+}
+
+.div_sec_crpl #sec_abre_y_vende #h_linea_1 {
+    padding-top: 34px;
+}
+
+.div_sec_crpl #sec_abre_y_vende #h_linea_2 {
+    padding-top: 22px;
+    line-height: 25px;
+}
+
+.div_sec_crpl #sec_abre_y_vende #h_linea_3 {
+    line-height: 25px;
+}
+
+
+
+.div_sec_crpl #sec_publicos .div_filas {
+    width: 455px;
+    padding-top: 70px;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content {
+    width: 455px;
+    height: 58px;
+    display: block;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .div_row_sep_content {
+    width: 455px;
+    height: 75px;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content .img_publico {
+    float: left;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content .img_publico_hover {
+    float: left;
+    display: none;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content .h_nombre_publico {
+    width: 367px;
+    float: left;
+    padding-left: 30px;
+    padding-top: 24px;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content .h_texto_publico {
+    width: 367px;
+    padding-left: 88px;
+    padding-top: 10px;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content:hover {}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content:hover .img_publico {
+    display: none;
+}
+
+.div_sec_crpl #sec_publicos .div_filas .a_row_content:hover .img_publico_hover {
+    display: inline;
+}
+
+
+
+.div_sec_crpl #sec_publicos .div_filas #a_row_content_1 .h_nombre_publico {
+    padding-top: 12px;
+}
+
+
+
+.crpl_tooltip {
+    width: 441px;
+    height: 78px;
+    background-image: url("../img/vw_cobrar_y_recibir_pagos_en_linea/pg-lc-background-tooltip.png");
+    background-position: left top;
+    background-repeat: no-repeat;
+    z-index: 13000;
+    
+    -webkit-box-shadow: 5px 5px 10px 0px rgba(3,3,3,0.4);
+    -moz-box-shadow: 5px 5px 10px 0px rgba(3,3,3,0.4);
+    box-shadow: 5px 5px 10px 0px rgba(3,3,3,0.4);
+}
+ 
+.crpl_tooltip .tip-title {
+    height: 48px;
+    width: 412px;
+    margin-left: 11px;
+    padding: 20px;
+    background-color: #f6f9f8;
+    font-size: 18px;
+    font-weight: normal;
+    color: #030303;
+    line-height: 20px;
+}
+
+.crpl_tooltip .tip-text {
+    display: none;
+}
+
+
+
+.div_sec_crpl #sec_publicos #p_linea_1 {
+    padding-top: 60px;
+}
+
+.div_sec_crpl #sec_publicos .btn-abre-tu-cuenta {
+    margin-top: 15px;
+}
+
+
+
+.div_sec_crpl #sec_comision_atractiva #h_linea_1 {
+    padding-top: 50px;
+    text-align: center;
+}
+
+.div_sec_crpl #sec_comision_atractiva #h_linea_2 {
+    padding-top: 20px;
+    text-align: center;
+    line-height: 24px;
+}
+
+.div_sec_crpl #sec_comision_atractiva #h_linea_3 {
+    text-align: center;
+    line-height: 24px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_left {
+    width: 295px;
+    min-height: 300px;
+    margin-left: 235px;
+    margin-top: 100px;
+    float: left;
+    border-right: 2px solid #030506;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right {
+    width: 415px;
+    height: auto;
+    margin-top: 107px;
+    margin-left: 80px;
+    float: left;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_left .img_comision {
+    padding-left: 50px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_left #p_linea_1 {
+    padding-top: 25px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_left #p_linea_2 {
+    padding-top: 10px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_left #p_linea_3 {
+    padding-top: 10px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_left #p_linea_4 {
+    padding-top: 10px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right #p_linea_1 {
+    padding-left: 25px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right #p_linea_2 {
+    padding-top: 17px;
+    padding-left: 25px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right #p_linea_3 {
+    padding-top: 17px;
+    line-height: 28px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right #p_linea_4 {
+    padding-top: 17px;
+    padding-left: 25px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right #p_linea_5 {
+    padding-top: 17px;
+    line-height: 28px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right #p_linea_6 {
+    padding-top: 50px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right .btn-abre-tu-cuenta {
+    margin-top: 15px;
+}
+
+.div_sec_crpl #sec_comision_atractiva .div_right .img_bullet{
+    float: left;
+    margin-top: 25px;
+    margin-right: 15px;
+    padding-bottom: 30px;
+}
+
+
+.div_sec_crpl #sec_empresas_lationamerica #h_linea_1 {
+    padding-top: 46px;
+}
+
+.div_sec_crpl #sec_empresas_lationamerica #div_carousel_clientes {
+    margin: 40px 0 0 0;
+}
+
+.div_sec_crpl #sec_empresas_lationamerica #div_carousel_clientes #div_link_prev {
+    width: 58px;
+    height: 58px;
+    margin: 46px 0 0 0;
+    float: left;
+    cursor: pointer;
+}
+
+.div_sec_crpl #sec_empresas_lationamerica #div_carousel_clientes #div_link_next {
+    width: 58px;
+    height: 58px;
+    margin: 46px 0 0 0;
+    float: left;
+    cursor: pointer;
+}
+
+.div_sec_crpl #sec_empresas_lationamerica #div_carousel_clientes #div_link_prev:hover,
+.div_sec_crpl #sec_empresas_lationamerica #div_carousel_clientes #div_link_next:hover {
+    opacity: 0.5;
+}
+
+.div_sec_crpl #sec_empresas_lationamerica #div_carousel_clientes #div_slide_clientes {
+    width: 990px;
+    height: 150px;
+    float: left;
+    position: relative;
+    overflow: hidden;
+}
+
+.div_sec_crpl #sec_empresas_lationamerica #div_carousel_clientes #div_slide_clientes a {
+    width: 150px;
+    height: 150px;
+    position: relative;
+    display: inline-block;
+    margin: 0 24px;
+    cursor: default;
+}
+
+
+
+.div_sec_crpl #sec_inicia_ahora .div_section_content {
+    min-height: 442px;
+    background-image: url("../img/vw_cobrar_y_recibir_pagos_en_linea/pg-lc-background-personas.png");
+    background-position: right bottom;
+    background-repeat: no-repeat;
+}
+
+.div_sec_crpl #sec_inicia_ahora #p_linea_1 {
+    margin-left: 110px;
+    padding-top: 90px;
+}
+
+.div_sec_crpl #sec_inicia_ahora #p_linea_2 {
+    margin-left: 110px;
+    padding-top: 15px;
+    line-height: 28px;
+}
+
+.div_sec_crpl #sec_inicia_ahora .btn-abre-tu-cuenta {
+    margin-left: 110px;
+    margin-top: 10px;
+}
+
+
+
+.div_sec_crpl #sec_contactanos .div_section_content {
+    width: 640px;
+    margin: 0 auto 0 auto;
+}
+
+.div_sec_crpl #sec_contactanos #h_linea_1 {
+    padding-top: 80px;
+}
+
+.div_sec_crpl #sec_contactanos #frm_contactanos {
+    width: 640px;
+    padding-top: 30px;
+}
+
+.div_sec_crpl #sec_contactanos .div_row_form {
+    margin-bottom: 80px;
+}
+
+.div_sec_crpl #sec_contactanos .div_row_form#last_div_row_form {
+    margin-bottom: 40px;
+    margin-top: 200px;
+}
+
+.div_sec_crpl #sec_contactanos .input_txt {
+    width: 640px;
+    height: 54px;
+    border-top: 0px none;
+    border-left: 0px none;
+    border-right: 0px none;
+    border-bottom: 2px solid #ffffff;
+    background-color: #030506;
+    font-family: 'Lato',Arial,Helvetica;
+    font-weight: normal;
+    font-size: 27px;
+    color: #e1e1e1;
+}
+
+.div_sec_crpl #sec_contactanos .input_txt:focus {
+    border-bottom: 2px solid #3fb3ba;
+}
+
+.div_sec_crpl #sec_contactanos .select {
+    width: 640px;
+    height: 54px;
+    border-top: 0px none;
+    border-left: 0px none;
+    border-right: 0px none;
+    border-bottom: 2px solid #ffffff;
+    background-color: #030506;
+    font-family: 'Lato',Arial,Helvetica;
+    font-weight: normal;
+    font-size: 27px;
+    color: #e1e1e1;
+}
+
+.div_sec_crpl #sec_contactanos .select:focus {
+    border-bottom: 2px solid #3fb3ba;
+}
+
+.div_sec_crpl #sec_contactanos .fc-error {
+    background-color: #030506;
+    border: 0px none;
+}
+
+.div_sec_crpl #sec_contactanos .fc-error p {
+    font-size: 16px;
+    color: #3fb3ba;
+    margin: 0px;
+}
+
+.div_sec_crpl #sec_contactanos .btn-abre-tu-cuenta {
+    display: block;
+    margin: 0 auto 0 auto;
+}
+
+.div_sec_crpl #sec_contactanos #div_msg {
+    display: none;
+    margin-top: 30px;
+    font-size: 22px;
+    font-weight: bold;
+    color: #3fb3ba;
+    text-align: center;
+    line-height: 25px;
+}
+
+.div_sec_crpl #sec_contactanos #sel_pais {
+    float: left;
+    width: 350px;
+}
+
+.div_sec_crpl #sec_contactanos #txt_telefono {
+    float: right;
+    width: 283px;
+    margin-left: 5px;
+}
+
+#link_afiliate{
+    font-size: 16px;
+    width: 280px;
+}
+
+.strong{
+    font-weight: bold !important;
+    color: #000 !important;
+}
+
+#link_abra_su_cuenta h2, #link_abra_su_cuenta h3, #link_abra_su_cuenta_pj h3, #link_abra_su_cuenta_pn h3{
+    font-size: 16px !important;
+}
Index: branches/b-20180319.02/funciones_gen.php
===================================================================
--- trunk/funciones_gen.php	(revision 3384)
+++ branches/b-20180319.02/funciones_gen.php	(revision 3579)
@@ -764,5 +764,5 @@
 
     if ($modo == 1) {
-        $prinHtml .= '<div class="detallecuerpo"><h1>' . $titulo . '</h1>';
+        $prinHtml .= '<div class="detallecuerpo container-fluid"><h1>' . $titulo . '</h1>';
     }
     $id_usuario = $_SESSION['usuaPagaditoUsuario'];
@@ -815,16 +815,14 @@
     if ($mt == 4) {
 
-        $prinHtml .= '<div style="border-style: solid; border-width: 1px; border-color: #cccccc; width: 502px;">
-				<table width="502">
-					<tr><td style="height: 10px;"></td></tr>
-					<tr>
-						<td>&nbsp;' . PG_RECARGO_HOME_SALDO_MI_PAGADITO . ': <span style="font-weight: bold;">USD $&nbsp;' . (number_format($saldo_disponible, 2, '.', ',')) . '&nbsp;</span></td>
-					</tr>
-					<tr><td>&nbsp;</td></tr>
-					<tr>
-						<td>&nbsp;' . PG_RECARGO_HOME_INGRESAR_MONTO . ': USD $&nbsp;
-                                                <input type="text" id="_monto" name="monto" value="' . $monto . '" class="vl_dinero" style="width: 100px;" maxlength="7"/>&nbsp;</td>
-					</tr>
-				</table><br /></div>';
+        $prinHtml .= '<div style="border-style: solid; border-width: 1px; border-color: #cccccc;" class="container-fluid">
+				<div class="row">
+					<div class="col-12 mt-3 mb-2">
+						' . PG_RECARGO_HOME_SALDO_MI_PAGADITO . ': <span style="font-weight: bold;">USD $&nbsp;' . (number_format($saldo_disponible, 2, '.', ',')) . '
+					</div>
+					<div class="col-12 mt-3 mb-3">
+						' . PG_RECARGO_HOME_INGRESAR_MONTO . ': USD $&nbsp; <input type="text" id="_monto" name="monto" value="' . $monto . '" class="vl_dinero" style="width: 100px;" maxlength="7"/>
+					</div>
+				</div>
+				</div>';
     } else if ($mt != 1 && $mt != 4) {
         //
@@ -834,6 +832,6 @@
         }
         //
-        $prinHtml .= '<div style="border-style: solid; border-width: 1px; border-color: #cccccc; width: 502px;">
-				<table width="502">
+        $prinHtml .= '<div style="border-style: solid; border-width: 1px; border-color: #cccccc;">
+				<table width="100%">
 					<tr>
 						<td>&nbsp;Saldo en Mi Pagadito: <span style="font-weight: bold;">USD $&nbsp;' . (number_format($saldo, 2, '.', ',')) . '&nbsp;</span></td>
@@ -850,6 +848,6 @@
     if ($usarTarj) {
         //
-        $prinHtml .= '<br /><div style="border-style: solid; border-width: 1px; border-color: #cccccc; width: 502px;">
-				<table width="502" id="tblTarjetas" name="tblTarjetas" class="cuadros" border="0">
+        $prinHtml .= '<br /><div style="border-style: solid; border-width: 1px; border-color: #cccccc;">
+				<table width="100%" id="tblTarjetas" name="tblTarjetas" class="cuadros" border="0">
 				<thead>
 					<tr style="color:#552f44; background: #ece4e9;">
@@ -879,5 +877,5 @@
                                 <img src="' . URL_SITIO . '/imagenes/' . $fila['logo'] . '"/>
                             </td>
-                            <td>' . $fila['tarjeta'] . '</td>
+                            <td style="text-align: center;">' . $fila['tarjeta'] . '</td>
                         </tr>';
                     if ($primera) {
@@ -891,5 +889,5 @@
             $prinHtml .= '<tr><td colspan="3">' . PG_RECARGO_MSG_SIN_TARJETA . '</td></tr>';
         }
-        $prinHtml .= '</tbody></table><br /></div>';
+        $prinHtml .= '</tbody></table></div>';
     }
 
@@ -899,5 +897,5 @@
 		<input type="hidden" name="co" value="' . $cuentaOper . '" />
                 <br />
-		<table width="502" id="tblTarjetas" name="tblTarjetas" class="cuadros" border="0">
+		<table width="100%" id="tblTarjetas" name="tblTarjetas" class="cuadros" border="0">
 			<tr>
 				<td><div style="color: #FF0000;" id="_alertasSel"></div></td>
@@ -979,30 +977,48 @@
         $r->fetchInto($fila);
 
-        $prinHtml .= '<table width="500" border="0" style="width:700px;float:left;clear:left">
-                        <tr>
-                            <td colspan="2"><h4>' . PG_RECARGO_CONFIRMAR_TARJETA_SELECCIONADA . '</h4></td>
-                        </tr>
-                        <tr>
-                            <td style="width: 200px; height: 15px;">' . PG_RECARGO_CONFIRMAR_TIPO_DE_TARJETA . '</td>
-                            <td style="width: 300px; height: 15px;">' . verTipoTarjeta($fila['id_tarjeta_tipo']) . '</td>
-                        </tr>
-                        <tr>
-                            <td style="width: 200px; height: 15px;">' . PG_RECARGO_NO_TARJETA . '</td>
-                            <td style="width: 300px; height: 15px;">XXXX-XXXX-XXXX-' . str_pad($fila['ultdigitos'], "4", "0", STR_PAD_LEFT) . '</td>
-                        </tr>
-                        <tr>
-                            <td style="height: 15px;">' . PG_RECARGO_CONFIRMAR_PROPIETARIO . '</td>
-                            <td style="height: 15px;">' . $fila['nombre_propietario'] . '</td>
-                        </tr>
-                    </table><br />';
+        $prinHtml .= '
+		
+				
+					<div class="row">
+						
+						<div class="col-12 mb-2">
+							<h4>' . PG_RECARGO_CONFIRMAR_TARJETA_SELECCIONADA . '</h4>
+						</div>
+						<div class="col-4 mb-2">
+							' . PG_RECARGO_CONFIRMAR_TIPO_DE_TARJETA . '
+						</div>
+						<div class="col-8 mb-2">
+							' . verTipoTarjeta($fila['id_tarjeta_tipo']) . '
+						</div>
+						<div class="col-4 mb-2">
+							' . PG_RECARGO_NO_TARJETA . '
+						</div>
+						<div class="col-8 mb-2">
+							XXXX-XXXX-XXXX-' . str_pad($fila['ultdigitos'], "4", "0", STR_PAD_LEFT) . '
+						</div>
+						<div class="col-4 mb-2">
+							' . PG_RECARGO_CONFIRMAR_PROPIETARIO . '
+						</div>
+						<div class="col-8 mb-2">
+							' . $fila['nombre_propietario'] . '
+						</div>
+					</div>
+				
+		';
+		
     } else {
 
         if ($st == "1") {
-            $prinHtml .= '<table width="280" border="0">
-					<tr>
-						<td>Saldo disponible en Mi Pagadito:</td>
-						<td><span style="font-weight: bold;">USD $&nbsp;' . number_format(obtSumatoria($_SESSION['usuaPagaditoUsuario'], 0), 2, '.', ',') . '&nbsp;</span></td>
-					</tr>
-				</table><br />';
+			$prinHtml .= '
+					<div class="row">
+						<div class="col-4 mb-2">
+							Saldo disponible en Mi Pagadito:
+						</div>
+						<div class="col-8 mb-2">
+							<span style="font-weight: bold;">USD $&nbsp;' . number_format(obtSumatoria($_SESSION['usuaPagaditoUsuario'], 0), 2, '.', ',') . '&nbsp;</span>
+						</div>
+						
+					</div>
+			';
         }
     }
@@ -3877,5 +3893,5 @@
         FROM pg_paises
         WHERE
-            permitir_comercio = '1'
+            mostrar_home = '1'
         ORDER BY
             id_pais";
@@ -4336,2 +4352,30 @@
     return false;
 }
+
+/**
+ * Valida si la transaccion es reembolsable o no
+ * @param id_operacion id de la operacion a evaluar
+ * @return boolean
+ */
+function operacionReembolsable($id_operacion){
+    global $db;
+    $sql = 'SELECT 
+                t.id_transaccion
+            FROM
+                pagadito_db.pg_transacciones_new t
+                    INNER JOIN
+                pg_tipos_transaccion tt USING (id_tipo_transaccion)
+            WHERE
+                t.id_operacion = ' . $id_operacion . ' 
+                AND id_tipo_transaccion = 1011';
+    try {
+        $resultado = $db->query($sql);
+        if($resultado->numRows() == 1) {
+            return false;
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(), "error al obtener guardar registro de pago de la suscripcion id: " . $id_suscripcion);
+    }
+
+    return true;
+}
Index: branches/b-20180319.02/idiomas/en/general.inc
===================================================================
--- trunk/idiomas/en/general.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/general.inc	(revision 3579)
@@ -150,4 +150,5 @@
 define("PG_GEN_HEADER_ADMINPOS", 'POS Administrator');
 define("PG_GEN_HEADER_ENLACEPAGO", 'Payment Link');
+define("PG_GEN_HEADER_REFUND", 'Refund');
 
 define("PG_GEN_HEADER_OTRAS_MENSAJERIA", 'Inbox');
@@ -368,2 +369,5 @@
 define('PG_GEN_VW_FCRPL_AJAXMSG_PAIS', 'Choose a country');
 define('PG_GEN_VW_FCRPL_AJAXMSG_NOMBRE_EMPRESA', 'Enter the name of your business.');
+
+/* Boton reembolsar*/
+define('PG_GEN_REEMBOLSAR', 'Transaction Refund');
Index: branches/b-20180319.02/idiomas/en/home.inc
===================================================================
--- trunk/idiomas/en/home.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/home.inc	(revision 3579)
@@ -18,5 +18,5 @@
 define('PG_HOME_LOGIN_CORREO', 'Email...');
 define('PG_HOME_LOGIN_PASSWORD', 'Password...');
-define('PG_HOME_LOGIN_RECUPERAR_PASSWORD', '?');
+define('PG_HOME_LOGIN_RECUPERAR_PASSWORD', 'Password Recovery');
 define('PG_HOME_LOGIN_RECUPERAR_PASSWORD_TITLE', 'Password Recovery');
 
@@ -35,7 +35,6 @@
 define('PG_HOME_NAV_S_DEVELOPERS_TITLE', 'Integrate Pagadito in your website');
 
-define('PG_HOME_ART_PAGOS_TEXTO', 'The only platform that lets you receive, make<br>
-    payments online, <a href="[LINK_RYT]#sec_transferencias">transfer</a> and <a href="[LINK_RYT]#sec_retiros">withdraw funds</a><br>
-    from local banks in:');
+define('PG_HOME_ART_PAGOS_TEXTO', 'Enroll your business today and<br>receive online payments in a safe<br>and simple way.');
+define('PG_HOME_ART_PAISES', 'Withdraw funds from<br>local banks in:');
 define('PG_HOME_ART_PAGOS_PAISES', 'Central America<br>
     Panama<br>
@@ -44,4 +43,5 @@
     USA');
 define('PG_HOME_ART_PAGOS_LINK', 'Sign up today!');
+define('PG_HOME_ART_PAGOS_AFILIATE', 'ENROLL TODAY!');
 
 define('PG_HOME_ART_RETIROS_TITULO', 'Withdraw funds');
Index: branches/b-20180319.02/idiomas/en/inv.inc
===================================================================
--- trunk/idiomas/en/inv.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/inv.inc	(revision 3579)
@@ -19,5 +19,5 @@
 define('PG_INV_MONTO', 'Invoice Amount');
 define('PG_FECHA_CREACION', 'Creation date');
-define('PG_INV_ESTADO', 'Status');
+define('PG_INV_ESTADO', 'Transaction status');
 define('PG_ACCIONES', 'Actions');
 define('PG_REENVIAR', 'Forward');
@@ -191,2 +191,10 @@
 define('PG_INV_INACTIVA', 'Inactive');
 define('PG_INV_INDEFINIDOS', 'Indefinitely');
+
+define('PG_INV_TODOS_LOS_ESTADOS', 'All');
+define('PG_INV_TH_NUMERO', 'Invoice number');
+define('PG_INV_TH_CORREO', 'Recipient email');
+define('PG_INV_TH_NOMBRE', 'Recipient name');
+define('PG_INV_TH_FECHA_COBRO', 'Issuing date');
+define('PG_INV_TH_FECHA_VENCIMIENTO', 'Expiration date');
+define('PG_INV_TH_ESTADO_TRANSACCION', 'Transaction status');
Index: branches/b-20180319.02/idiomas/en/notis_comprador.inc
===================================================================
--- trunk/idiomas/en/notis_comprador.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/notis_comprador.inc	(revision 3579)
@@ -19,2 +19,7 @@
 /* validación de correo */
 define("PG_NOT_CLICK_AQUI", "click here");
+
+/* comunicacion pagadito code*/
+define('PG_NOT_AVISO_PAGADITO_CODE', '<p style="font-size:12px; font-family:Arial, sans-serif;">We’ve generated a validation code of 5 digits that will appear on your Account as follows: <strong>{pagadito_code}</strong></p>');
+
+define('PG_NOT_AVISO_PAGADITO_DESC', '<p style="font-size:12px; font-family:Arial, sans-serif;">The charge will appear as follows in your Credit Card Statement: <strong>{descriptor}</strong></p>');
Index: branches/b-20180319.02/idiomas/en/recargo.inc
===================================================================
--- trunk/idiomas/en/recargo.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/recargo.inc	(revision 3579)
@@ -27,5 +27,13 @@
 /*RECARGO EN VERIFICACION*/
 define('PG_RECARGO_EN_VERIFICACION_TITULO', 'Reload of Funds under Review');
-define('PG_RECARGO_EN_VERIFICACION_EXPLICACION', 'Your reload of funds is under review. For this reason we had proceed to withhold the funds until we finish the review. We will notify you about the resolution in the following 72 hours.');
+define('PG_RECARGO_EN_VERIFICACION_EXPLICACION_PRIMERA_RECARGA', '
+    Your reload of funds is in validation process. Because of this, we proceeded to hold the funds of the your reload until you finish the credit card validation process.<br><br>
+    You can finish the credit card validation process uploading the image of your credit card and the images of you identification document or passport. You can finish the process in this moment clicking on the button "Validate card" or you can do it later from the "Card administrator" clicking on the link "Validate card" in the row of the credit card that you used.<br><br>
+    If you do not validate your credit card in the following 72 hours, your reload of funds will be reverted and the funds refunded to your credit card.');
+define('PG_RECARGO_EN_VERIFICACION_EXPLICACION_SEGUNADA_RECARGA', '
+    Your reload of funds is in validation process. Because of this, we proceeded to hold the funds of the your reload until you finish the credit card validation process.<br><br>
+    You can finish the credit card validation process with the validation code it was sent in the transaction, which it will appear in you balance statement or you can upload the image of your credit card and the images of you identification document or passport. You can finish the process in this moment clicking on the button "Validate card" or you can do it later from the "Card administrator" clicking on the link "Validate card" in the row of the credit card that you used.<br><br>
+    If you do not validate your credit card in the following 72 hours, your reload of funds will be reverted and the funds refunded to your credit card.');
+define('PG_RECARGO_EN_VERIFICACION_BOTON_VALIDAR_TARJETA', 'Validate card');
 
 /*MENSAJES*/
Index: branches/b-20180319.02/idiomas/en/refund.inc
===================================================================
--- branches/b-20180319.02/idiomas/en/refund.inc	(revision 3579)
+++ branches/b-20180319.02/idiomas/en/refund.inc	(revision 3579)
@@ -0,0 +1,39 @@
+<?php
+define('PG_TITULO_REEMBOLSO', 'Transactions Refund');
+define('PG_FILTRAR_POR', 'Filter by');
+define('PG_FECHA_DESDE', 'Date since');
+define('PG_FECHA_HASTA', 'until');
+define('PG_IR', 'Go');
+define('PG_FECHA', 'Date');
+define('PG_MONTO', 'Amount US$');
+define('PG_COMISION', 'Commission US$');
+define('PG_REFERENCIA', 'PG approval number');
+define('PG_ERN', 'Invoice number');
+define('PG_BUSCAR_ERN', 'Search invoice number');
+define('PG_MONTO_NETO', 'Net amount US$');
+define('PG_MONTO_RECIBIDO', 'Received amount US$');
+define('PG_MONTO_TOTAL', 'Total amount US$');
+define('PG_ACCION', 'Action');
+define('PG_RF_CONFIRMAR_REEMBOLSO', 'Confirm refund of transaction');
+define('PG_RF_TOMAR_EN_CUENTA', 'Before confirming that you want to Refund the transaction, consider the following:');
+define('PG_RF_COMISION', 'For each Refund you make, Pagadito will debit your balance the amount of:');
+define('PG_RF_NUMERO_POR_DIA', 'You can Refund a maximum of <strong>{numero_transacciones}</strong> transactions per day.');
+define('PG_RF_CONFIRMAR', 'Confirm Refund');
+define('PG_RF_CANCELAR', 'Cancel');
+define('PG_RF_MOTIVO', 'Reason or justification');
+define('PG_RF_AVISO_TRANSACCIONES_DIARIAS', 'You have reached the number of daily allowable refunds.');
+define('PG_RF_INGRESAR_OBSERVACION', 'You must enter a reason why you are making the refund.');
+define('PG_RF_CONFIRMACION', 'Refund transaction');
+define('PG_RF_CONFIRMACION_DESCRIPCION', 'The refund was successful');
+define('PG_RF_REGRESAR', 'Back');
+define('PG_RF_LINK_POLITICA', 'For more details, you can read our <a href="?mod=contenidos&pag=POLITICA_DE_REEMBOLSO" target="_blank">refund politics</a>');
+define('PG_RF_REEMBOLSAR', 'Refund');
+define('PG_REF_DETALLE_DESCRIPCION', 'Description');
+define('PG_REF_DETALLE_CANTIDAD', 'Quantity');
+define('PG_REF_DETALLE_PRECIO_UNITARIO', 'Unit price');
+define('PG_REF_DETALLE_MONTO', 'Amount');
+define('PG_RF_AVISO_FECHA_TRANSACCION', 'The date of the transaction exceeds the limit allowed to be refunded');
+define('PG_RF_AVISO_SALDO_DISPONIBLE', 'You don\'t have enough balance to carry out this transaction.');
+define('PG_RF_OBSERVACION_LARGA', 'The reason for refund should not exceed 200 characters.');
+define('PG_RF_ERR_GENERICO', 'An error occurred, try again.');
+define('PG_RF_LONGITUD_MAXIMA_MOTIVO', 'Maximum 200 characters');
Index: branches/b-20180319.02/idiomas/en/reporte.inc
===================================================================
--- trunk/idiomas/en/reporte.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/reporte.inc	(revision 3579)
@@ -87,2 +87,14 @@
 define('PG_REC_FECHA_FIN', 'Finish date');
 define('PG_REC_INV_REC_IDENTIFICADOR', 'Identifier');
+
+define('PG_TITULO_VENTAS_REVISION', 'Report of received payments under review');
+define('PG_INDICACIONES_REPORTE_VENTAS_REVISION', 'This report shows the information 
+    of the payments under review. Remember that this validation process may take 
+    a maximum of 72 hours; once this period elapsed, payments will be approved or 
+    revoked and you will be able to see them in the <a href="' . URL_SITIO . '/index.php?mod=reporte&hac=ven">Payments Received</a> 
+    report. If you want to know more about payments under review and to enable 
+    or disable this type of payments, you can do it in the section <a href="' . URL_SITIO . '/index.php?mod=usuarios&hac=cnfc">Payments under review</a> 
+    from Technical configuration option Integration parameters.');
+
+define('PG_REF_HEADER_REEMBOLSOS', 'Refund report');
+define('PG_REF_MOTIVO', 'Reason or justification');
Index: branches/b-20180319.02/idiomas/en/user.inc
===================================================================
--- trunk/idiomas/en/user.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/user.inc	(revision 3579)
@@ -157,4 +157,5 @@
 define("PG_USER_QUE_TERMINA_EN", "ending in ");
 define("PG_USER_VALIDACION_EXPLICACION", "In order to use this card in Pagadito, we must verify it belongs to you. You have two options:");
+define("PG_USER_VALIDACION_EXPLICACION_ESTADO_TARJETA_VXPR", "In order to use this card in Pagadito, we must verify it belongs to you. You can do it by uploading the images of your documents.");
 define("PG_USER_VER_TUTORIAL", "Watch the tutorial");
 define("PG_USER_OPCION1", "Option 1");
Index: branches/b-20180319.02/idiomas/en/views.inc
===================================================================
--- trunk/idiomas/en/views.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/en/views.inc	(revision 3579)
@@ -191,5 +191,5 @@
     Easy, fast and secure!');
 
-define('PG_VW_RC_H2_REQUISITOS', 'Account Opening Requirements for Pagadito Merchants');
+define('PG_VW_RC_H2_REQUISITOS', 'Requirements to enroll your business to Pagadito');
 
 define('PG_VW_RC_PN_LI_DESCARGAR', ' Download ');
@@ -268,4 +268,5 @@
 
 define('PG_VW_ACP_H2_TITULO', 'Open your <span>Pagadito Account</span>');
+define('PG_VW_ACP_H2_TITULO2', 'Enroll your <span>Business</span> Now!');
 
 define('PG_VW_ACP_P_USE_PAGADITO_PARA', 'Use Pagadito to make and receive online payments, transfer money and withdrawl funds in local bank accounts, send invoices or use it as a payment gateway.');
@@ -284,5 +285,5 @@
 define('PG_VW_ACP_PP_LI_3', 'Sell online: <strong>Intermall</strong> and <strong>Subelotodo</strong>');
 
-define('PG_VW_ACP_PC_H3_SUBTITULO', 'Creating Pagadito<br>Merchants account will let you:');
+define('PG_VW_ACP_PC_H3_SUBTITULO', 'Enrolling to Pagadito will allow your business to:');
 define('PG_VW_ACP_PC_LI_1', 'Receive payments on your own website.');
 define('PG_VW_ACP_PC_LI_2', 'Register as an Individual or Legal entity.');
@@ -300,4 +301,6 @@
 
 define('PG_VW_ACP_LINK_ABRA_SU_CUENTA', 'Open your account today!');
+define('PG_VW_ACP_LINK_AFILIATE', 'ENROLL NOW');
+define('PG_VW_ACP_LINK_AFILIATE_AHORA', 'ENROLL NOW');
 
 /* PAGADITO PERSONAS */
Index: branches/b-20180319.02/idiomas/es/general.inc
===================================================================
--- trunk/idiomas/es/general.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/general.inc	(revision 3579)
@@ -150,4 +150,5 @@
 define("PG_GEN_HEADER_ADMINPOS", 'Administrador de POS');
 define("PG_GEN_HEADER_ENLACEPAGO", 'Enlaces de pago');
+define("PG_GEN_HEADER_REFUND", 'Reembolsos');
 
 define("PG_GEN_HEADER_OTRAS_MENSAJERIA", 'Bandeja de mensajes');
@@ -368,2 +369,5 @@
 define('PG_GEN_VW_FCRPL_AJAXMSG_PAIS', 'Seleccione un pa&iacute;s.');
 define('PG_GEN_VW_FCRPL_AJAXMSG_NOMBRE_EMPRESA', 'Ingrese el nombre de su empresa.');
+
+/* Boton reembolsar*/
+define('PG_GEN_REEMBOLSAR', 'Reembolsar Transacción');
Index: branches/b-20180319.02/idiomas/es/home.inc
===================================================================
--- trunk/idiomas/es/home.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/home.inc	(revision 3579)
@@ -18,5 +18,5 @@
 define('PG_HOME_LOGIN_CORREO', 'Correo Electr&oacute;nico...');
 define('PG_HOME_LOGIN_PASSWORD', 'Contrase&ntilde;a...');
-define('PG_HOME_LOGIN_RECUPERAR_PASSWORD', '?');
+define('PG_HOME_LOGIN_RECUPERAR_PASSWORD', 'Recuperar contrase&ntilde;a');
 define('PG_HOME_LOGIN_RECUPERAR_PASSWORD_TITLE', 'Recuperar contrase&ntilde;a');
 
@@ -35,7 +35,6 @@
 define('PG_HOME_NAV_S_DEVELOPERS_TITLE', 'Integre Pagadito a su sitio web');
 
-define('PG_HOME_ART_PAGOS_TEXTO', 'La única plataforma que permite recibir, realizar<br>
-    pagos en línea, <a href="[LINK_RYT]#sec_transferencias">transferencias</a> y <a href="[LINK_RYT]#sec_retiros">retiro de fondos</a><br>
-    en bancos locales de:');
+define('PG_HOME_ART_PAGOS_TEXTO', 'Afilia tu comercio hoy mismo y recibe pagos<br>en línea de forma simple y segura.');
+define('PG_HOME_ART_PAISES', 'Retira tus fondos en<br>bancos locales de:');
 define('PG_HOME_ART_PAGOS_PAISES', 'Centroamérica<br>
     Panamá<br>
@@ -44,4 +43,5 @@
     Estados Unidos');
 define('PG_HOME_ART_PAGOS_LINK', 'Abra su cuenta ahora');
+define('PG_HOME_ART_PAGOS_AFILIATE', 'AFILIA TU COMERCIO AQUÍ');
 
 define('PG_HOME_ART_RETIROS_TITULO', 'Retiro de fondos');
Index: branches/b-20180319.02/idiomas/es/inv.inc
===================================================================
--- trunk/idiomas/es/inv.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/inv.inc	(revision 3579)
@@ -19,5 +19,5 @@
 define('PG_INV_MONTO', 'Monto del cobro');
 define('PG_FECHA_CREACION', 'Fecha de creaci&oacute;n');
-define('PG_INV_ESTADO', 'Estado');
+define('PG_INV_ESTADO', 'Estado transacción');
 define('PG_ACCIONES', 'Acciones');
 define('PG_REENVIAR', 'Reenviar');
@@ -192,2 +192,10 @@
 define('PG_INV_INACTIVA', 'Inactiva');
 define('PG_INV_INDEFINIDOS', 'Indefinos');
+
+define('PG_INV_TODOS_LOS_ESTADOS', 'Todos');
+define('PG_INV_TH_NUMERO', 'Número comprobante');
+define('PG_INV_TH_CORREO', 'Correo destinatario');
+define('PG_INV_TH_NOMBRE', 'Nombre destinatario');
+define('PG_INV_TH_FECHA_COBRO', 'Fecha emisión');
+define('PG_INV_TH_FECHA_VENCIMIENTO', 'Fecha vencimiento');
+define('PG_INV_TH_ESTADO_TRANSACCION', 'Estado transacción');
Index: branches/b-20180319.02/idiomas/es/notis_comprador.inc
===================================================================
--- trunk/idiomas/es/notis_comprador.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/notis_comprador.inc	(revision 3579)
@@ -19,2 +19,7 @@
 /* validación de correo */
 define("PG_NOT_CLICK_AQUI", "clic aqu&iacute;");
+
+/* comunicacion pagadito code*/
+define('PG_NOT_AVISO_PAGADITO_CODE', '<p style="font-size:12px; font-family:Arial, sans-serif;">Hemos generado un código de validación de 5 dígitos que aparecerá en su Estado de Cuenta de la siguiente forma: <strong>{pagadito_code}</strong></p>');
+
+define('PG_NOT_AVISO_PAGADITO_DESC', '<p style="font-size:12px; font-family:Arial, sans-serif;">Su transacción aparecerá en su estado de cuenta como: <strong>{descriptor}</strong></p>');
Index: branches/b-20180319.02/idiomas/es/recargo.inc
===================================================================
--- trunk/idiomas/es/recargo.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/recargo.inc	(revision 3579)
@@ -27,5 +27,13 @@
 /*RECARGO EN VERIFICACION*/
 define('PG_RECARGO_EN_VERIFICACION_TITULO', 'Recarga de Saldo en Revisi&oacute;n');
-define('PG_RECARGO_EN_VERIFICACION_EXPLICACION', 'Su recarga de saldo se encuentra en revisi&oacute;n. Por este motivo, hemos procedido a retener los fondos hasta completar la revisi&oacute;n. El equipo de Pagadito realizar&aacute; una revisi&oacute;n de la transacci&oacute;n y le notificar&aacute; el resultado en las pr&oacute;ximas 72 horas.');
+define('PG_RECARGO_EN_VERIFICACION_EXPLICACION_PRIMERA_RECARGA', '
+    Su recarga de saldo se encuentra en revisi&oacute;n. Por este motivo, hemos procedido a retener los fondos de su recarga de saldo hasta que usted realice el proceso de validación de su tarjeta de crédito o débito.<br><br>
+    Puede realizar el proceso de validación de su tarjeta de crédito o débito subiendo la imagen de su tarjeta de crédito o débito y las imágenes de su documento de identidad nacional o pasaporte. Puede realizar el proceso ahora mismo haciendo click en el botón "Validar Tarjeta"  o puede realizarlo luego desde el "Administrador de Tarjetas" haciendo click en el enlace "Validar Tarjeta" en la fila de la tarjeta de crédito o débito que utilizó.<br><br>
+    Si no realiza la validación de su tarjeta de crédito o débito en las próximas 72 horas, su recarga de saldo será revertida y los fondos devueltos hasta su tarjeta de crédito o débito.');
+define('PG_RECARGO_EN_VERIFICACION_EXPLICACION_SEGUNADA_RECARGA', '
+    Su recarga de saldo se encuentra en revisi&oacute;n. Por este motivo, hemos procedido a retener los fondos de su recarga de saldo hasta que usted realice el proceso de validación de su tarjeta de crédito o débito.<br><br>
+    Puede realizar el proceso de validación de su tarjeta de crédito o débito con el código  de validación que se envió en la transacción y que aparecerá en el estado de cuenta de su tarjeta de crédito o débito o subiendo la imagen de su tarjeta de crédito o débito y las imágenes de su documento de identidad nacional o pasaporte. Puede realizar el proceso ahora mismo haciendo click en el botón "Validar Tarjeta" o puede realizarlo luego desde el "Administrador de Tarjetas" haciendo click en el enlace "Validar Tarjeta" en la fila de la tarjeta de crédito o débito que utilizó.<br><br>
+    Si no realiza la validación de su tarjeta de crédito o débito en las próximas 72 horas, su recarga de saldo será revertida y los fondos devueltos hasta su tarjeta de crédito o débito.');
+define('PG_RECARGO_EN_VERIFICACION_BOTON_VALIDAR_TARJETA', 'Validar Tarjeta');
 
 /*MENSAJES*/
Index: branches/b-20180319.02/idiomas/es/refund.inc
===================================================================
--- branches/b-20180319.02/idiomas/es/refund.inc	(revision 3579)
+++ branches/b-20180319.02/idiomas/es/refund.inc	(revision 3579)
@@ -0,0 +1,39 @@
+<?php
+define('PG_TITULO_REEMBOLSO', 'Transacciones Reembolsables');
+define('PG_FILTRAR_POR', 'Filtrar por');
+define('PG_FECHA_DESDE', 'Fecha desde');
+define('PG_FECHA_HASTA', 'hasta');
+define('PG_IR', 'Ir');
+define('PG_FECHA', 'Fecha');
+define('PG_MONTO', 'Monto US$');
+define('PG_COMISION', 'Comisi&oacute;n US$');
+define('PG_REFERENCIA', 'N&uacute;mero de aprobaci&oacute;n PG');
+define('PG_ERN', 'N&uacute;mero de comprobante');
+define('PG_BUSCAR_ERN', 'Buscar n&uacute;mero de comprobante');
+define('PG_MONTO_NETO', 'Monto neto US$');
+define('PG_MONTO_RECIBIDO', 'Monto recibido US$');
+define('PG_MONTO_TOTAL', 'Monto total US$');
+define('PG_ACCION', 'Acci&oacute;n');
+define('PG_RF_CONFIRMAR_REEMBOLSO', 'Confirmar reembolso de transacción');
+define('PG_RF_TOMAR_EN_CUENTA', 'Antes de confirmar que desea Reembolsar la transacción, tome en cuenta lo siguiente:');
+define('PG_RF_COMISION', 'Por cada Reembolso que realice, Pagadito debitará de su saldo la cantidad de:');
+define('PG_RF_NUMERO_POR_DIA', 'Usted puede Reembolsar al día un máximo de <strong>{numero_transacciones}</strong> transacciones.');
+define('PG_RF_CONFIRMAR', 'Confirmar Reembolso');
+define('PG_RF_CANCELAR', 'Cancelar');
+define('PG_RF_MOTIVO', 'Razón o justificación');
+define('PG_RF_AVISO_TRANSACCIONES_DIARIAS', 'Usted ha alcanzado el número de reembolsos diarios permitidos.');
+define('PG_RF_INGRESAR_OBSERVACION', 'Debe ingresar una razón o justificación por el cual está realizando el reembolso.');
+define('PG_RF_CONFIRMACION', 'Reembolso de transacción');
+define('PG_RF_CONFIRMACION_DESCRIPCION', 'La transacción se reembolso correctamente');
+define('PG_RF_REGRESAR', 'Regresar');
+define('PG_RF_LINK_POLITICA', 'Para más detalles, lea nuestra <a href="?mod=contenidos&pag=POLITICA_DE_REEMBOLSO" target="_blank">política de reembolso</a>');
+define('PG_RF_REEMBOLSAR', 'Reembolsar');
+define('PG_REF_DETALLE_DESCRIPCION', 'Descripci&oacute;n');
+define('PG_REF_DETALLE_CANTIDAD', 'Cantidad');
+define('PG_REF_DETALLE_PRECIO_UNITARIO', 'Precio unitario');
+define('PG_REF_DETALLE_MONTO', 'Monto');
+define('PG_RF_AVISO_FECHA_TRANSACCION', 'La fecha de la transacción excede el limite permitido para ser reembolsada.');
+define('PG_RF_AVISO_SALDO_DISPONIBLE', 'No dispone de saldo suficiente para realizar esta transacción.');
+define('PG_RF_OBSERVACION_LARGA', 'La justificación del reembolso no debe exceder 200 caracteres.');
+define('PG_RF_ERR_GENERICO', 'Ocurrió un error, intente nuevamente.');
+define('PG_RF_LONGITUD_MAXIMA_MOTIVO', 'Máximo 200 caracteres');
Index: branches/b-20180319.02/idiomas/es/reporte.inc
===================================================================
--- trunk/idiomas/es/reporte.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/reporte.inc	(revision 3579)
@@ -85,2 +85,17 @@
 define('PG_REC_FECHA_FIN', 'Fecha de finalización');
 define('PG_REC_INV_REC_IDENTIFICADOR', 'Identificador');
+
+define('PG_TITULO_VENTAS_REVISION', 'Reporte de pagos recibidos en revisión');
+define('PG_INDICACIONES_REPORTE_VENTAS_REVISION', 'Este reporte le muestra la 
+    información de los pagos recibidos en su comercio que se encuentran en revisión, 
+    recuerde que el proceso de validación de los pagos en revisión dura un máximo 
+    de 72 horas, una vez cumplido ese periodo los pagos son aprobados o rechazados 
+    y los podrá visualizar en el reporte de <a href="' . URL_SITIO . '/index.php?mod=reporte&hac=ven">Pagos recibidos</a>. 
+    Si quiere saber más 
+    de los pagos en revisión y habilitar o deshabilitar este tipo de pagos para su 
+    comercio puede hacerlo en la sección 
+    <a href="' . URL_SITIO . '/index.php?mod=usuarios&hac=cnfc">Pagos en revisión</a> 
+    en los Parametros de integración de la Configuración técnica.');
+
+define('PG_REF_HEADER_REEMBOLSOS', 'Reporte de reembolsos');
+define('PG_REF_MOTIVO', 'Razón o justificación');
Index: branches/b-20180319.02/idiomas/es/user.inc
===================================================================
--- trunk/idiomas/es/user.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/user.inc	(revision 3579)
@@ -157,4 +157,5 @@
 define("PG_USER_QUE_TERMINA_EN", "con terminaci&oacute;n ");
 define("PG_USER_VALIDACION_EXPLICACION", "Para usar esta tarjeta en Pagadito, debemos verificar que le pertenece. Tiene dos opciones para hacerlo:");
+define("PG_USER_VALIDACION_EXPLICACION_ESTADO_TARJETA_VXPR", "Para usar esta tarjeta en Pagadito, debemos verificar que le pertenece. Puede hacerlo subiendo las imágenes de sus documentos.");
 define("PG_USER_VER_TUTORIAL", "Vea aqu&iacute; el tutorial");
 define("PG_USER_OPCION1", "Opci&oacute;n 1");
Index: branches/b-20180319.02/idiomas/es/views.inc
===================================================================
--- trunk/idiomas/es/views.inc	(revision 3384)
+++ branches/b-20180319.02/idiomas/es/views.inc	(revision 3579)
@@ -198,5 +198,5 @@
     ¡Fácil, rápido y seguro!');
 
-define('PG_VW_RC_H2_REQUISITOS', 'Requisitos para Apertura de cuenta Pagadito  Comercial');
+define('PG_VW_RC_H2_REQUISITOS', 'Requisitos para afiliar tu comercio a Pagadito');
 
 define('PG_VW_RC_PN_LI_DESCARGAR', ' Descargar ');
@@ -275,4 +275,5 @@
 
 define('PG_VW_ACP_H2_TITULO', 'Abra su <span>Cuenta Pagadito</span>');
+define('PG_VW_ACP_H2_TITULO2', 'Afilie su Negocio a <span>Pagadito</span>');
 
 define('PG_VW_ACP_P_USE_PAGADITO_PARA', '
@@ -297,5 +298,5 @@
 define('PG_VW_ACP_PP_LI_3', 'Vender en línea en <strong>Intermall</strong> y <strong>Subelotodo</strong>');
 
-define('PG_VW_ACP_PC_H3_SUBTITULO', 'Abrir una cuenta<br>Pagadito para Comercios le permitirá:');
+define('PG_VW_ACP_PC_H3_SUBTITULO', 'Su afiliación le permitirá:');
 define('PG_VW_ACP_PC_LI_1', 'Recibir pagos en su propio sitio web.');
 define('PG_VW_ACP_PC_LI_2', 'Registrarse como Persona Natural o Persona Jurídica.');
@@ -317,4 +318,6 @@
 
 define('PG_VW_ACP_LINK_ABRA_SU_CUENTA', '¡Abra su cuenta ahora!');
+define('PG_VW_ACP_LINK_AFILIATE', 'AFILIA TU COMERCIO AQUÍ');
+define('PG_VW_ACP_LINK_AFILIATE_AHORA', 'AFILIA TU COMERCIO AHORA');
 
 /* PAGADITO PERSONAS */
Index: branches/b-20180319.02/incws/tmanager.php
===================================================================
--- trunk/incws/tmanager.php	(revision 3384)
+++ branches/b-20180319.02/incws/tmanager.php	(revision 3579)
@@ -172,4 +172,5 @@
             }
             if (!empty($datosForm->filtro_estado)) {
+                
                 $sql_from .= "
                     INNER JOIN pg_paypro_peticion pp USING(id_transaccion)
@@ -177,28 +178,46 @@
                 $sql_where .= "
                     AND id_paypro_tipo = 1";
+                
                 switch ($datosForm->filtro_estado) {
+                    
                     case 'para_validar':
+                        
                         $sql_where .= "
-                            AND (id_tarjeta_estado = 8 -- tarjeta en revisión
-                            OR (id_tarjeta_estado = 2 -- tarjeta registrada
-                            AND id_tarjeta IN (SELECT
-                                                id_tarjeta
-                                            FROM pg_imagen_validacion
-                                            WHERE id_tarjeta = t.id_tarjeta
+                            AND (
+                                id_tarjeta_estado = 8 -- tarjeta en revisión
+                                OR (
+                                    id_tarjeta_estado IN(2, 10, 11) -- tarjeta registrada
+                                    AND id_tarjeta IN (
+                                        SELECT
+                                            id_tarjeta
+                                        FROM pg_imagen_validacion
+                                        WHERE
+                                            id_tarjeta = t.id_tarjeta
                                             AND id_imagen_validacion_estado IN(1, 2) -- subidas o validadas
-                                            GROUP BY id_tarjeta))
-                        )";
+                                            AND fecha_subida > op.fecha
+                                        GROUP BY
+                                            id_tarjeta
+                                    )
+                                )
+                            )";
                         break;
+                    
                     case 'para_seguimiento':
+                        
                         $sql_where .= "
-                            AND (id_tarjeta_estado <> 8 -- tarjeta en revisión
-                            AND id_tarjeta NOT IN (SELECT
-                                id_tarjeta
-                            FROM pg_imagen_validacion
-                            WHERE id_tarjeta = t.id_tarjeta
-                            AND id_imagen_validacion_estado IN(1, 2) -- subidas o validadas
-                            GROUP BY id_tarjeta))";
-                        break;
-                    default:
+                            AND (
+                                id_tarjeta_estado <> 8 -- tarjeta en revisión
+                                AND id_tarjeta NOT IN (
+                                    SELECT
+                                        id_tarjeta
+                                    FROM pg_imagen_validacion
+                                    WHERE
+                                        id_tarjeta = t.id_tarjeta
+                                        AND id_imagen_validacion_estado IN(1, 2) -- subidas o validadas
+                                        AND fecha_subida > op.fecha
+                                    GROUP BY
+                                        id_tarjeta
+                                )
+                            )";
                         break;
                 }
@@ -593,5 +612,6 @@
                     pe.nombre ciudad,
                     concat(u.direccion, '', ifnull(u.direccion_aux,'')) direccion,
-                    u.telefono
+                    u.telefono,
+                    u.celular
                 FROM pg_usuarios u
                 INNER JOIN pg_correos c USING (id_usuario)
Index: branches/b-20180319.02/index.php
===================================================================
--- trunk/index.php	(revision 3384)
+++ branches/b-20180319.02/index.php	(revision 3579)
@@ -17,4 +17,13 @@
     header('location:index.php?mod=usuarios');
     exit;
+}
+
+if(DEVICE_DEFAULT == ""){
+    //Verificando dispositivo
+    require_once('librerias/Mobile_Detect.php');
+    $dispositivo = new Mobile_Detect;
+    $tipoDispositivo = ($dispositivo->isMobile()) ? (($dispositivo->isTablet()) ? DEVICE_TABLET : DEVICE_PHONE) : DEVICE_DESKTOP;
+}else{
+    $tipoDispositivo = DEVICE_DEFAULT;
 }
 
@@ -151,5 +160,6 @@
     "adminpos" => "adminpos",
     "pagos_npe" => "pagos_npe",
-    "enlacepago" => "enlacepago"
+    "enlacepago" => "enlacepago",
+    "refund" => "refund"
 );
 
@@ -184,4 +194,19 @@
     registrarEventoDB();
 }
-prinArmarHtml($error);
+$mods_responsive = array('dashboard', 'recargo', 'retfnd', 'envfnd', 'tarjetas', 'inv', 'admincbu', 'adminpos', 'seg', 'user', 'usuarios', 'views', 'enlacepago', 'recuperar');
+if (in_array($mod, $mods_responsive)) {
+    if ($mod == 'usuarios') {
+        if ($hac == 'ames' || $hac == 'fact' || $hac == 'transext' || $hac == 'fpr' || $hac == 'sldcngld') {
+            prinArmarHtml($error); 
+        } else {
+            prinArmarHtml_responsive($error);
+        }
+    } else {
+        prinArmarHtml_responsive($error); 
+    } 
+} else {
+    prinArmarHtml($error); 
+}
+
+
 echo $prinHtml;
Index: branches/b-20180319.02/interface.php
===================================================================
--- trunk/interface.php	(revision 3384)
+++ branches/b-20180319.02/interface.php	(revision 3579)
@@ -1,3 +1,278 @@
 <?php
+
+function prinArmarHtml_responsive($error) {
+    global $prinHtml, $varCache, $_SESSION, $printHead, $db;
+    global $mod, $idioma, $array_modulos;
+
+    $tm = 0;
+    if (isset($_GET['tm'])) {
+        $tm = $_GET['tm'];
+    }
+    //
+    $registro = '';
+    if (!isset($_SESSION['menuHac'])) {
+        $_SESSION['menuHac'] = "";
+    }
+    if (!isset($_SESSION['Hac'])) {
+        $_SESSION['Hac'] = "";
+    }
+    
+    $modhac= isset($_GET['hac']) ? htmlentities($db->escapeString($_GET['hac'])) : "";
+    
+    // validar modulo que arman su propio html
+    if (!in_array($mod, array("home", "home_sandbox", "views", "pagos_npe")) && $mod != "" && isset($array_modulos[$mod])) {
+        
+        $hidden = "";
+        if (isset($_SERVER['QUERY_STRING'])) {
+            
+            $vhidden = explode('&', $_SERVER['QUERY_STRING']);
+            foreach ($vhidden as $value) {
+                
+                $param = explode("=", $value);
+                if (is_array($param) && $param[0] != '_idioma' && isset($param[1]))
+                    
+                    $hidden.='<input type="hidden" name="' . $param[0] . '" value="' . htmlspecialchars($param[1]) . '"/>';
+            }
+        }
+        require_once("menu_r.php");
+        $cssfile = './tema/sitio/css/' . $mod . '.css';
+        $jsfile = './javascript/' . $mod . '.js';
+        $logo_pagadito = (SANDBOX_MODE ? 'PagaSan.png' : 'logo_pagadito.png');
+        $tempHtml = '';
+        $tempHtml .= '
+            <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+            <html xmlns="http://www.w3.org/1999/xhtml">
+                <head>
+                    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
+					<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
+                    <title>'.PG_GEN_TITLE.'</title>
+                    <meta name="description" content="Pagadito le permite Enviar Dinero, Pagar y Recibir Pagos en línea de una manera segura, ágil y confiable." />
+                    <meta name="keywords" content="pagadito.com, pagadito, enviar dinero, pagar, pagos en linea, transacciones en linea, subastalotodo, dinero" />
+                    <meta name="robots" content="INDEX,FOLLOW" />
+                    <meta name="author" content="Pagadito.com" />
+                    <meta name="copyright" content="Copyright &copy; 2010-' . date("Y") . '. Todos los derechos reservados." />
+                    <meta name="content-type" content="text/html; charset=UTF-8" />
+                    <meta http-equiv="content-language" content="es" />
+                    <meta property="og:title" content="Pagadito"/>
+
+                    <meta property="og:url" content="' . URL_SITIO . '"/>
+                    <meta property="og:image" content="' . URL_SITIO . '/imagenes/' . $logo_pagadito . '"/>
+                    <meta property="og:site_name" content="Pagadito"/>
+                    <meta property="og:description" content="Pagadito le permite Enviar Dinero, Pagar y Recibir Pagos en línea de una manera segura, ágil y confiable."/>
+
+                    '. $printHead .'
+
+                    <link href="pagadito_r.css' . $varCache . '" rel="stylesheet" type="text/css" />
+                    <link href="tema/sitio/css/pg_css3.css' . $varCache . '" rel="stylesheet" type="text/css" />
+                    <link href="css/footer.css' . $varCache . '" rel="stylesheet" type="text/css" />
+                    <link type="image/x-icon" href="favicon.ico" rel="shortcut icon" />
+                    <link type="text/css" rel="stylesheet" href="dhtmlgoodies_calendar/dhtmlgoodies_calendar.css" media="screen"></link>
+                    ' . (file_exists($cssfile) ? '<link rel="stylesheet" type="text/css" href="' . $cssfile . $varCache . '" />' : '') . '
+                    <link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700|Ubuntu:400,700" rel="stylesheet" type="text/css"></link>
+                    <script type="text/javascript" src="dhtmlgoodies_calendar/dhtmlgoodies_calendar.js"></script>
+					
+					<!-- bootstrap -->
+					<link href="css/bootstrap/grid.css' . $varCache . '" rel="stylesheet" type="text/css" />
+					<link href="css/bootstrap/pagadito_responsive.css' . $varCache . '" rel="stylesheet" type="text/css" />
+					
+					';
+					
+        if($mod == 'reporte'){
+            $tempHtml .= '
+                        <script src="javascript/mootools.js" type="text/javascript"></script>';
+        }else{
+            $tempHtml .= '
+                        <script src="javascript/mootools-core-1.4.5-full-compat-yc.js" type="text/javascript"></script>
+                        <script src="/javascript/mootools-more-1.4.0.1_1.js" type="text/javascript"></script>';
+        }
+        $tempHtml .= '
+                    <script src="javascript/formcheck/formcheck.js" type="text/javascript"></script>
+                   <script src="javascript/formcheck/lang/' . $idioma . '.js" type="text/javascript"></script>
+                   <link rel="stylesheet" href="javascript/formcheck/theme/classic/formcheck.css" type="text/css" media="screen" />
+                   <script>' . detectarIE() . '</script>
+                   '.(file_exists($jsfile) ? '<script src="' . $jsfile . $varCache . '" type="text/javascript"></script>' : '') . '
+                    <script type="text/javascript" src="ppal.js' . $varCache . '"></script>' . obtenerListaPaises() . obtenerCaracteristicasTarj();
+        if (IMPRIMIR_FACEBOOK_PIXEL) {
+            
+            include_once './javascript/fb-pixel-code.php';
+            $tempHtml .= $fb_pixel_code;
+        }
+        $tempHtml .= inicSetearFacebookPixelCode().'
+                </head>
+                <body>
+                    ' . verificarServer() . '
+                    ' . (SANDBOX_MODE ? '
+                    <div id="topBarsBox">
+                        <div id="center">' . PG_GEN_SANDBOX_MSG_BAR . '<div class="clear"></div>
+                        </div>
+                    </div>' : '') . '
+                    <div class="overlay" id="fade"></div><!--Fin overlay-->
+                    <div id="loading" style="display: none;text-align: center ">
+                        <div class="loading-indicator">
+                            <img src="images/loader.gif" width="31" height="31">
+                            <strong id="loading-title">' . PG_GEN_LOADING_TITLE_DEFAULT . '</strong><br>
+                            <span id="loading-msg">' . PG_GEN_LOADING_MSG_DEFAULT . '</span>
+                        </div>
+                    </div><!--Fin loading-->
+                    '.(DEBUG_MODE && !SANDBOX_MODE ? '
+                    <div id="cambiar_idioma" class="pg-cambiar-idioma container-fluid">
+                        <form method="get" id="frm_cambiar_idioma">
+                            ' . $hidden . '
+                            <select name="_idioma" id="idioma" onChange="this.form.submit();">
+                                <option value="es" ' . ($idioma == 'es' ? 'selected' : '') . '>Espa&ntilde;ol</option>                                                        
+                                <option value="en" ' . ($idioma == 'en' ? 'selected' : '') . '>Ingl&eacute;s</option>
+                            </select>
+                        </form>
+                    </div>':'').'
+                    <div id="wrapper">
+                        <div id="header">
+							<div class="container-fluid">
+								<div class="row"><!-- start row -->
+									<div class="col-sm-4 mt-3">
+										<a href="./index.php?mod=usuarios">
+											<img class="img-fluid" src="imagenes/' . (SANDBOX_MODE ? 'PagaSan.png' : 'logo_pagadito.png') . '" title="Pagadito" />
+										</a>
+									</div>
+									<div class="align-self-center col-sm-8 menusuperior mt-3 text-right">
+                            ';
+						
+						// verificamos sandbox mode
+						if (!SANDBOX_MODE) {
+							
+							// live
+							if (!isset($_SESSION['usuaPagaditoUsuario'])) {
+								
+								// visitante no logueado
+								$tempHtml .= '
+									<a href="' . getURLSEF('acp') . '" class="vintipo1">' . PG_GEN_HEADER_ABRA_SU_CUENTA . '</a>
+									&nbsp;|&nbsp;
+									<a href="index.php?mod=contenidos&pag=FAQ" class="vintipo1">' . PG_GEN_HEADER_PREGUNTAS_FRECUENTES . '</a>';
+							} else {
+								
+								// visitante logueado
+								$tempHtml .= '
+									&nbsp;
+									<a href="index.php?mod=contenidos&pag=FAQ" class="vintipo1">' . PG_GEN_HEADER_PREGUNTAS_FRECUENTES . '</a>';
+							}
+						} else {
+							
+							// sandbox
+							if (!isset($_SESSION['usuaPagaditoUsuario'])) {
+								
+								// visitante no logueado
+								$tempHtml .= '
+									<a href="' . getURLSEF('acp') . '" class="vintipo1">' . PG_GEN_HEADER_ABRA_SU_CUENTA . '</a>
+									&nbsp;|&nbsp;
+									<a href="index.php?mod=contenidos&pag=FAQ" class="vintipo1">' . PG_GEN_HEADER_PREGUNTAS_FRECUENTES . '</a>';
+							} else {
+								
+								// visitante logueado
+								$tempHtml .= '
+									&nbsp;
+									<a href="index.php?mod=contenidos&pag=FAQ" class="vintipo1">' . PG_GEN_HEADER_PREGUNTAS_FRECUENTES . '</a>';
+							}
+						}
+						
+						$tempHtml .= '
+										' . prinMostrarOpcionSalir(1) . '
+									</div>
+									<div class="col-sm-12">
+										' . $registro . '
+									</div>
+								</div><!-- end row -->
+							</div>
+                        </div>
+                        ' . (isset($_SESSION['Banner']) ? infoBanner($_SESSION['Banner']) : '') . '
+                        <div id="content">' . $prinHtml . '</div>
+                        <div id="footer" class="pg-footer-simple">
+							<div class="container-fluid pl-md-0 pr-md-0">
+								<div class="row" id="footerOptions">
+									<div class="col-sm-6 col-md col-lg-3 mb-3 mt-2">
+										<strong>' . PG_GEN_FOOTER_CENTRO_DE_AYUDA . '</strong>
+										<ul class="optionsList">
+											<li>
+												<a href="index.php?mod=contenidos&pag=FAQ" title="' . PG_GEN_FOOTER_PREGUNTAS_FRECUENTES . '">' . PG_GEN_FOOTER_PREGUNTAS_FRECUENTES . '</a>
+											</li>';
+											if (isset($_SESSION['usuaPagaditoUsuario'])) {
+				
+												$link_contactenos = URL_SITIO . '/index.php?mod=usuarios&hac=ames&idm=0&u=mod';
+											} else {
+												
+												$link_contactenos = getURLSEF('ct');
+											}
+					$tempHtml .= '
+											<li>
+												<a href="' . $link_contactenos . '" title="' . PG_GEN_FOOTER_CONTACTENOS . '">' . PG_GEN_FOOTER_CONTACTENOS . '</a>
+											</li>
+										</ul>
+									</div>
+									<div class="col-sm-6 col-md col-lg-3 mb-3 mt-2">
+										<strong>' . PG_GEN_FOOTER_POLITICAS . '</strong>
+										<ul class="optionsList">
+											<li>
+												<a href="index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO" title="' . PG_GEN_FOOTER_ACUERDOS_Y_CONDICIONES . '">' . PG_GEN_FOOTER_ACUERDOS_Y_CONDICIONES . '</a>
+											</li>
+											<li>
+												<a href="index.php?mod=contenidos&pag=POLITICAS_RESERVA_INFO" title="' . PG_GEN_FOOTER_POLITICAS_DE_RESERVA_DE_LA_INFORMACION . '">' . PG_GEN_FOOTER_POLITICAS_DE_RESERVA_DE_LA_INFORMACION . '</a>
+											</li>
+											<li>
+												<a title="' . PG_GEN_FOOTER_POLITICAS_DE_USO_DE_PAGADITO_COMERCIOS . '" href="index.php?mod=contenidos&pag=POLITICAS_COMERCIOS">' . PG_GEN_FOOTER_POLITICAS_DE_USO_DE_PAGADITO_COMERCIOS . '</a>
+											</li>
+										</ul>
+									</div>
+									<div class="col-sm-6 col-md col-lg-3 mb-3 mt-2">
+										<strong>' . PG_GEN_FOOTER_SEGURIDAD . '</strong>
+										<ul class="optionsList">
+											<li>
+												<a href="index.php?mod=contenidos&pag=ZS" title="' . PG_GEN_FOOTER_ZONA_SEGURA . '">' . PG_GEN_FOOTER_ZONA_SEGURA . '</a>
+											</li>
+										</ul>
+									</div>
+									<div class="col-12 col-lg-3 col-md-12 col-sm-6 text-center text-lg-left text-md-center mb-3 mt-2">
+										<strong>' . PG_GEN_FOOTER_BUSQUENOS_EN . '</strong>
+										<div id="optionsList" class="mt-2">
+											<a class="pg_redes_sociales btn_social_facebook" href="'. URL_PG_FACEBOOK .'" title="'. PG_GEN_FOOTER_TITULO_ENLACE_FACEBOOK. '" target="_blank">&nbsp;</a>
+											<a class="pg_redes_sociales btn_social_twitter" href="'. URL_PG_TWITTER .'" title="'. PG_GEN_FOOTER_TITULO_ENLACE_TWITTER. '" target="_blank">&nbsp;</a>
+											<a class="pg_redes_sociales btn_social_youtube" href="'. URL_PG_YOUTUBE .'" title="'. PG_GEN_FOOTER_TITULO_ENLACE_YOUTUBE. '" target="_blank">&nbsp;</a>
+											<a class="pg_redes_sociales btn_social_google_plus" href="'. URL_PG_GOOGLE_PLUS .'" rel="publisher" title="'. PG_GEN_FOOTER_TITULO_ENLACE_GOOGLE_PLUS. '" target="_blank">&nbsp;</a>
+											<a class="pg_redes_sociales btn_social_wordpress" href="'. URL_PG_WORDPRESS .'" title="'. PG_GEN_FOOTER_TITULO_ENLACE_WORDPRESS. '" target="_blank">&nbsp;</a>
+										</div>
+										<div style="clear:both;"></div>
+									</div>
+								</div>
+							</div>
+							
+                            ';
+        $tempHtml .= '
+                                       
+							
+							<div class="container-fluid">
+								<p>' . PG_GEN_FOOTER_COPY . '</p>
+							</div>
+                        </div>
+                    </div>';
+        if (IMPRIMIR_GOOGLE_ANALYTICS) {
+            
+            $tempHtml .= '
+                    <script type="text/javascript" src="javascript/ga.js"></script>';
+        }
+        if (IMPRIMIR_GOOGLE_REMARKETING) {
+            
+            include_once './javascript/google-remarketing.php';
+            $tempHtml .= $google_remarketing_code;
+        }
+        $tempHtml .= inicSetearGoogleConversionCode();
+        
+        if (IMPRIMIR_TWITTER_CODE) {
+            include_once './javascript/twitter-code.php';
+            $tempHtml .= $twitter_code;
+        }
+        
+        $tempHtml .= '
+                </body>
+            </html>';
+        $prinHtml = $tempHtml;
+    }
+}
 
 function prinArmarHtml($error) {
@@ -64,5 +339,5 @@
                     <link href="pagadito.css' . $varCache . '" rel="stylesheet" type="text/css" />
                     <link href="tema/sitio/css/pg_css3.css' . $varCache . '" rel="stylesheet" type="text/css" />
-                    <link href="css/footer.css' . $varCache . '" rel="stylesheet" type="text/css" />
+                    <link href="css/footer_r.css' . $varCache . '" rel="stylesheet" type="text/css" />
                     <link type="image/x-icon" href="favicon.ico" rel="shortcut icon" />
                     <link type="text/css" rel="stylesheet" href="dhtmlgoodies_calendar/dhtmlgoodies_calendar.css" media="screen"></link>
@@ -241,5 +516,12 @@
             $tempHtml .= $google_remarketing_code;
         }
-        $tempHtml .= inicSetearGoogleConversionCode().'
+        $tempHtml .= inicSetearGoogleConversionCode();
+        
+        if (IMPRIMIR_TWITTER_CODE) {
+            include_once './javascript/twitter-code.php';
+            $tempHtml .= $twitter_code;
+        }
+        
+        $tempHtml .= '
                 </body>
             </html>';
Index: branches/b-20180319.02/jakeWx.php
===================================================================
--- trunk/jakeWx.php	(revision 3384)
+++ branches/b-20180319.02/jakeWx.php	(revision 3579)
@@ -771,10 +771,12 @@
 }
 
-function info_tarjeta_imagenes($token, $id_tarjeta, $ip, $admin){
+function info_tarjeta_imagenes($token, $id_tarjeta, $ip, $admin) {
+    
     require_once "librerias/class.Tarjeta.php";
     require_once "librerias/class.Usuario.php";
     require_once "librerias/class.ImagenValidacion.php";
     require_once "librerias/class.Cripto.php";
-    global $kp, $db;
+    global $db;
+    
     $Cripto = new Cripto();
     $resultado = false;
@@ -782,8 +784,14 @@
 
     if ($token == md5('Pagaditox1nterW$')) {
+        
         $Tarjeta    = new Tarjeta($db, $id_tarjeta);
-        if($Tarjeta->id_tarjeta && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"]){
+        if ($Tarjeta->id_tarjeta && 
+                ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"])) {
+            
             $Usuario    = new Usuario($Tarjeta->datos["id_usuario"], $db);
-            if($Usuario->id_usuario){
+            if ($Usuario->id_usuario) {
+                
                 $Imagen     = new ImagenValidacion($db);
                 $imagenes   = $Imagen->obtenerImagenesSubidasPorTarjeta($id_tarjeta);
@@ -800,4 +808,5 @@
                 $datos->usuario->idioma             = $Usuario->idioma;
                 $datos->usuario->telefono           = $Usuario->telefono;
+                $datos->usuario->celular            = $Usuario->celular;
                 $datos->usuario->correo             = $Usuario->correo;
                 $datos->tarjeta                     = new stdClass();
@@ -807,17 +816,26 @@
                 $datos->tarjeta->nombre             = $Tarjeta->datos["firstName"];
                 $datos->imagenes                    = new stdClass();
-                if(count($imagenes) == $Imagen->max_imagenes_subidas){
-                    foreach($imagenes as $id => $imagen){
+                if (count($imagenes) == $Imagen->max_imagenes_subidas) {
+                    
+                    foreach ($imagenes as $id => $imagen) {
+                        
                         $Imagen->registrarVista($ip, $admin, $id);
-                        switch($imagen["id_imagen_validacion_tipo"]){
+                        switch ($imagen["id_imagen_validacion_tipo"]) {
+                            
                             case $Imagen->constantes["TARJFRENTE"]:
+                                
                                 $datos->imagenes->tarjeta_frente    = $imagen["imagen"];
                                 break;
+                            
                             case $Imagen->constantes["DOCFRENTE"]:
+                                
                                 $datos->imagenes->documento_frente  = $imagen["imagen"];
                                 break;
+                            
                             case $Imagen->constantes["DOCATRAS"]:
+                                
                                 $datos->imagenes->documento_reverso = $imagen["imagen"];
                                 break;
+                            
                             default:
                                 break;
@@ -832,9 +850,11 @@
 }
 
-function validar_tarjeta_imagenes($token, $id_tarjeta, $ip, $admin, $observaciones = ""){
+function validar_tarjeta_imagenes($token, $id_tarjeta, $ip, $admin, $observaciones = "") {
+    
     require_once "librerias/class.Tarjeta.php";
     require_once "librerias/class.ImagenValidacion.php";
     require_once "librerias/class.Cripto.php";
     global $kp, $db;
+    
     $Cripto = new Cripto();
     $resultado = false;
@@ -849,22 +869,36 @@
     );
     if ($token == md5('Pagaditox1nterW$')) {
+        
         $Tarjeta    = new Tarjeta($db, $id_tarjeta);
-        if($Tarjeta->id_tarjeta && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"]){
+        if ($Tarjeta->id_tarjeta && 
+                ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"])) {
+            
             $Usuario    = new Usuario($Tarjeta->datos["id_usuario"], $db);
-            if($Usuario->id_usuario){
+            if ($Usuario->id_usuario) {
+                
                 $Imagen     = new ImagenValidacion($db);
                 $imagenes   = $Imagen->obtenerImagenesSubidasPorTarjeta($id_tarjeta);
-                if(count($imagenes) == $Imagen->max_imagenes_subidas){
+                if (count($imagenes) == $Imagen->max_imagenes_subidas) {
+                    
                     $imagenes_validadas = true;
                     $observaciones = json_decode($observaciones);
-                    foreach($imagenes as $id => $imagen){
-                        switch($imagen["id_imagen_validacion_tipo"]){
+                    foreach ($imagenes as $id => $imagen) {
+                        
+                        switch ($imagen["id_imagen_validacion_tipo"]) {
+                            
                             case $Imagen->constantes["TARJFRENTE"]:
+                                
                                 $observacion = $observaciones->tarjeta_frente;
                                 break;
+                            
                             case $Imagen->constantes["DOCFRENTE"]:
+                                
                                 $observacion = $observaciones->documento_frente;
                                 break;
+                            
                             case $Imagen->constantes["DOCATRAS"]:
+                                
                                 $observacion = $observaciones->documento_reverso;
                                 break;
@@ -874,8 +908,10 @@
                         $observacion = htmlspecialchars_decode($observacion);
                         if(!$Imagen->setValidada($ip, $admin, $observacion, $id)){
+                            
                             $imagenes_validadas = false;
                         }
                     }
                     if($imagenes_validadas && $Tarjeta->setRevision()){
+                        
                         $resultado = true;
                     }
@@ -887,5 +923,6 @@
 }
 
-function denegar_tarjeta_imagenes($token, $id_tarjeta, $id_operacion, $tipo_operacion, $ip, $admin, $observaciones = ""){
+function denegar_tarjeta_imagenes($token, $id_tarjeta, $id_operacion, $tipo_operacion, $ip, $admin, $observaciones = "") {
+    
     require_once "librerias/class.Tarjeta.php";
     require_once "librerias/class.Correo.php";
@@ -893,4 +930,5 @@
     require_once "librerias/class.Cripto.php";
     global $kp, $db;
+    
     $Cripto = new Cripto();
     $resultado = false;
@@ -905,22 +943,36 @@
     );
     if ($token == md5('Pagaditox1nterW$')) {
+        
         $Tarjeta    = new Tarjeta($db, $id_tarjeta);
-        if($Tarjeta->id_tarjeta && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"]){
+        if($Tarjeta->id_tarjeta && 
+                ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] ||
+                $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"])){
+            
             $Usuario    = new Usuario($Tarjeta->datos["id_usuario"], $db);
-            if($Usuario->id_usuario){
+            if ($Usuario->id_usuario) {
+                
                 $Imagen     = new ImagenValidacion($db);
                 $imagenes   = $Imagen->obtenerImagenesSubidasPorTarjeta($id_tarjeta);
-                if(count($imagenes) == $Imagen->max_imagenes_subidas){
+                if (count($imagenes) == $Imagen->max_imagenes_subidas) {
+                    
                     $imagenes_denegadas_ok = true;
                     $observaciones = json_decode($observaciones);
-                    foreach($imagenes as $id => $imagen){
-                        switch($imagen["id_imagen_validacion_tipo"]){
+                    foreach ($imagenes as $id => $imagen) {
+                        
+                        switch ($imagen["id_imagen_validacion_tipo"]) {
+                            
                             case $Imagen->constantes["TARJFRENTE"]:
+                                
                                 $observacion = $observaciones->tarjeta_frente;
                                 break;
+                            
                             case $Imagen->constantes["DOCFRENTE"]:
+                                
                                 $observacion = $observaciones->documento_frente;
                                 break;
+                            
                             case $Imagen->constantes["DOCATRAS"]:
+                                
                                 $observacion = $observaciones->documento_reverso;
                                 break;
@@ -929,12 +981,15 @@
                         $observacion = htmlentities($observacion);
                         $observacion = htmlspecialchars_decode($observacion);
-                        if(!$Imagen->setDenegada($ip, $admin, $observacion, $id)){
+                        if (!$Imagen->setDenegada($ip, $admin, $observacion, $id)) {
+                            
                             $imagenes_denegadas_ok = false;
                         }
                     }
-                    if($imagenes_denegadas_ok){
+                    if ($imagenes_denegadas_ok) {
+                        
                         $resultado = true;
                         $imagenes_denegadas = $Imagen->obtenerImagenesDenegadasPorTarjeta($id_tarjeta);
-                        if(count($imagenes_denegadas) >= $Imagen->max_imagenes_denegadas){
+                        if (count($imagenes_denegadas) >= $Imagen->max_imagenes_denegadas) {
+                            
                             //Revertir operación
                             $comentario = "Rechazada automáticamente por que se denegó 3 veces las imágenes";
@@ -942,8 +997,9 @@
                             $rechazada = json_decode($rechazada);
                             if (!$rechazada) {
+                                
                                 $kp->registrarLog("La Operación no fue rechazada automáticamente... se debe rechazar manual " . $id_operacion . "");
                             }
-                        }
-                        else{
+                        } else {
+                            
                             $Tarjeta->notificarNoValidacion($observaciones);
                         }
@@ -1098,5 +1154,6 @@
                         "fecha_generacion"  => $codigo["fecha_generacion"],
                         "estado"            => $codigo["estado"],
-                        "fecha_validacion"  => $codigo["fecha_validacion"]
+                        "fecha_validacion"  => $codigo["fecha_validacion"],
+                        "id_operacion"  => $codigo["id_operacion"]
                     );
                     $intentos = $Codigo->obtenerIntentos($id);
Index: branches/b-20180319.02/javascript/FancySelect/FancySelect.css
===================================================================
--- trunk/javascript/FancySelect/FancySelect.css	(revision 3384)
+++ branches/b-20180319.02/javascript/FancySelect/FancySelect.css	(revision 3579)
@@ -11,5 +11,4 @@
     display: inline-block; /* Needed to behave like a select element */
     min-width: 57px;
-    height: 25px;
     *display: inline; /* IE7 fix */
     *zoom: 1; /* IE7 fix */
Index: branches/b-20180319.02/javascript/formcheck/formcheck.js
===================================================================
--- trunk/javascript/formcheck/formcheck.js	(revision 3384)
+++ branches/b-20180319.02/javascript/formcheck/formcheck.js	(revision 3579)
@@ -241,6 +241,6 @@
 			flashTips : 0,
 			closeTipsButton : 1,
-			tipsPosition : "right",
-			tipsOffsetX : -45,
+			tipsPosition : "left",
+			tipsOffsetX : 0,
 			tipsOffsetY : 0,
 			listErrorsAtTop : false,
@@ -918,10 +918,9 @@
 		if(this.options.display.replaceTipsEffect) {
 			obj.event = function(){
-				var coord = obj.target ? $(obj.target).getCoordinates() : obj.getCoordinates();
-				new Fx.Morph(obj.element, {
-					'duration' : this.options.display.fadeDuration
-				}).start({
-					'left':[obj.element.getStyle('left'), coord.right + this.options.display.tipsOffsetX],
-					'top':[obj.element.getStyle('top'), coord.top - obj.element.getCoordinates().height + this.options.display.tipsOffsetY]
+                                var coord = obj.target ? $(obj.target).getCoordinates() : obj.getCoordinates();
+                                var pos = (this.options.display.tipsPosition == 'left') ? coord.left : coord.right;
+                                obj.element.setStyles({
+					'left':pos,
+					'top':coord.top - obj.element.getCoordinates().height + this.options.display.tipsOffsetY
 				});
 			}.bind(this);
@@ -930,6 +929,7 @@
 			obj.event = function(){
 				var coord = obj.target ? $(obj.target).getCoordinates() : obj.getCoordinates();
+                                var pos = (this.options.display.tipsPosition == 'left') ? coord.left : coord.right
 				obj.element.setStyles({
-					'left':coord.right + this.options.display.tipsOffsetX,
+					'left':pos,
 					'top':coord.top - obj.element.getCoordinates().height + this.options.display.tipsOffsetY
 				});
Index: branches/b-20180319.02/javascript/home.js
===================================================================
--- trunk/javascript/home.js	(revision 3384)
+++ branches/b-20180319.02/javascript/home.js	(revision 3579)
@@ -63,4 +63,27 @@
     if ($('sello4') != null)
         setTimeout("changeFrame('sello4','https://www.pagadito.com/enlaces2.htm?v=20130725');", 1000);
+    if($('globo-msg') != null) {
+        $('globo-msg').addEvent('click', function(){
+            this.hide();
+        });
+    }
+    
+    if($('popup') != null){
+        var ancho = $('popup').get('data-ancho');
+        var popUp = $('popup').get('html');  
+        var SM = new SimpleModal({  
+                                overlayOpacity: 0.82,  
+                                offsetTop: 200,  
+                                width: parseInt(ancho),  
+                                overlayClick: true,  
+                                hideHeader: true,  
+                                hideFooter: true  
+                            });  
+        SM.show({  
+                model:"modal",  
+                title: "none",  
+                contents: popUp  
+        });
+    }
 });
 
@@ -125,2 +148,28 @@
     }
 }
+
+
+/**
+ *menu mobile
+ */
+function pg_open_menu() {
+    var menu = document.getElementById("pg-menu-mobile-screen");
+    //menu.style.display = "block";
+	
+	var country = document.getElementById("nav_countries");
+    //country.style.display = "block";
+	
+	var bars = document.getElementById("pg-nav-icon");
+    bars.classList.toggle("open");
+	
+	if (!bars.classList.contains('open')) {
+		menu.style.display = "none";
+		country.style.display = "none";
+		
+	} else {
+		
+		menu.style.display = "block";
+		country.style.display = "block";
+		
+	}
+}
Index: branches/b-20180319.02/javascript/refund.js
===================================================================
--- branches/b-20180319.02/javascript/refund.js	(revision 3579)
+++ branches/b-20180319.02/javascript/refund.js	(revision 3579)
@@ -0,0 +1,21 @@
+window.addEvent('domready', function() {
+    if (document.querySelector('.calendar') != null) {
+        new DatePicker('.calendar', {
+             pickerClass: 'datepicker_vista',
+             format: 'd-m-Y',
+             inputOutputFormat: 'd-m-Y',
+             startDay: 0,
+             debug: false,
+             allowEmpty: true,
+             onSelect: function(){
+                $$('.time').setProperty('disabled', false);
+             }
+        });
+    }
+    
+
+    if ($('tblListado') != null) {
+        sortableTableOptions = {};
+        new sortableTable('tblListado', sortableTableOptions);
+    } 
+});
Index: branches/b-20180319.02/javascript/reporte.js
===================================================================
--- trunk/javascript/reporte.js	(revision 3384)
+++ branches/b-20180319.02/javascript/reporte.js	(revision 3579)
@@ -32,5 +32,13 @@
     if ($('tblListado') != null) {
         
-        new sortableTable('tblListado');
+        sortableTableOptions = {};
+        if ($('tblListado').hasClass('ventas_revision')) {
+            
+            sortableTableOptions = {
+                sortOn: 0,
+                sortBy: 'DESC'
+            };
+        }
+        new sortableTable('tblListado', sortableTableOptions);
     }    
         
Index: branches/b-20180319.02/javascript/twitter-code.php
===================================================================
--- branches/b-20180319.02/javascript/twitter-code.php	(revision 3579)
+++ branches/b-20180319.02/javascript/twitter-code.php	(revision 3579)
@@ -0,0 +1,21 @@
+<?php
+$twitter_code = "<!-- Twitter universal website tag code -->
+
+<script>
+
+!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
+
+},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
+
+a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
+
+// Insert Twitter Pixel ID and Standard Event data below
+
+twq('init','nzknv');
+
+twq('track','PageView');
+
+</script>
+
+<!-- End Twitter universal website tag code -->";
+?>
Index: branches/b-20180319.02/javascript/user.js
===================================================================
--- trunk/javascript/user.js	(revision 3384)
+++ branches/b-20180319.02/javascript/user.js	(revision 3579)
@@ -70,7 +70,10 @@
         /* validar codigo de validacion de tarjeta */
         if ($('btnValidar') != null) {
+            
             $("btnValidar").addEvent("click", function() {
+                
                 var codigo = $("txtCodigo").value;
                 if (codigo != "") {
+                    
                     var miAjax = new Request({
                         "url": "auxcall/gen.php",
@@ -78,13 +81,19 @@
                         "data": "ahac=validar_codigo&codigo=" + codigo + "&t=" + t,
                         "onRequest": function() {
+                            
                             overlay('Enviando datos.', 'Gracias por su paciencia.');
                         },
                         "onSuccess": function(respuesta) {
+                            
                             overlayHidden();
                             switch (respuesta) {
+                                
                                 case "ok":
+                                    
                                     location.href = "index.php?mod=user&hac=vvalcardok&t=" + t;
                                     break;
+                                    
                                 case "block":
+                                    
                                     //código bloqueado
                                     mostrarMensaje("C&oacute;digo bloqueado.");
@@ -93,5 +102,7 @@
                                     $("btnValidar").setAttribute("disabled", "disabled");
                                     break;
+                                    
                                 case "nocodes":
+                                    
                                     //código bloqueado
                                     mostrarMensaje("C&oacute;digo bloqueado.");
@@ -101,17 +112,24 @@
                                     $("btnNuevoCodigo").setAttribute("disabled", "disabled");
                                     break;
+                                    
                                 case "mal":
+                                    
                                     //falló
                                     mostrarMensaje("Ha ocurrido un error. Int&eacute;ntelo de nuevo.");
                                     break;
+                                    
                                 case "nlogin":
+                                    
                                     location.href = "index.php?ac=iniciar_sesion";
                                     break;
+                                    
                                 default:
+                                    
                                     if (respuesta != "" && isNumber(respuesta)) {
+                                        
                                         mostrarMensaje("C&oacute;digo no v&aacute;lido. Le restan " + respuesta + " intentos.");
                                         $("txtCodigo").value = "";
-                                    }
-                                    else {
+                                    } else {
+                                        
                                         mostrarMensaje("Ha ocurrido un error. Int&eacute;ntelo de nuevo.");
                                     }
@@ -120,6 +138,6 @@
                         }
                     }).send();
-                }
-                else {
+                } else {
+                    
                     mostrarMensaje("Ingrese un c&oacute;digo v&aacute;lido.")
                 }
@@ -130,5 +148,7 @@
         /* generar nuevo codigo de validacion */
         if ($('btnNuevoCodigo') != null) {
+            
             $("btnNuevoCodigo").addEvent("click", function() {
+                
                 var miAjax = new Request({
                     "url": "auxcall/gen.php",
@@ -136,20 +156,30 @@
                     "data": "ahac=nuevo_codigo&t=" + t,
                     "onRequest": function() {
+                        
                         overlay('Enviando datos.', 'Gracias por su paciencia.');
                     },
                     "onSuccess": function(respuesta) {
+                        
                         overlayHidden();
                         switch (respuesta) {
+                            
                             case "ok":
+                                
                                 location.href = "index.php?mod=user&hac=vvalcard&t=" + t;
                                 break;
+                                
                             case "error":
+                                
                                 mostrarMensaje("No se ha podido cargar la tarjeta.");
                                 break;
+                                
                             case "nlogin":
+                                
                                 location.href = "index.php?ac=iniciar_sesion";
                                 break;
+                                
                             case "mal":
                             default:
+                                
                                 mostrarMensaje("Ha ocurrido un error. Int&eacute;ntelo de nuevo.");
                                 break;
@@ -163,6 +193,9 @@
         /* validar formulario de subida de imagenes */
         new FormCheck('frmImagenes', {
-            onSubmit: function() {
-                if (this.isFormValid()) {
+            
+            onSubmit: function() {
+                
+                if (this.isFormValid()) {
+                    
                     overlay('Enviando datos.', 'Gracias por su paciencia.');
                 }
@@ -173,24 +206,36 @@
         var frmAttach = $('frmImagenes');
         var iFrame = new iFrameFormRequest(frmAttach, {
+            
             onRequest: function() {},
             onComplete: function(result) {
+                
                 switch(result){
+                    
                     case "ok":
+                        
                         location.href = "index.php?mod=user&hac=vimgup&t=" + t;
                         break;
+                        
                     case "fail":
+                        
                         mostrarMensajeImagenes("Las imágenes deben ser .jpg, .jpeg o .png no mayor a 2MB.");
                         overlayHidden();
                         window.scrollTo(1000,document.body.scrollHeight);
                         break;
+                        
                     case "error":
+                        
                         mostrarMensajeImagenes("Ha ocurrido un error. Int&eacute;ntelo de nuevo.");
                         overlayHidden();
                         window.scrollTo(1000,document.body.scrollHeight);
                         break;
+                        
                     case "nlogin":
+                        
                         location.href = "index.php?ac=iniciar_sesion";
                         break;
+                        
                     default:
+                        
                         mostrarMensajeImagenes("Ha ocurrido un error. Int&eacute;ntelo de nuevo.");
                         overlayHidden();
Index: branches/b-20180319.02/javascript/views.js
===================================================================
--- trunk/javascript/views.js	(revision 3384)
+++ branches/b-20180319.02/javascript/views.js	(revision 3579)
@@ -451,2 +451,27 @@
     $('link-abre-tu-cuenta-negro').removeClass('btn-abre-tu-cuenta-negro_hover animated shake');
 }
+
+/**
+ *menu mobile
+ */
+function pg_open_menu() {
+    var menu = document.getElementById("pg-menu-mobile-screen");
+    //menu.style.display = "block";
+	
+	var country = document.getElementById("nav_countries");
+    //country.style.display = "block";
+	
+	var bars = document.getElementById("pg-nav-icon");
+    bars.classList.toggle("open");
+	
+	if (!bars.classList.contains('open')) {
+		menu.style.display = "none";
+		country.style.display = "none";
+		
+	} else {
+		
+		menu.style.display = "block";
+		country.style.display = "block";
+		
+	}
+}
Index: branches/b-20180319.02/librerias/PaymentProcessor/class.PaymentProcessor.php
===================================================================
--- trunk/librerias/PaymentProcessor/class.PaymentProcessor.php	(revision 3384)
+++ branches/b-20180319.02/librerias/PaymentProcessor/class.PaymentProcessor.php	(revision 3579)
@@ -2444,5 +2444,5 @@
         $merchantDefinedData->field11   = $this->dm_profile; // perfil de decision manager
         $merchantDefinedData->field13   = (empty($dm["mdd"]["name_validation"]) ? 'OK' : $dm["mdd"]["name_validation"]);
-        $merchantDefinedData->field14   = (isset($dm['pago_sin_registro']) && $dm['pago_sin_registro'] == true) ? "true" : "false";
+        $merchantDefinedData->field14   = (isset($dm['pago_sin_registro']) ? $dm['pago_sin_registro'] : "registro");
         // para procesamiento mediante la api
         $merchantDefinedData->field15   = (isset($dm['tokenizacion_tarjeta']) && $dm['tokenizacion_tarjeta'] == true) ? 'true' : 'false';
@@ -2667,25 +2667,25 @@
             )
             VALUES(
-                '".$this->respuesta->requestID."',
-                '".$this->respuesta->decision."',
-                '".$this->respuesta->reasonCode."',
-                '".$this->respuesta->requestToken."',
-                ".(isset($this->respuesta->reply->subscriptionID)?"'".$this->respuesta->reply->subscriptionID."'":"NULL").",
-                ".(isset($this->respuesta->reply->afsResult)?"'".$this->respuesta->reply->afsResult."'":"NULL").",
-                ".(isset($this->respuesta->reply->hostSeverity)?"'".$this->respuesta->reply->hostSeverity."'":"NULL").",
-                ".(isset($this->respuesta->reply->consumerLocalTime)?"'".$this->respuesta->reply->consumerLocalTime."'":"NULL").",
-                ".(isset($this->respuesta->reply->afsFactorCode)?"'".$this->respuesta->reply->afsFactorCode."'":"NULL").",
-                ".(isset($this->respuesta->reply->addressInfoCode)?"'".$this->respuesta->reply->addressInfoCode."'":"NULL").",
-                ".(isset($this->respuesta->reply->suspiciousInfoCode)?"'".$this->respuesta->reply->suspiciousInfoCode."'":"NULL").",
-                ".(isset($this->respuesta->reply->velocityInfoCode)?"'".$this->respuesta->reply->velocityInfoCode."'":"NULL").",
-                ".(isset($this->respuesta->reply->ipCountry)?"'".$this->respuesta->reply->ipCountry."'":"NULL").",
-                ".(isset($this->respuesta->reply->ipState)?"'".$this->respuesta->reply->ipState."'":"NULL").",
-                ".(isset($this->respuesta->reply->ipCity)?"'".$this->respuesta->reply->ipCity."'":"NULL").",
-                ".(isset($this->respuesta->reply->ipRoutingMethod)?"'".$this->respuesta->reply->ipRoutingMethod."'":"NULL").",
-                ".(isset($this->respuesta->reply->scoreModelUsed)?"'".$this->respuesta->reply->scoreModelUsed."'":"NULL").",
-                ".(isset($this->respuesta->reply->binCountry)?"'".$this->respuesta->reply->binCountry."'":"NULL").",
-                ".(isset($this->respuesta->reply->cardScheme)?"'".$this->respuesta->reply->cardScheme."'":"NULL").",
-                ".(isset($this->respuesta->reply->cardIssuer)?"'".$this->respuesta->reply->cardIssuer."'":"NULL").",
-                $this->id_peticion
+                '" . $this->db->escapeString($this->respuesta->requestID) . "',
+                '" . $this->db->escapeString($this->respuesta->decision) . "',
+                '" . $this->db->escapeString($this->respuesta->reasonCode) . "',
+                '" . $this->db->escapeString($this->respuesta->requestToken) . "',
+                " . (isset($this->respuesta->reply->subscriptionID) ? "'" . $this->db->escapeString($this->respuesta->reply->subscriptionID) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->afsResult) ? "'" . $this->db->escapeString($this->respuesta->reply->afsResult) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->hostSeverity) ? "'" . $this->db->escapeString($this->respuesta->reply->hostSeverity) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->consumerLocalTime) ? "'" . $this->db->escapeString($this->respuesta->reply->consumerLocalTime) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->afsFactorCode) ? "'" . $this->db->escapeString($this->respuesta->reply->afsFactorCode) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->addressInfoCode) ? "'" . $this->db->escapeString($this->respuesta->reply->addressInfoCode) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->suspiciousInfoCode) ? "'" . $this->db->escapeString($this->respuesta->reply->suspiciousInfoCode) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->velocityInfoCode) ? "'" . $this->db->escapeString($this->respuesta->reply->velocityInfoCode) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->ipCountry) ? "'" . $this->db->escapeString($this->respuesta->reply->ipCountry) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->ipState) ? "'" . $this->db->escapeString($this->respuesta->reply->ipState) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->ipCity) ? "'" . $this->db->escapeString($this->respuesta->reply->ipCity) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->ipRoutingMethod) ? "'" . $this->db->escapeString($this->respuesta->reply->ipRoutingMethod) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->scoreModelUsed) ? "'" . $this->db->escapeString($this->respuesta->reply->scoreModelUsed) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->binCountry) ? "'" . $this->db->escapeString($this->respuesta->reply->binCountry) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->cardScheme) ? "'" . $this->db->escapeString($this->respuesta->reply->cardScheme) . "'" : "NULL") . ",
+                " . (isset($this->respuesta->reply->cardIssuer) ? "'" . $this->db->escapeString($this->respuesta->reply->cardIssuer) . "'" : "NULL") . ",
+                '" . $this->db->escapeString($this->id_peticion) . "'
             )";
 
@@ -2725,23 +2725,23 @@
                             " . (isset($this->respuesta->reply->deviceFingerprint->cookiesEnabled) ? "'" . ($this->respuesta->reply->deviceFingerprint->cookiesEnabled == "true" ? 1 : 0) . "'" : "NULL") . ",
                             " . (isset($this->respuesta->reply->deviceFingerprint->flashEnabled) ? "'" . ($this->respuesta->reply->deviceFingerprint->flashEnabled == "true" ? 1 : 0) . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->hash) ? "'" . $this->respuesta->reply->deviceFingerprint->hash . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->hash) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->hash) . "'" : "NULL") . ",
                             " . (isset($this->respuesta->reply->deviceFingerprint->imagesEnabled) ? "'" . ($this->respuesta->reply->deviceFingerprint->imagesEnabled == "true" ? 1 : 0) . "'" : "NULL") . ",
                             " . (isset($this->respuesta->reply->deviceFingerprint->javascriptEnabled) ? "'" . ($this->respuesta->reply->deviceFingerprint->javascriptEnabled == "true" ? 1 : 0) . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->trueIPAddress) ? "'" . $this->respuesta->reply->deviceFingerprint->trueIPAddress . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->trueIPAddressCity) ? "'" . $this->respuesta->reply->deviceFingerprint->trueIPAddressCity . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->trueIPAddressCountry) ? "'" . $this->respuesta->reply->deviceFingerprint->trueIPAddressCountry . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->smartID) ? "'" . $this->respuesta->reply->deviceFingerprint->smartID . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->smartIDConfidenceLevel) ? "'" . $this->respuesta->reply->deviceFingerprint->smartIDConfidenceLevel . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->screenResolution) ? "'" . $this->respuesta->reply->deviceFingerprint->screenResolution . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->browserLanguage) ? "'" . $this->respuesta->reply->deviceFingerprint->browserLanguage . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->agentType) ? "'" . $this->respuesta->reply->deviceFingerprint->agentType . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->dateTime) ? "'" . $this->respuesta->reply->deviceFingerprint->dateTime . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->profileDuration) ? "'" . $this->respuesta->reply->deviceFingerprint->profileDuration . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->profiledURL) ? "'" . $this->respuesta->reply->deviceFingerprint->profiledURL . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->timeOnPage) ? "'" . $this->respuesta->reply->deviceFingerprint->timeOnPage . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->deviceMatch) ? "'" . $this->respuesta->reply->deviceFingerprint->deviceMatch . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->firstEncounter) ? "'" . $this->respuesta->reply->deviceFingerprint->firstEncounter . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->flashOS) ? "'" . $this->respuesta->reply->deviceFingerprint->flashOS . "'" : "NULL") . ",
-                            " . (isset($this->respuesta->reply->deviceFingerprint->flashVersion) ? "'" . $this->respuesta->reply->deviceFingerprint->flashVersion . "'" : "NULL") . "
+                            " . (isset($this->respuesta->reply->deviceFingerprint->trueIPAddress) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->trueIPAddress) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->trueIPAddressCity) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->trueIPAddressCity) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->trueIPAddressCountry) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->trueIPAddressCountry) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->smartID) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->smartID) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->smartIDConfidenceLevel) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->smartIDConfidenceLevel) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->screenResolution) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->screenResolution) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->browserLanguage) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->browserLanguage) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->agentType) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->agentType) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->dateTime) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->dateTime) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->profileDuration) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->profileDuration) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->profiledURL) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->profiledURL) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->timeOnPage) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->timeOnPage) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->deviceMatch) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->deviceMatch) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->firstEncounter) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->firstEncounter) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->flashOS) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->flashOS) . "'" : "NULL") . ",
+                            " . (isset($this->respuesta->reply->deviceFingerprint->flashVersion) ? "'" . $this->db->escapeString($this->respuesta->reply->deviceFingerprint->flashVersion) . "'" : "NULL") . "
                         )";
                     $this->db->query($sql);
@@ -3167,7 +3167,5 @@
             $this->parametros["cardCvv"]                = $this->datos_tarjeta["cvNumber"];
             $this->parametros["merchantAccountType"]    = 1; // se envía como E-commerce
-            $this->parametros["additionalInfo"]         = array(
-                "InitialRecurring" => "true"
-            );
+            $this->parametros["additionalInfo"]         = '{"InitialRecurring":"true"}';
         } else if($this->datos_tarjeta["type_cs"] == "002") {
             
@@ -4806,9 +4804,5 @@
                 "amount" => number_format($monto, 2, ".", ""),
                 "currency" => "USD",
-                "subMerchant" => array(
-                    "identifier" => "PAGADITO",
-                    //aquí se envía el descriptor
-                    "tradingName" => $this->generarDescriptor(isset($datos["dynamicDescriptor"]) ? $datos["dynamicDescriptor"] : "", $datos["tipo"])."|".$this->descriptor_telefono,
-                    ),
+                "subMerchant" => $this->obtenerDatosSubMerchant($datos['id_usuario_comercio'], $datos["dynamicDescriptor"])
                 ),
         );
@@ -5902,4 +5896,121 @@
         return false;
     }
-
+    
+    /**
+     * Funcion para obtener los paramentros a enviar a amex
+     * @param int $id_usuario_comercio id del usuario comercio a obtener los datos
+     * @return array $subMerchant array con la estructura de submerchant a enviar
+     * en peticion a AMEX
+     */
+    private function obtenerDatosSubMerchant($id_usuario_comercio, $descriptor){
+        if($id_usuario_comercio == '') {
+            return $this->parametrosAmexPagadito($descriptor);
+        }
+        $sql = "
+            SELECT 
+                c.id_comercio_afiliado AS identifier,
+                IF(c.razon_social = '',
+                    c.nombre_comercial,
+                    c.razon_social) AS registeredName,
+                m.sic AS bankIndustryCode,
+                u.telefono AS phone,
+                co.correo AS email,
+                u.ciudad AS city,
+                c.nombre_comercial AS company,
+                p.isoalpha AS country,
+                IF(u.zip_code = '', '0000', u.zip_code) AS postcodeZip,
+                pe.nombre AS stateProvince,
+                u.direccion AS street
+            FROM
+                pg_comercios_afiliados AS c
+                    INNER JOIN
+                pg_usuarios AS u USING (id_usuario)
+                    INNER JOIN
+                pg_correos AS co USING (id_usuario)
+                    INNER JOIN
+                pg_paises_estados AS pe USING (id_pais_estado)
+                    INNER JOIN
+                pg_paises AS p USING (id_pais)
+                    INNER JOIN
+                pg_mcc AS m USING (mcc)
+            WHERE
+                c.id_usuario = " . $id_usuario_comercio . "
+                    AND co.es_correo_primario = 1
+        ";
+        try{
+            $res = $this->db->query($sql);
+            if($res->numRows() == 1){
+                $res->fetchInto($row);
+                $subMerchant = array(
+                    'identifier' => $this->prepararParametro($row['identifier'], 100),
+                    'registeredName' => $this->prepararParametro($row['registeredName'], 100),
+                    'tradingName' => $descriptor,
+                    'bankIndustryCode' => $row['bankIndustryCode'],
+                    'phone' => $row['phone'],
+                    'email' => $row['email'],
+                    'address' => array(
+                        'city' => $this->prepararParametro($row['city'],100),
+                        'country' => $row['country'],
+                        'company' => $this->prepararParametro($row['company'], 100),
+                        'postcodeZip' => $row['postcodeZip'],
+                        'stateProvince' => $this->prepararParametro($row['stateProvince'], 20),
+                        'street' => $this->prepararParametro($row['street'], 100)
+                    )
+                );
+                return $subMerchant;
+            }
+        }
+        catch(Throwable $e){
+            $this->Log($e->getMessage());
+        }
+        return false;
+    }
+    
+    /**
+     * Funcion para preparar el parametro a enviar a amex
+     * @param string $string string del parametro a enviar
+     * @param int $longitud tamaño de la cadena que se desea enviar
+     * @return string $parametro parametro listo para ser enviado a la peticion
+     * a amex
+     */
+    private function prepararParametro($string, $longitud){
+        $parametro = html_entity_decode($string);
+        if(strlen($string) <= $longitud){
+            return $parametro;
+        } else {
+            if(strlen(mb_substr($parametro, ($longitud - 1), 1)) == 2) {
+                return $this->prepararParametro($parametro, ($longitud - 1));
+            } else {
+                return substr($parametro, 0, $longitud);
+            }
+        }
+    }
+
+    /**
+     * Funcion para colocar datos de PAGADITO a ser enviadas en peticion AMEX
+     * esto en caso que sea una recarga de tarjeta, registro de usuario, etc, en
+     * donde no se vea involucrado otro comercio
+     * @param string $descriptor descriptor que puede venir vacio o no, dependiente
+     * el origen de la transaccion
+     * @return array $subMerchant, datos a ser enviados en peticion a AMEX
+     */
+    private function parametrosAmexPagadito($descriptor){
+        $subMerchant = array(
+                    'identifier' => PG_SUBMERCHANT_IDENTIFIER,
+                    'registeredName' => PG_SUBMERCHANT_REGISTEREDNAME,
+                    'tradingName' => ($descriptor == '' ? PG_SUBMERCHANT_TRADINGNAME : $descriptor),
+                    'bankIndustryCode' => PG_SUBMERCHANT_BANKINDUSTRYCODE,
+                    'phone' => PG_SUBMERCHANT_PHONE,
+                    'email' => PG_SUBMERCHANT_EMAIL,
+                    'address' => array(
+                        'city' => PG_SUBMERCHANT_CITY,
+                        'country' => PG_SUBMERCHANT_COUNTRY,
+                        'company' => PG_SUBMERCHANT_COMPANY,
+                        'postcodeZip' => PG_SUBMERCHANT_POSTCODEZIP,
+                        'stateProvince' => PG_SUBMERCHANT_STATEPROVINCE,
+                        'street' => PG_SUBMERCHANT_STREET
+                    )
+                );
+        return $subMerchant;
+    }
 }
Index: branches/b-20180319.02/librerias/class.CardTokenizeProcessor.php
===================================================================
--- trunk/librerias/class.CardTokenizeProcessor.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.CardTokenizeProcessor.php	(revision 3579)
@@ -617,4 +617,5 @@
         $datos_cargo["sin_registro"]        = false;
         $datos_cargo["tokenizacion_tarjeta"]= true;
+        $datos_cargo["id_usuario_comercio"] = $campos_aplicar_reglas["id_usuario_comercio"];
 
         // realizar petición de authorize
Index: branches/b-20180319.02/librerias/class.CodigoValidacion.php
===================================================================
--- trunk/librerias/class.CodigoValidacion.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.CodigoValidacion.php	(revision 3579)
@@ -449,3 +449,91 @@
     }
     
+    /**
+     * obtiene el id de operación de recarga de saldo asociado al ultimo codigo 
+     * generado para la tarjeta que se recibe como parametro
+     * @param int $id_tarjeta id de la tarjeta
+     * @return int devuelve el id de la operación de recarga de saldo asociada al 
+     * ultimo codigo generado para la tarjeta, en caso de error devuelve FALSE
+     */
+    public function obtenerIdOperacionUltimoCodigo($id_tarjeta) {
+        
+        $return = FALSE;
+        $query = "
+            SELECT
+                id_operacion
+            FROM pg_codigo_validacion
+            WHERE
+                id_tarjeta = '" . $id_tarjeta . "'
+                AND id_operacion IS NOT NULL
+            ORDER BY
+                fecha_generacion DESC
+            LIMIT 1";
+        try {
+            
+            $result = $this->db->query($query);
+            if ($result->numRows() > 0) {
+                
+                $result->fetchInto($data);
+                $return = $data['id_operacion'];
+            }
+        } catch(Throwable $e) {
+            
+            $this->log($e->getMessage(), "error obteniendo el id de la operacion del ultimo codigo genera de la tarjeta en verificacion por recarga");
+        }
+        return $return;
+    }
+    
+    /**
+     * Devuelve los códigos de validación ligados la tarjeta, la operación y los 
+     * estados que recibe como parametros
+     * @param int $id_tarjeta id de la tarjeta
+     * @param int $id_operacion id de la operacion de recarga de saldo
+     * @param array $estados Es un arreglo con los estados de los codigo por 
+     * defecto es un array vaico
+     * @return array devuelve un arreglo con todos los codigos de validación que 
+     * cumple con los parametros
+     */
+    public function obtenerCodigosPorTarjetaVXRS($id_tarjeta, $id_operacion, $estados = array()) {
+        
+        $codigos = array();
+        $sql = "
+            SELECT
+                cv.*,
+                cve.nombre estado
+            FROM pg_codigo_validacion cv
+                INNER JOIN pg_codigo_validacion_estado cve USING(id_codigo_validacion_estado)
+            WHERE
+                cv.id_tarjeta = '" . $id_tarjeta . "'
+                AND cv.id_operacion = '" . $id_operacion . "'
+                " . (count($estados) > 0 ? "AND id_codigo_validacion_estado IN('" . implode("', '", $estados) . "')" : "");
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() > 0) {
+                
+                while ($res->fetchInto($row)) {
+                    
+                    $codigos[$row["id_codigo_validacion"]] = $row;
+                }
+            }
+        } catch(Throwable $e) {
+            
+            $this->log($e->getMessage(), "error obteniendo códigos por tarjeta en verificacion por recarga");
+        }
+        return $codigos;
+    }
+    
+    /**
+     * Devuelve los códigos de validación bloqueados y cancelados ligados a la
+     * tarjeta y a la operacion que recibe como parametros
+     * @param int $id_tarjeta id de la tarjeta
+     * @param int $id_operacion id de la operacion de recarga de saldo
+     * @return array devuevel un arreglo con todos los codigo bloqueados y 
+     * cancelados que cumplen con los parametros
+     */
+    public function obtenerCodigosAnuladosPorTarjetaVXRS($id_tarjeta, $id_operacion) {
+        
+        $estados = array($this->constantes["BLOQUEADO"], $this->constantes["CANCELADO"]);
+        return $this->obtenerCodigosPorTarjetaVXRS($id_tarjeta, $id_operacion, $estados);
+    }
 }
Index: branches/b-20180319.02/librerias/class.Comercio.php
===================================================================
--- trunk/librerias/class.Comercio.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.Comercio.php	(revision 3579)
@@ -969,4 +969,104 @@
     }
     
+    /**
+     * Devuelve los datos para el reporte de ventas en revisión
+     * @param array $filtros [optional] Es un arreglo con los filtros a aplicar.
+     * @param bool $descargable [optional] Define si será un reporte descargable.
+     * @param array $headers [optional] Si se define, servirá para los encabezados
+     * del reporte descargable.
+     * @return array
+     */
+    public function obtenerReporteVentasRevision($filtros = array(), $descargable = false, $headers = array(), $selections = array()) {
+        
+        $camposIniciales = array(
+            "DATE_FORMAT(tn.fecha, '%d/%m/%Y') fecha",
+            "DATE_FORMAT(tn.fecha, '%H:%i') hora",
+            "o.referencia_externa ern",
+            "o.referencia_corta",
+        );
+        $camposPersonalizados = $this->obtenerInfoCamposSeleccionados();
+        $camposPersonales = array();
+        foreach ($camposPersonalizados as $campoPersonalizado) {
+            
+            $camposPersonales[] = '
+                    (SELECT valor FROM pg_ws_transactions_params tp INNER JOIN pg_comercios_parametros cp ON cp.id_comercio_parametro = tp.id_comercio_parametro WHERE tp.id_ws_transaction = wst.id_ws_transaction AND cp.id_comercio_catalogo_parametro = ' . $campoPersonalizado['param_catalogo'] . ') ' . $campoPersonalizado['campo'];
+        };
+        $camposFinales = array(
+            "IF(tn.id_tipo_transaccion = 11, tn.monto, CONCAT('(', tn.monto, ')')) AS monto",
+            "IF(tn.id_tipo_transaccion = 11, FORMAT(IFNULL(com.monto, 0), 2), CONCAT('(',FORMAT(IFNULL(com.monto, 0), 2),')')) AS comision",
+            "IF(tn.id_tipo_transaccion = 11, FORMAT(tn.monto - IFNULL(com.monto, 0), 2), CONCAT('(', FORMAT(tn.monto - IFNULL(com.monto, 0), 2), ')')) AS monto_neto"
+        );
+        $camposDisponibles = array_merge($camposIniciales, $camposPersonales, $camposFinales);
+        $columnas = $this->obtenerColumnasReporte($camposDisponibles, $selections);
+
+        $sql = "
+            SELECT " .
+                $columnas .
+                (!$descargable ? ", CONCAT(d.id_detalle,'|',o.id_tipo_operacion) link_value" : "") . "
+            FROM
+                pg_transacciones_new tn
+                JOIN pg_operaciones_new o ON o.id_operacion = tn.id_operacion
+                JOIN pg_detalles d ON d.id_transaccion = tn.id_transaccion
+                JOIN pg_transacciones t ON o.id_operacion = t.id_operacion_new
+                JOIN pg_ws_transactions_transacciones wstt ON wstt.id_transaccion = t.id_transaccion
+                JOIN pg_ws_transactions wst ON wst.id_ws_transaction = wstt.id_ws_transaction
+                JOIN pg_ws_access wsa ON wst.token = wsa.token
+                LEFT JOIN pg_autorizacion a ON wst.id_autorizacion = a.id_autorizacion
+                LEFT JOIN pg_comercios_afiliados ca ON a.id_usuario = ca.id_usuario
+                LEFT JOIN (
+                    SELECT
+                        usut.id_transaccion, pgo.id_operacion, SUM(d.monto) monto
+                    FROM
+                        pg_operaciones_new pgo
+                    INNER JOIN pg_transacciones_new usut USING (id_operacion)
+                    INNER JOIN pg_detalles d USING (id_transaccion)
+                    INNER JOIN pg_fuentes f USING (id_fuente)
+                    INNER JOIN pg_saldos_new s USING (id_saldo)
+                    INNER JOIN pg_fondos fo USING (id_fondo)
+                    INNER JOIN pg_accesos_fondos af USING (id_acceso_fondo)
+                    INNER JOIN pg_bancos_almacenamiento ba USING (id_acceso_fondo)
+                    WHERE
+                        usut.id_tipo_transaccion = '11'
+                                AND d.id_movimiento = '2'
+                                AND id_tipo_detalle = '1'
+                    GROUP BY pgo.id_operacion
+                ) com ON com.id_operacion = o.id_operacion
+            WHERE
+                (
+                    ca.id_comercio_afiliado = " . $this->info_comercio['id_comercio_afiliado'] . " OR
+                    (wsa.id_affiliated_trade = " . $this->info_comercio['id_comercio_afiliado'] . " AND ca.id_comercio_afiliado IS NULL )
+                )";
+        if (!empty($filtros["comprobante"])) {
+
+            $sql .= " AND o.referencia_externa like '%" . $filtros["comprobante"] . "%'";
+        }
+        if (!empty($filtros["fechaInicio"]) || !empty($filtros["fechaFinal"])) {
+
+            $horaInicio = '00:00:00';
+            $horaFinal = '23:59:59';
+            if ($filtros["horaInicio"] != '') {
+
+                $horaInicio = $filtros["horaInicio"] . ':00';
+            }
+            if ($filtros["horaFinal"] != '') {
+
+                $horaFinal = $filtros["horaFinal"] . ':59';
+            }
+            $sql .= (isset($filtros["fechaInicio"]) && $filtros["fechaInicio"] != "" ? " AND o.fecha >= '" . date("Y-m-d", strtotime($filtros["fechaInicio"])) . " " . date("H:i:s", strtotime($horaInicio)) . "'" : "") .
+                    (isset($filtros["fechaFinal"]) && $filtros["fechaFinal"] != "" ? " AND o.fecha <= '" . date("Y-m-d", strtotime($filtros["fechaFinal"])) . " " . date("H:i:s", strtotime($horaFinal)) . "'" : "");
+        }
+        $sql .= "
+                AND tn.id_tipo_transaccion IN ('11', '1011')
+                AND o.id_tipo_operacion = '2'
+                AND d.id_movimiento = '1'
+                AND o.id_operacion_estado = '20'
+            GROUP BY
+                tn.id_transaccion
+            ORDER BY
+                tn.fecha DESC
+        ";
+        return $this->obtenerReporte($sql, $descargable, $headers, $selections);
+    }
+
     /**
      * Crea un nuevo comercio con los datos básicos
@@ -1171,5 +1271,187 @@
         return $return;
     }
-
+    
+    /**
+     * Devuelve las transacciones que pueden ser reembolsables.
+     * @param array $filtros [optional] Es un arreglo con los filtros a aplicar.
+     * @return array
+     */
+    public function obtenerTransaccionAplicableReembolso($filtros = array()){
+
+        $sql = "
+            SELECT  
+                DATE_FORMAT(tn.fecha, '%d/%m/%Y') fecha,
+                o.referencia_externa ern,
+                o.referencia_corta, 
+                IF(tn.id_tipo_transaccion = 11, tn.monto, CONCAT('(', tn.monto, ')')) AS monto,
+                IF(tn.id_tipo_transaccion = 11, FORMAT(IFNULL(com.monto, 0), 2), CONCAT('(',FORMAT(IFNULL(com.monto, 0), 2),')')) AS comision,
+                IF(tn.id_tipo_transaccion = 11, FORMAT(tn.monto - IFNULL(com.monto, 0), 2), CONCAT('(', FORMAT(tn.monto - IFNULL(com.monto, 0), 2), ')')) AS monto_neto,
+                CONCAT(d.id_detalle,'|',o.id_tipo_operacion) link_value
+            FROM
+                pg_transacciones_new tn
+                JOIN pg_operaciones_new o ON o.id_operacion = tn.id_operacion
+                JOIN pg_detalles d ON d.id_transaccion = tn.id_transaccion
+                JOIN pg_transacciones t ON o.id_operacion = t.id_operacion_new
+                JOIN pg_ws_transactions_transacciones wstt ON wstt.id_transaccion = t.id_transaccion
+                JOIN pg_ws_transactions wst ON wst.id_ws_transaction = wstt.id_ws_transaction
+                JOIN pg_ws_access wsa ON wst.token = wsa.token
+                LEFT JOIN pg_autorizacion a ON wst.id_autorizacion = a.id_autorizacion
+                LEFT JOIN pg_comercios_afiliados ca ON a.id_usuario = ca.id_usuario
+                LEFT JOIN pg_reembolsos_comercios rc ON rc.id_operacion = o.id_operacion
+                LEFT JOIN (
+                    SELECT
+                        usut.id_transaccion, pgo.id_operacion, SUM(d.monto) monto
+                    FROM
+                        pg_operaciones_new pgo
+                    INNER JOIN pg_transacciones_new usut USING (id_operacion)
+                    INNER JOIN pg_detalles d USING (id_transaccion)
+                    INNER JOIN pg_fuentes f USING (id_fuente)
+                    INNER JOIN pg_saldos_new s USING (id_saldo)
+                    INNER JOIN pg_fondos fo USING (id_fondo)
+                    INNER JOIN pg_accesos_fondos af USING (id_acceso_fondo)
+                    INNER JOIN pg_bancos_almacenamiento ba USING (id_acceso_fondo)
+                    WHERE
+                        usut.id_tipo_transaccion = 11
+                                AND d.id_movimiento = 2
+                                AND id_tipo_detalle = 1
+                    GROUP BY pgo.id_operacion
+                ) com ON com.id_operacion = o.id_operacion
+            WHERE
+                rc.id_operacion IS NULL AND
+                (
+                    ca.id_comercio_afiliado = ". $this->info_comercio['id_comercio_afiliado'] ." OR
+                    (wsa.id_affiliated_trade = ". $this->info_comercio['id_comercio_afiliado'] ." AND ca.id_comercio_afiliado IS NULL )
+                )";
+        if (empty($filtros["comprobante"]) && empty($filtros["fechaInicio"]) && empty($filtros["fechaFinal"])) {
+            $sql .= " AND DATE(o.fecha) BETWEEN DATE(DATE_SUB(NOW(), interval 1 day)) AND DATE(NOW()) ";
+        } else {
+            if (!empty($filtros["comprobante"])) {
+                $sql .= " AND o.referencia_externa like '%".$filtros["comprobante"]."%'";
+            } else {
+                $sql .=
+                        (isset($filtros["fechaInicio"]) && $filtros["fechaInicio"] != ""?" AND o.fecha >= '".date("Y-m-d", strtotime($filtros["fechaInicio"]))."'":"").
+                        (isset($filtros["fechaFinal"]) && $filtros["fechaFinal"] != ""?" AND o.fecha <= '".date("Y-m-d", strtotime($filtros["fechaFinal"]))."'":"");
+            }
+        }
+        
+        
+        // Agregar filtros para validar si la transaccion se puede o no reembolsar
+        $config_reembolso = $this->obtenerConfigReembolos();
+        switch (strtoupper($config_reembolso['unidad_tiempo'])) {
+            case 'D':
+                $sql .= "
+                        AND o.fecha >= DATE_SUB(NOW(), INTERVAL " . $config_reembolso['tiempo_transaccion'] . " DAY)";
+                break;
+
+            case 'M':
+                $sql .=" 
+                        AND o.fecha >= DATE_SUB(NOW(), INTERVAL " . $config_reembolso['tiempo_transaccion'] . " MONTH)";
+                break;
+        }
+        $sql .= "
+                AND tn.id_tipo_transaccion = 11
+                AND o.id_tipo_operacion = 2
+                AND d.id_movimiento = 1
+                AND o.id_operacion_estado = 10
+            GROUP BY
+                tn.id_transaccion
+            ORDER BY tn.fecha DESC
+        ";
+        return $this->obtenerReporte($sql, false);
+    }
+
+        /**
+     * Devuelve la configuracion para realizar un reembolso
+     * @return array $configuracion array con la configuracion para 
+     * efectuar un reembolso
+     */    
+    public function obtenerConfigReembolos(){
+        $configuracion = false;
+        $sql = 'SELECT 
+                    rcc.*,
+                    ROUND(cv.valor_constante, 2) AS comision_reembolso,
+                    c.codigo AS codigo_comision
+                FROM
+                    pg_reembolsos_comercios_configuracion AS rcc
+                        INNER JOIN
+                    pg_comision AS c USING(id_comision)
+                        INNER JOIN
+                    pg_comision_valor AS cv USING (id_comision)
+                WHERE
+                    rcc.id_comercio_afiliado = ' . $this->info_comercio['id_comercio_afiliado'] . '
+                        AND cv.activo = 1 ';
+        try{
+            $res = $this->db->query($sql);
+            if($res->numRows() == 1){
+                $res->fetchInto($configuracion);
+            } else {
+                $sql = 'SELECT 
+                            ROUND(cv.valor_constante, 2) as comision_reembolso
+                        FROM
+                            pg_comision AS c
+                                INNER JOIN
+                            pg_comision_valor AS cv USING (id_comision)
+                        WHERE
+                            c.codigo = "' . REFUND_CODIGO_COMISION_FEE . '" AND cv.activo = 1';
+                try {
+                    $res = $this->db->query($sql);
+                    $res->fetchInto($comision);
+                } catch (Throwable $exc) {
+                    inicRegistrarError($exc->getMessage());
+                }
+
+                $configuracion = array(
+                    'tiempo_transaccion'        =>  REEMBOLSO_TIEMPO_TRANSACCION,
+                    'unidad_tiempo'             =>  REEMBOLSO_UNIDAD_TIEMPO,
+                    'comision_reembolso'        =>  $comision['comision_reembolso'],
+                    'numero_reembolsos_diarios' =>  REEMBOLSO_NUMERO_REEMBOLSOS_DIARIOS,
+                    'codigo_comision'           =>  REFUND_CODIGO_COMISION_FEE
+                );
+            }
+        }
+        catch(Throwable $e){
+            inicRegistrarError($e->getMessage());
+        }
+        return $configuracion;
+    }
+    
+    /**
+     * Obtiene el reporte de reembolsos realizados
+     */
+    public function obtenerReporteReembolsos($filtros = array(), $descargable = false, $headers = array(), $selections = array()){
+        
+        $camposIniciales = array(
+            "DATE_FORMAT(r.fecha, '%d/%m/%Y') fecha",
+            "o.referencia_externa ern",
+            "o.referencia_corta",
+        );
+        $camposFinales = array(
+            "tn.monto",
+            "r.observacion"
+        );
+        $camposDisponibles = array_merge($camposIniciales, $camposFinales);
+        $columnas = $this->obtenerColumnasReporte($camposDisponibles, $selections);
+
+        $sql = "
+            SELECT " .
+                $columnas . "
+            FROM
+                pg_reembolsos_comercios r
+                INNER JOIN pg_operaciones_new o ON o.id_operacion = r.id_operacion
+                INNER JOIN pg_transacciones_new tn ON tn.id_operacion = o.id_operacion
+            WHERE
+                tn.id_tipo_transaccion = 1011 AND
+                    r.id_comercio_afiliado = " . $this->info_comercio['id_comercio_afiliado'];
+
+        if (!empty($filtros["fechaInicio"]) || !empty($filtros["fechaFinal"])) {
+            $sql .= (isset($filtros["fechaInicio"]) && $filtros["fechaInicio"] != "" ? " AND r.fecha >= '" . date("Y-m-d", strtotime($filtros["fechaInicio"])) . " 00:00:00'" : "") .
+                    (isset($filtros["fechaFinal"]) && $filtros["fechaFinal"] != "" ? " AND r.fecha <= '" . date("Y-m-d", strtotime($filtros["fechaFinal"])) . " 23:59:59'" : "");
+        }
+        $sql .= "
+            ORDER BY
+                r.fecha DESC
+        ";
+        return $this->obtenerReporte($sql, $descargable, $headers, $selections);
+    }
     //**************************************************************************
     // </editor-fold>
@@ -1239,5 +1521,5 @@
         return $id;
     }
-        
+    
     //**************************************************************************
     // </editor-fold>
Index: branches/b-20180319.02/librerias/class.Credencial.php
===================================================================
--- trunk/librerias/class.Credencial.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.Credencial.php	(revision 3579)
@@ -54,5 +54,6 @@
             "PAGARSINUSUARIO"       => "13",    //Pago con tarjeta sin registro de usuario
             "REGISTRARSUCURSALPOS"  => "14",    // Registro de sucursal POS
-            "REGISTRARTERMINALPOS"  => "15"     // Registro de terminal POS
+            "REGISTRARTERMINALPOS"  => "15",     // Registro de terminal POS
+            "PAGOFEEPORREVERSION"   => "16"     // Pago del FEE por reversion de transaccion
         );
     }
Index: branches/b-20180319.02/librerias/class.Invoice.php
===================================================================
--- trunk/librerias/class.Invoice.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.Invoice.php	(revision 3579)
@@ -2,29 +2,39 @@
 
 if (file_exists("./inc/errHandler.php")) {
-    
+
     require_once('./inc/errHandler.php');
 } else {
-    
+
     require_once('../inc/errHandler.php');
 }
 
-if(isset($_COOKIE["pg_idioma"])){
-    if($_COOKIE["pg_idioma"] == 'es'){
-        if(file_exists("./idiomas/es/inv.inc")){
+if (isset($_COOKIE["pg_idioma"])) {
+    
+    if ($_COOKIE["pg_idioma"] == 'es') {
+        
+        if (file_exists("./idiomas/es/inv.inc")) {
+            
             include_once("./idiomas/es/inv.inc");
         } else {
+            
             include_once("../idiomas/es/inv.inc");
         }
     } else {
-       if(file_exists("./idiomas/en/inv.inc")){
+        
+        if (file_exists("./idiomas/en/inv.inc")) {
+            
             include_once("./idiomas/en/inv.inc");
         } else {
+            
             include_once("../idiomas/en/inv.inc");
-        } 
+        }
     }
 } else {
-    if(file_exists("./idiomas/es/inv.inc")){
-            include_once("./idiomas/es/inv.inc");
+    
+    if (file_exists("./idiomas/es/inv.inc")) {
+        
+        include_once("./idiomas/es/inv.inc");
     } else {
+        
         include_once("../idiomas/es/inv.inc");
     }
@@ -32,10 +42,10 @@
 
 class Invoice {
-    
+
     private $db;
     private $log_file;
     public $constantes;
     public $recurring_payments = false;
-    
+
     /**
      * Inicializa el objeto.
@@ -43,29 +53,26 @@
      */
     public function __construct($db) {
-        $this->db       = $db;
+        
+        $this->db = $db;
         $this->log_file = LOG_FILE;
-        $this->constantes = array(        
+        $this->constantes = array(
             'CON_REGISTERED' => 1,
             'CON_APPROVED' => 2,
             'CON_DECLINED' => 3,
             'CON_BLOCKED' => 4,
-            
             'AUTH_REGISTERED' => 1,
             'AUTH_APPROVED' => 2,
             'AUTH_DECLINED' => 3,
             'AUTH_CANCELED' => 4,
-            
             'AUTH_OK' => 90,
             'AUTH_ERROR' => 91,
             'MAX_AUTH_ATT' => 92,
-            
             'INV_OK' => 100,
             'INV_ERROR' => 101,
             'INV_MAX_ATT' => 102,
             'INV_BLOCKED' => 103
-            
-        );
-    }
-    
+        );
+    }
+
     /**
      * Crea un nuevo invoice. Si los contactos no están registrados, se crean.
@@ -81,35 +88,42 @@
      * @return bool
      */
-    public function newInvoice($fecha_cobro, $fecha_vencimiento, $nota_comprador, $nota_vendedor, $correos, $nombres, $ids_ws_transaction, $token, $info_transaction){
+    public function newInvoice($fecha_cobro, $fecha_vencimiento, $nota_comprador, $nota_vendedor, $correos, $nombres, $ids_ws_transaction, $token, $info_transaction) {
+        
         $id_invoice = $this->insertInvoice($fecha_cobro, $fecha_vencimiento, $nota_comprador, $nota_vendedor, $info_transaction["id_usuario_comercio"]);
-        if($id_invoice){
-            for($i = 0; $i < count($correos); $i++){
+        if ($id_invoice) {
+            
+            for ($i = 0; $i < count($correos); $i++) {
+                
                 $contacto = $this->selectContacto($correos[$i], $info_transaction["id_usuario_comercio"]);
-                if($contacto){
+                if ($contacto) {
+                    
                     $id_invoice_contacto = $contacto["id_invoice_contacto"];
                     $this->updateInvoiceContactoNombre($nombres[$i], $id_invoice_contacto);
-                }
-                else{
+                } else {
+                    
                     $id_invoice_contacto = $this->insertContacto($correos[$i], $nombres[$i], $info_transaction["id_usuario_comercio"]);
                 }
-                if($id_invoice_contacto){
+                if ($id_invoice_contacto) {
+                    
                     $id_invoice_transaction = $this->insertInvoiceTransaction($id_invoice, $id_invoice_contacto, $ids_ws_transaction[$i]);
-                    if($id_invoice_transaction){
+                    if ($id_invoice_transaction) {
+                        
                         $this->sendInvoice($id_invoice_transaction);
-                    }else{
+                    } else {
+                        
                         return false;
                     }
-                }
-                else{
+                } else {
+                    
                     return false;
                 }
             }
-        }
-        else{
+        } else {
+            
             return false;
         }
         return true;
     }
-    
+
     /*
      * Procesa el envio de un invoice
@@ -119,68 +133,82 @@
      * @return int
      */
-    public function sendInvoice($id_invoice_transaction){
+    public function sendInvoice($id_invoice_transaction) {
+        
         $invoice = $this->getInfoInvoiceTransaction($id_invoice_transaction);
-        $nt = new notificaciones();
         $resultado = $this->constantes['INV_ERROR'];
-        if(count($this->getRecurringInfo($invoice['id_invoice'])) > 0){
+        if (count($this->getRecurringInfo($invoice['id_invoice'])) > 0) {
+            
             $this->recurring_payments = true;
         } else {
+            
             $this->recurring_payments = false;
         }
-        if($invoice){
-            switch($invoice['id_invoice_estado_contacto']){
-                case $this->constantes['CON_REGISTERED']:  
+        if ($invoice) {
+            
+            switch ($invoice['id_invoice_estado_contacto']) {
+                
+                case $this->constantes['CON_REGISTERED']:
                 case $this->constantes['CON_DECLINED']:
-                    if($invoice['envios_no_autorizados'] < LIB_CFG_INVOICE_MAX_AUTH_REQUEST){
-                        if($this->askAuthorization($invoice)){
-                            //Notificar exito de envio de petición de autorización
+                    
+                    if ($invoice['envios_no_autorizados'] < LIB_CFG_INVOICE_MAX_AUTH_REQUEST) {
+                        
+                        if ($this->askAuthorization($invoice)) {
+                            
+                            // Notificar exito de envio de petición de autorización
                             $resultado = $this->constantes['AUTH_OK'];
-                        }else{
-                            //Notificar error en pedir autorización
+                        } else {
+                            
+                            // Notificar error en pedir autorización
                             $resultado = $this->constantes['AUTH_ERROR'];
                         }
-                    }else{
-                        //Notificar exceso de pedidos de autorización
+                    } else {
+                        
+                        // Notificar exceso de pedidos de autorización
                         $resultado = $this->constantes['MAX_AUTH_ATT'];
                     }
-                break;
-                
+                    break;
+
                 case $this->constantes['CON_APPROVED']:
-                    if($invoice['envios'] < LIB_CFG_INVOICE_MAX_ENVIOS){
-                        if($this->notifyInvoice($invoice)){
-                            //Notificar exito de envio de petición de autorización
+                    
+                    if ($invoice['envios'] < LIB_CFG_INVOICE_MAX_ENVIOS) {
+                        
+                        if ($this->notifyInvoice($invoice)) {
+                            
+                            // Notificar exito de envio de petición de autorización
                             $resultado = $this->constantes['INV_OK'];
-                        }else{
-                            //Notificar error en pedir autorización
+                        } else {
+                            
+                            // Notificar error en pedir autorización
                             $resultado = $this->constantes['INV_ERROR'];
                         }
-                    }else{
-                        //Notificar exceso de envios de invoice
+                    } else {
+                        
+                        // Notificar exceso de envios de invoice
                         $resultado = $this->constantes['INV_MAX_ATT'];
                     }
-                break;
-                
+                    break;
+
                 case $this->constantes['CON_BLOCKED']:
-                    //Notificar exceso de envios de invoice
+                    
+                    // Notificar exceso de envios de invoice
                     $resultado = $this->constantes['INV_BLOCKED'];
-                break;
-            }
-        }
-        
+                    break;
+            }
+        }
         return $resultado;
     }
-    
+
     /*
      * Devuelve información del invoice para el procesamiento de su envio
      * @param int $id_invoice_transaction Es el identificador del invoice a enviar
      */
-    public function getInfoInvoiceTransaction($id_invoice_transaction){
+    public function getInfoInvoiceTransaction($id_invoice_transaction) {
+        
         $sql = "
-            SELECT 
-                t.id_ws_transaction, 
+            SELECT
+                t.id_ws_transaction,
                 t.ern,
                 t.token,
                 t.amount as monto,
-                
                 c.id_invoice_contacto,
                 c.correo,
@@ -188,5 +216,4 @@
                 c.id_invoice_estado_contacto,
                 c.envios_no_autorizados,
-                
                 DATE_FORMAT(i.fecha_cobro, '%d-%m-%Y') fecha_cobro,
                 DATE_FORMAT(i.fecha_vencimiento, '%d-%m-%Y') fecha_vencimiento,
@@ -194,70 +221,67 @@
                 i.nota_vendedor,
                 i.id_usuario,
-                
                 co.nombre_comercial,
                 wc.logo_path,
                 wc.logo_cuadrado_path,
-                
                 it.id_invoice_transaction,
                 it.envios,
                 it.id_invoice
-            FROM
-                pg_invoice i
-                    inner join
-                pg_invoice_transaction it USING (id_invoice)
-                    inner join
-                pg_ws_transactions t USING (id_ws_transaction)
-                    inner join
-                pg_invoice_contacto c USING (id_invoice_contacto)
-                    inner join
-                pg_comercios_afiliados co ON co.id_usuario = i.id_usuario
-                    inner join
-                pg_ws_connection wc ON co.id_comercio_afiliado = wc.id_affiliated_trade
+            FROM pg_invoice i
+                inner join pg_invoice_transaction it USING (id_invoice)
+                inner join pg_ws_transactions t USING (id_ws_transaction)
+                inner join pg_invoice_contacto c USING (id_invoice_contacto)
+                inner join pg_comercios_afiliados co ON co.id_usuario = i.id_usuario
+                inner join pg_ws_connection wc ON co.id_comercio_afiliado = wc.id_affiliated_trade
             WHERE
-                it.id_invoice_transaction = " . $id_invoice_transaction;
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+                it.id_invoice_transaction = '" . $id_invoice_transaction . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /*
      * Devuelve información del invoice para el procesamiento de su envio
      * @param int $id_invoice_autorizacion Es el identificador de la autorizacion a consultar
      */
-    public function getInfoInvoiceAutorizacion($id_invoice_autorizacion){
+    public function getInfoInvoiceAutorizacion($id_invoice_autorizacion) {
+        
         $sql = "
-            select 
-                a.id_invoice_estado_autorizacion, wc.logo_path, co.nombre_comercial, c.correo, c.nombre
-            from
-                pg_invoice_autorizaciones a
-                    inner join
-                pg_invoice_contacto c USING (id_invoice_contacto)
-                    inner join
-                pg_comercios_afiliados co ON co.id_usuario = c.id_usuario
-                    inner join
-                pg_ws_connection wc ON co.id_comercio_afiliado = wc.id_affiliated_trade
+            select
+                a.id_invoice_estado_autorizacion,
+                wc.logo_path,
+                co.nombre_comercial,
+                c.correo,
+                c.nombre
+            from pg_invoice_autorizaciones a
+                inner join pg_invoice_contacto c USING (id_invoice_contacto)
+                inner join pg_comercios_afiliados co ON co.id_usuario = c.id_usuario
+                inner join pg_ws_connection wc ON co.id_comercio_afiliado = wc.id_affiliated_trade
             where
-                a.id_invoice_autorizacion = " . $id_invoice_autorizacion;
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+                a.id_invoice_autorizacion = '" . $id_invoice_autorizacion . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /*
      * Procesa una solicitud de autorización para el envio del invoice
@@ -265,42 +289,74 @@
      * @return bool
      */
-    private function askAuthorization($invoice){
+    private function askAuthorization($invoice) {
+        
         $autorizacion = $this->selectAutorizacionActiva($invoice["id_invoice_contacto"]);
-        if($autorizacion){
+        if ($autorizacion) {
+            
             $id_autorizacion = $autorizacion['id_invoice_autorizacion'];
-        }else{
+        } else {
+            
             $id_autorizacion = $this->insertAutorizacion($invoice["id_invoice_contacto"]);
         }
-        
-        $parametros_pagador = Array(
-            'nombre' => $invoice["nombre"]!="" ? html_entity_decode($invoice["nombre"]) : "",
+        $parametros_pagador = array(
+            'id_invoice' => $invoice['id_invoice'],
+            'id_invoice_transaction' => $invoice['id_invoice_transaction'],
+            'nombre' => $invoice["nombre"] != "" ? $invoice["nombre"] : "",
             'correo' => $invoice['correo'],
             'comercio' => $invoice["nombre_comercial"],
-            'id_invoice_autorizacion' => $id_autorizacion
-        );
-
-        if($this->notificarAuthRequestPagador($parametros_pagador)){
-            //Se aumenta el contador de envios del invoice
-            $campos_valores = array(
-                array(
-                    "nombre"    => "envios_no_autorizados",
-                    "tipo"      => "int",
-                    "valor"     => ($invoice['envios_no_autorizados'] + 1)
-                )
+            'id_invoice_autorizacion' => $id_autorizacion,
+            'logo_comercio' => $invoice["logo_cuadrado_path"],
+            'invoice_number' => $invoice["ern"],
+            'invoice_date' => $invoice["fecha_cobro"],
+            'invoice_items' => $this->getInvoiceItems($invoice["id_ws_transaction"]),
+            'monto' => $invoice["monto"],
+            'fechaVencimiento' => $invoice['fecha_vencimiento'],
+            'notasComprador' => $invoice['nota_comprador'] != "" ? $invoice['nota_comprador'] : PG_INV_NOTA_PAGADOR,
+            'url' => URL_COMERCIOS . "/?mod=login&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction'],
+        );
+        if ($this->recurring_payments) {
+            
+            $parametros_pagador['url'] = URL_COMERCIOS . "/?mod=loginauth&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction'] . "&origen=inv";
+        }
+        
+        if ($this->notificarAuthRequestPagador($parametros_pagador)) {
+            
+            // notificar al cobrador
+            $parametros_cobrador = array(
+                'id_invoice' => $invoice['id_invoice'],
+                'id_usuario_comercio' => $invoice["id_usuario"],
+                'nombre' => $invoice["nombre"] != "" ? $invoice["nombre"] : "",
+                'correo' => $invoice['correo'],
+                'comercio' => $invoice["nombre_comercial"],
+                'monto' => $invoice["monto"],
+                'fechaEnvio' => $invoice['fecha_cobro'],
+                'fechaVencimiento' => $invoice['fecha_vencimiento'],
+                'notasVendedor' => $invoice['nota_vendedor'] != "" ? $invoice['nota_vendedor'] : PG_INV_NOTA_VENDEDOR,
+                'invoice_number' => $invoice["ern"]
             );
-            $campos_condiciones = array(
-                array(
-                    "operacion" => null,
-                    "nombre"    => "id_invoice_contacto",
-                    "tipo"      => "int",
-                    "valor"     => $invoice['id_invoice_contacto']
-                )
-            );
-            return $this->updateInvoiceContacto($campos_valores, $campos_condiciones);
-        }
-        
-        return false;
-    }    
-    
+            if ($this->notificarAuthRequestCobrador($parametros_cobrador)) {
+            
+                // Se aumenta el contador de envios del invoice
+                $campos_valores = array(
+                    array(
+                        "nombre" => "envios_no_autorizados",
+                        "tipo" => "int",
+                        "valor" => ($invoice['envios_no_autorizados'] + 1)
+                    )
+                );
+                $campos_condiciones = array(
+                    array(
+                        "operacion" => null,
+                        "nombre" => "id_invoice_contacto",
+                        "tipo" => "int",
+                        "valor" => $invoice['id_invoice_contacto']
+                    )
+                );
+                return $this->updateInvoiceContacto($campos_valores, $campos_condiciones);
+            }
+        }
+        return false;
+    }
+
     /*
      * Envia notificación electrónica de invoice
@@ -308,12 +364,13 @@
      * @return bool
      */
-    private function notifyInvoice($invoice){
+    private function notifyInvoice($invoice) {
+        
         $autorizacion = $this->selectAutorizacionActiva($invoice['id_invoice_contacto']);
-        
-        //notificar pagador
+
+        // notificar pagador
         $parametros_pagador = Array(
-            'nombre' => $invoice["nombre"]!="" ? $invoice["nombre"] : "",
+            'nombre' => $invoice["nombre"] != "" ? $invoice["nombre"] : "",
             'id_invoice' => $invoice['id_invoice'],
-            'nombre' => $invoice["nombre"]!="" ? $invoice["nombre"] : "",
+            'nombre' => $invoice["nombre"] != "" ? $invoice["nombre"] : "",
             'correo' => $invoice['correo'],
             'comercio' => $invoice["nombre_comercial"],
@@ -324,18 +381,20 @@
             'monto' => $invoice["monto"],
             'fechaVencimiento' => $invoice['fecha_vencimiento'],
-            'notasComprador' => $invoice['nota_comprador']!="" ? $invoice['nota_comprador'] : PG_INV_NOTA_PAGADOR,
-            'url' => URL_COMERCIOS."/index.php?mod=login&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction'],
+            'notasComprador' => $invoice['nota_comprador'] != "" ? $invoice['nota_comprador'] : PG_INV_NOTA_PAGADOR,
+            'url' => URL_COMERCIOS . "/?mod=login&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction'],
             'id_invoice_autorizacion' => $autorizacion['id_invoice_autorizacion']
         );
-        
-        if($this->recurring_payments){
-            $parametros_pagador['url'] = URL_COMERCIOS."/index.php?mod=loginauth&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction'] . "&origen=inv";
-        }
-        
-        if($this->notificarPagador($parametros_pagador)){
-            //notificar cobrador
+
+        if ($this->recurring_payments) {
+            
+            $parametros_pagador['url'] = URL_COMERCIOS . "/?mod=loginauth&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction'] . "&origen=inv";
+        }
+
+        if ($this->notificarPagador($parametros_pagador)) {
+            
+            // notificar cobrador
             $parametros_cobrador = Array(
                 'id_usuario_comercio' => $invoice["id_usuario"],
-                'nombre' => $invoice["nombre"]!="" ? $invoice["nombre"] : "",
+                'nombre' => $invoice["nombre"] != "" ? $invoice["nombre"] : "",
                 'correo' => $invoice['correo'],
                 'comercio' => $invoice["nombre_comercial"],
@@ -343,15 +402,16 @@
                 'fechaEnvio' => $invoice['fecha_cobro'],
                 'fechaVencimiento' => $invoice['fecha_vencimiento'],
-                'notasVendedor' => $invoice['nota_vendedor']!="" ? $invoice['nota_vendedor'] : PG_INV_NOTA_VENDEDOR,
+                'notasVendedor' => $invoice['nota_vendedor'] != "" ? $invoice['nota_vendedor'] : PG_INV_NOTA_VENDEDOR,
                 'id_invoice' => $invoice['id_invoice']
             );
             
-            if($this->notificarCobrador($parametros_cobrador)){
-                //Se aumenta el contador de envios del invoice
+            if ($this->notificarCobrador($parametros_cobrador)) {
+                
+                // Se aumenta el contador de envios del invoice
                 $campos_valores = array(
                     array(
-                        "nombre"    => "envios",
-                        "tipo"      => "int",
-                        "valor"     => ($invoice['envios'] + 1)
+                        "nombre" => "envios",
+                        "tipo" => "int",
+                        "valor" => ($invoice['envios'] + 1)
                     )
                 );
@@ -359,7 +419,7 @@
                     array(
                         "operacion" => null,
-                        "nombre"    => "id_invoice_transaction",
-                        "tipo"      => "int",
-                        "valor"     => $invoice["id_invoice_transaction"]
+                        "nombre" => "id_invoice_transaction",
+                        "tipo" => "int",
+                        "valor" => $invoice["id_invoice_transaction"]
                     )
                 );
@@ -367,8 +427,7 @@
             }
         }
-        
-        return false;
-    }
-    
+        return false;
+    }
+
     /**
      * Devuelve todos los invoices de un usuario.
@@ -377,6 +436,7 @@
      * @return array
      */
-    public function obtenerTodosPorUsuario($id_usuario, $filtros = array()){
+    public function obtenerTodosPorUsuario($id_usuario, $filtros = array()) {
         global $idioma;
+        
         $invoices = array();
         $sql = "
@@ -399,4 +459,5 @@
                 , 2) amount,
                 ic.correo,
+                ic.nombre,
                 DATE_FORMAT(i.fecha_creacion, '%d-%m-%Y') fecha_creacion,
                 DATE_FORMAT(i.fecha_cobro, '%d-%m-%Y') fecha_cobro,
@@ -410,38 +471,44 @@
                 s.ern as identificador
             FROM pg_invoice i
-            INNER JOIN pg_invoice_transaction it USING(id_invoice)
-            INNER JOIN pg_invoice_contacto ic USING(id_invoice_contacto)
-            INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
-            INNER JOIN pg_ws_transactions_status wsts USING(id_transaction_status)
-            LEFT JOIN pg_suscripciones s USING(id_invoice)
-            WHERE i.id_usuario = $id_usuario
-            ".(isset($filtros["fechaInicio"]) && $filtros["fechaInicio"] != ""?"AND i.fecha_cobro >= '".date("Y-m-d", strtotime($filtros["fechaInicio"]))." 00:00:00'":"")."
-            ".(isset($filtros["fechaFinal"]) && $filtros["fechaFinal"] != ""?"AND i.fecha_cobro <= '".date("Y-m-d", strtotime($filtros["fechaFinal"]))." 23:59:59'":"")."
-            ".(isset($filtros["estado"]) && $filtros["estado"] != ""?"AND wsts.id_transaction_status = ".$filtros["estado"]:"")."
-            ORDER BY i.id_invoice DESC";
-        if(isset($filtros["limit_inic"])){
+                INNER JOIN pg_invoice_transaction it USING(id_invoice)
+                INNER JOIN pg_invoice_contacto ic USING(id_invoice_contacto)
+                INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
+                INNER JOIN pg_ws_transactions_status wsts USING(id_transaction_status)
+                LEFT JOIN pg_suscripciones s USING(id_invoice)
+            WHERE
+                i.id_usuario = '" . $id_usuario . "'
+                " . (isset($filtros["fechaInicio"]) && $filtros["fechaInicio"] != "" ? "AND i.fecha_cobro >= '" . date("Y-m-d", strtotime($filtros["fechaInicio"])) . " 00:00:00'" : "") . "
+                " . (isset($filtros["fechaFinal"]) && $filtros["fechaFinal"] != "" ? "AND i.fecha_cobro <= '" . date("Y-m-d", strtotime($filtros["fechaFinal"])) . " 23:59:59'" : "") . "
+                " . (isset($filtros["estado"]) && $filtros["estado"] != "" ? "AND wsts.id_transaction_status = '" . $filtros["estado"] . "'" : "") . "
+            ORDER BY
+                i.id_invoice DESC";
+        if (isset($filtros["limit_inic"])) {
+            
             $sql .= " LIMIT " . $filtros["limit_inic"] . ", " . $filtros["limit_fin"] . "";
         }
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() > 0){
-                while($res->fetchInto($row)){
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() > 0) {
+                
+                while ($res->fetchInto($row)) {
+                    
                     $invoices[] = $row;
                 }
             }
-        }
-        catch(Throwable $e){
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
         }
         return $invoices;
     }
-    
+
     /**
      * Devuelve los estados que puede tener un invoice.
      * @return array
      */
-    public function obtenerEstados(){
+    public function obtenerEstados() {
         global $idioma;
-        
+
         $estados = array();
         $sql = "
@@ -450,27 +517,31 @@
                 " . ($idioma == "es" ? "nombre_estatus" : "nombre_estatus_en") . " status
             FROM pg_ws_transactions_status
-            WHERE id_transaction_status IN(1, 2, 3, 5, 6, 7, 8, 9)
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() > 0){
-                while($res->fetchInto($row)){
+            WHERE
+                id_transaction_status IN(1, 2, 3, 5, 6, 7, 8, 9)";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() > 0) {
+                
+                while ($res->fetchInto($row)) {
+                    
                     $estados[] = $row;
                 }
             }
-        }
-        catch(Throwable $e){
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
         }
         return $estados;
     }
-    
+
     /**
      *
      * @param int $id_usuario Es el identificador del usuario.
      * @param string $ern External Reference Number.
-     * @return array 
-     */
-    public function obtenerInvoicePorUsuarioERN($id_usuario, $ern){
+     * @return array
+     */
+    public function obtenerInvoicePorUsuarioERN($id_usuario, $ern) {
+        
         $invoice = array();
         $sql = "
@@ -478,24 +549,26 @@
                 i.*
             FROM pg_invoice i
-            INNER JOIN pg_invoice_transaction it USING(id_invoice)
-            INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
-            INNER JOIN pg_ws_access wsa USING(token)
-            INNER JOIN pg_ws_connection wsc USING(id_affiliated_trade)
-            INNER JOIN pg_comercios_afiliados ca ON wsc.id_affiliated_trade = ca.id_comercio_afiliado
-            WHERE ca.id_usuario = $id_usuario
-            AND wst.ern = '$ern'
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+                INNER JOIN pg_invoice_transaction it USING(id_invoice)
+                INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
+                INNER JOIN pg_ws_access wsa USING(token)
+                INNER JOIN pg_ws_connection wsc USING(id_affiliated_trade)
+                INNER JOIN pg_comercios_afiliados ca ON wsc.id_affiliated_trade = ca.id_comercio_afiliado
+            WHERE
+                ca.id_usuario = '" . $id_usuario . "'
+                AND wst.ern = '" . $ern . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($invoice);
             }
-        }
-        catch(Throwable $e){
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
         }
         return $invoice;
     }
-    
+
     /**
      * Inserta un invoice en la base de datos.
@@ -508,5 +581,5 @@
      */
     private function insertInvoice($fecha_cobro, $fecha_vencimiento, $nota_comprador, $nota_vendedor, $id_usuario) {
-        
+
         $sql = "
             INSERT INTO pg_invoice(
@@ -526,17 +599,17 @@
             )";
         try {
-            
+
             $res = $this->db->query($sql);
             if ($res) {
-                
+
                 return $this->ultimoId();
             }
-        } catch(Throwable $e) {
-            
+        } catch (Throwable $e) {
+
             $this->log($e->getMessage(), "error insertando la data del invoice");
         }
         return false;
     }
-    
+
     /**
      * Inserta en la base de datos un contacto.
@@ -546,21 +619,32 @@
      * @return int
      */
-    private function insertContacto($correo, $nombre, $id_usuario){
+    private function insertContacto($correo, $nombre, $id_usuario) {
+        
         $sql = "
-            INSERT INTO pg_invoice_contacto (correo, nombre, fecha_creacion, id_usuario)
-            VALUES ('$correo', '". $nombre."', NOW(), $id_usuario)
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res){
+            INSERT INTO pg_invoice_contacto(
+                correo,
+                nombre,
+                fecha_creacion,
+                id_usuario
+            ) VALUES(
+                '" . $correo . "',
+                '" . $nombre . "',
+                NOW(),
+                '" . $id_usuario . "'
+            )";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res) {
+                
                 return $this->ultimoId();
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Inserta en la base de datos una transacción de invoice.
@@ -570,53 +654,67 @@
      * @return int
      */
-    private function insertInvoiceTransaction($id_invoice, $id_invoice_contacto, $id_ws_transaction){
+    private function insertInvoiceTransaction($id_invoice, $id_invoice_contacto, $id_ws_transaction) {
+        
         $sql = "
-            INSERT INTO pg_invoice_transaction (id_invoice, id_invoice_contacto, id_ws_transaction)
-            VALUES ($id_invoice, $id_invoice_contacto, $id_ws_transaction)
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res){
+            INSERT INTO pg_invoice_transaction(
+                id_invoice,
+                id_invoice_contacto,
+                id_ws_transaction
+            ) VALUES(
+                '" . $id_invoice . "',
+                '" . $id_invoice_contacto . "',
+                '" . $id_ws_transaction . "'
+            )";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res) {
+                
                 return $this->ultimoId();
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Actualiza el registro de la transacción de un invoice.
      * @param array $campos_valores Arreglo de arreglos asociativos con los índices<br />- nombre<br />- tipo (si es string se agregan comillas)<br />- valor.
      * @param array $campos_condiciones Arreglo de arreglos asociativos con los índices<br />- operacion (opcional en el primero, and u or)<br />- nombre<br />- tipo (si es string se agregan comillas)<br />- valor.
-     * @return bool 
-     */
-    private function updateInvoiceTransaction($campos_valores, $campos_condiciones){
+     * @return bool
+     */
+    private function updateInvoiceTransaction($campos_valores, $campos_condiciones) {
+        
         $sql = "
             UPDATE pg_invoice_transaction
             SET ";
         $first = true;
-        foreach($campos_valores as $campo_valor){
-            $sql .= ($first?"":", ").$campo_valor["nombre"]." = ".($campo_valor["tipo"]=="string"?("'".$campo_valor["valor"]."'"):$campo_valor["valor"]);
+        foreach ($campos_valores as $campo_valor) {
+            
+            $sql .= ($first ? "" : ", ") . $campo_valor["nombre"] . " = " . ($campo_valor["tipo"] == "string" ? ("'" . $campo_valor["valor"] . "'") : $campo_valor["valor"]);
             $first = false;
         }
         $first = true;
-        foreach($campos_condiciones as $campo_condicion){
-            $sql .= ($first?" WHERE ":" ".$campo_condicion["operacion"])." ".$campo_condicion["nombre"]." = ".($campo_condicion["tipo"]=="string"?("'".$campo_condicion["valor"]."'"):$campo_condicion["valor"]);
+        foreach ($campos_condiciones as $campo_condicion) {
+            
+            $sql .= ($first ? " WHERE " : " " . $campo_condicion["operacion"]) . " " . $campo_condicion["nombre"] . " = " . ($campo_condicion["tipo"] == "string" ? ("'" . $campo_condicion["valor"] . "'") : $campo_condicion["valor"]);
             $first = false;
         }
-        try{
-            $res = $this->db->query($sql);
-            if($res->affectedRows() > 0 || $res->matchedRows() > 0){
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->affectedRows() > 0 || $res->matchedRows() > 0) {
+                
                 return true;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Devuelve los campos del invoice solicitado a partir de su id.
@@ -624,24 +722,22 @@
      * @return int
      */
-    private function selectInvoice($id_invoice){
-        $sql = "
-            SELECT
-                *
-            FROM pg_invoice
-            WHERE id_invoice = $id_invoice
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+    private function selectInvoice($id_invoice) {
+        
+        $sql = "SELECT * FROM pg_invoice WHERE id_invoice = '" . $id_invoice . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Devuelve los campos de una autorizacion
@@ -649,16 +745,17 @@
      * @return array
      */
-    private function selectAutorizacionById($id_invoice_autorizacion){        
+    private function selectAutorizacionById($id_invoice_autorizacion) {
+        
         $campos_condiciones = array(
             array(
                 "operacion" => null,
-                "nombre"    => "id_invoice_autorizacion",
-                "tipo"      => "int",
-                "valor"     => $id_invoice_autorizacion
+                "nombre" => "id_invoice_autorizacion",
+                "tipo" => "int",
+                "valor" => $id_invoice_autorizacion
             )
         );
         return $this->selectInvoiceAutorizacion($campos_condiciones);
     }
-    
+
     /**
      * Devuelve los campos de la autorizacion activa de un contacto.
@@ -666,52 +763,52 @@
      * @return array
      */
-    private function selectAutorizacionActiva($id_invoice_contacto){        
+    private function selectAutorizacionActiva($id_invoice_contacto) {
+        
         $campos_condiciones = array(
             array(
                 "operacion" => null,
-                "nombre"    => "activo",
-                "tipo"      => "int",
-                "valor"     => "1"
+                "nombre" => "activo",
+                "tipo" => "int",
+                "valor" => "1"
             ),
             array(
                 "operacion" => "AND",
-                "nombre"    => "id_invoice_contacto",
-                "tipo"      => "int",
-                "valor"     => $id_invoice_contacto
+                "nombre" => "id_invoice_contacto",
+                "tipo" => "int",
+                "valor" => $id_invoice_contacto
             )
         );
         return $this->selectInvoiceAutorizacion($campos_condiciones);
     }
-    
+
     /**
      * Selecciona una autorizacion para invoice.
      * @param array $campos_condiciones Arreglo de arreglos asociativos con los índices<br />- operacion (opcional en el primero, and u or)<br />- nombre<br />- tipo (si es string se agregan comillas)<br />- valor.
-     * @return bool 
-     */
-    private function selectInvoiceAutorizacion($campos_condiciones){
-        $sql = "
-            SELECT
-                *
-            FROM pg_invoice_autorizaciones
-        ";
-        
+     * @return bool
+     */
+    private function selectInvoiceAutorizacion($campos_condiciones) {
+        
+        $sql = "SELECT * FROM pg_invoice_autorizaciones";
         $first = true;
-        foreach($campos_condiciones as $campo_condicion){
-            $sql .= ($first?" WHERE ":" ".$campo_condicion["operacion"])." ".$campo_condicion["nombre"]." = ".($campo_condicion["tipo"]=="string"?("'".$campo_condicion["valor"]."'"):$campo_condicion["valor"]);
+        foreach ($campos_condiciones as $campo_condicion) {
+            
+            $sql .= ($first ? " WHERE " : " " . $campo_condicion["operacion"]) . " " . $campo_condicion["nombre"] . " = " . ($campo_condicion["tipo"] == "string" ? ("'" . $campo_condicion["valor"] . "'") : $campo_condicion["valor"]);
             $first = false;
         }
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Inserta en la base de datos una autorizacion.
@@ -719,21 +816,22 @@
      * @return int
      */
-    private function insertAutorizacion($id_invoice_contacto){
+    private function insertAutorizacion($id_invoice_contacto) {
+        
         $sql = "
-            INSERT INTO pg_invoice_autorizaciones (id_invoice_contacto)
-            VALUES (" . $id_invoice_contacto . ")
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res){
+            INSERT INTO pg_invoice_autorizaciones(id_invoice_contacto) VALUES('" . $id_invoice_contacto . "')";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res) {
+                
                 return $this->ultimoId();
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Devuelve los campos de un contacto de invoice.
@@ -742,25 +840,28 @@
      * @return array
      */
-    public function selectContacto($correo, $id_usuario){
+    public function selectContacto($correo, $id_usuario) {
+        
         $sql = "
             SELECT
                 *
             FROM pg_invoice_contacto
-            WHERE correo = '$correo'
-            AND id_usuario = $id_usuario
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+            WHERE
+                correo = '" . $correo . "'
+                AND id_usuario = '" . $id_usuario . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Devuelve los campos de un contacto de invoice.
@@ -768,26 +869,24 @@
      * @return array
      */
-    public function selectContactoById($id_invoice_contacto){
-        $sql = "
-            SELECT
-                *
-            FROM pg_invoice_contacto
-            WHERE id_invoice_contacto = $id_invoice_contacto
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+    public function selectContactoById($id_invoice_contacto) {
+        
+        $sql = "SELECT * FROM pg_invoice_contacto WHERE id_invoice_contacto = '" . $id_invoice_contacto . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
-    /**
-     * Obtiene la informacion del invoice, en base al token de la transaccion 
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
+    /**
+     * Obtiene la informacion del invoice, en base al token de la transaccion
      * creado al momento de realizar el pago, en caso de ser recurrente devuelve
      * la informacion de la suscripcion
@@ -796,40 +895,36 @@
      * @return array
      */
-    public function getInfoInvoiceByToken($token, $idioma = 'es'){
+    public function getInfoInvoiceByToken($token, $idioma = 'es') {
+        
         $sql = "
-                SELECT 
-                    c.nombre,
-                    c.correo,
-                    s.id_suscripcion,
-                    s.cobros_total,
-                    " . ($idioma == "es" ? "sp.nombre" : "sp.nombre_en") . " as nombre_periodicidad
-                FROM
-                    pg_invoice_contacto c
-                        INNER JOIN
-                    pg_invoice_transaction t USING (id_invoice_contacto)
-                        INNER JOIN
-                    pg_ws_transactions wt USING (id_ws_transaction)
-                        LEFT JOIN
-                    pg_invoice_transaction it USING (id_ws_transaction)
-                        LEFT JOIN
-                    pg_suscripciones s ON s.id_invoice = it.id_invoice
-                        LEFT JOIN
-                    pg_suscripciones_periodicidades sp USING (id_periodicidad)
-                WHERE
-                    wt.token = '" . $token . "'";        
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+            SELECT
+                c.nombre,
+                c.correo,
+                s.id_suscripcion,
+                s.cobros_total,
+                " . ($idioma == "es" ? "sp.nombre" : "sp.nombre_en") . " as nombre_periodicidad
+            FROM pg_invoice_contacto c
+                INNER JOIN pg_invoice_transaction t USING (id_invoice_contacto)
+                INNER JOIN pg_ws_transactions wt USING (id_ws_transaction)
+                LEFT JOIN pg_invoice_transaction it USING (id_ws_transaction)
+                LEFT JOIN pg_suscripciones s ON s.id_invoice = it.id_invoice
+                LEFT JOIN pg_suscripciones_periodicidades sp USING (id_periodicidad)
+            WHERE
+                wt.token = '" . $token . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Devuelve informacion del contacto y comercio para notificaciones
@@ -837,49 +932,56 @@
      * @return array
      */
-    public function getInfoInvoiceContacto($id_invoice_contacto){
+    public function getInfoInvoiceContacto($id_invoice_contacto) {
+        
         $sql = "
-            select 
-                co.id_usuario, co.nombre, co.correo, c.nombre_comercial
-            from
-                pg_invoice_contacto co
-                    inner join
-                pg_comercios_afiliados c USING (id_usuario)
+            select
+                co.id_usuario,
+                co.nombre,
+                co.correo,
+                c.nombre_comercial
+            from pg_invoice_contacto co
+                inner join pg_comercios_afiliados c USING (id_usuario)
             where
-                co.id_invoice_contacto = $id_invoice_contacto
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+                co.id_invoice_contacto = '" . $id_invoice_contacto . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }    
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Aprueba una autorizacion para el envio de invoices
      * @param int $id_invoice_autorizacion Es el identificador de la autorizacion para el envio de invoice.
-     * @return bool 
-     */
-    public function authInvoice($id_invoice_autorizacion){
-        //Actualizando el estado de la autorización
-        if($this->updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $this->constantes['AUTH_APPROVED'])){
+     * @return bool
+     */
+    public function authInvoice($id_invoice_autorizacion) {
+        
+        // Actualizando el estado de la autorización
+        if ($this->updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $this->constantes['AUTH_APPROVED'])) {
+            
             $autorizacion = $this->selectAutorizacionById($id_invoice_autorizacion);
-            //Actualizando el estado del contacto
-            if($this->updateInvoiceContactoAuth($autorizacion['id_invoice_contacto'], $this->constantes['CON_APPROVED'])){            
-                //Enviando las notificaciones de la autorización
+            // Actualizando el estado del contacto
+            if ($this->updateInvoiceContactoAuth($autorizacion['id_invoice_contacto'], $this->constantes['CON_APPROVED'])) {
+                
+                // Enviando las notificaciones de la autorización
                 $infoNotificacion = $this->getInfoInvoiceContacto($autorizacion['id_invoice_contacto']);
-                if($infoNotificacion){
+                if ($infoNotificacion) {
+                    
                     $parametros_pagador = Array(
-                        'nombre' => $infoNotificacion["nombre"]!="" ? $infoNotificacion["nombre"] : "",
+                        'nombre' => $infoNotificacion["nombre"] != "" ? $infoNotificacion["nombre"] : "",
                         'correo' => $infoNotificacion['correo'],
                         'comercio' => $infoNotificacion["nombre_comercial"]
                     );
                     $this->notificarAuthAcceptPagador($parametros_pagador);
-                    
+
                     $parametros_cobrador = Array(
                         'id_usuario_comercio' => $infoNotificacion["id_usuario"],
@@ -888,10 +990,4 @@
                     $this->notificarAuthAcceptCobrador($parametros_cobrador);
                 }
-                
-                //Enviando los invoices en cola
-                $invoicesPendientes = $this->obtenerInvoicesPendientesPorContacto($autorizacion['id_invoice_contacto']);
-                foreach ($invoicesPendientes as $key => $invoicePendiente) {
-                    $this->sendInvoice($invoicePendiente['id_invoice_transaction']);
-                }
                 return true;
             }
@@ -900,31 +996,53 @@
         return false;
     }
-    
+
     /**
      * Deniega una autorizacion para el envio de invoices
      * @param int $id_invoice_autorizacion Es el identificador de la autorizacion para el envio de invoice.
-     * @return bool 
-     */
-    public function denyInvoice($id_invoice_autorizacion){
-        //Actualizando el estado de la autorización
-        if($this->updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $this->constantes['AUTH_DECLINED'])){
+     * @param integer $id_invoice_transaction id de la transacción del invoice.
+     * @return bool
+     */
+    public function denyInvoice($id_invoice_autorizacion, $id_invoice_transaction) {
+        
+        // Actualizando el estado de la autorización
+        if ($this->updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $this->constantes['AUTH_DECLINED'])) {
+            
             $autorizacion = $this->selectAutorizacionById($id_invoice_autorizacion);
-            
-            //Actualizando el estado del contacto
-            if($this->getDeniedAuth($autorizacion['id_invoice_contacto']) >= LIB_CFG_INVOICE_MAX_DENY_REQUEST){
+
+            // Actualizando el estado del contacto
+            if ($this->getDeniedAuth($autorizacion['id_invoice_contacto']) >= LIB_CFG_INVOICE_MAX_DENY_REQUEST) {
+                
                 $this->updateInvoiceContactoAuth($autorizacion['id_invoice_contacto'], $this->constantes['CON_BLOCKED']);
-            }else{
+            } else {
+                
                 $this->updateInvoiceContactoAuth($autorizacion['id_invoice_contacto'], $this->constantes['CON_DECLINED']);
             }
-            
-            //Enviando las notificaciones de la autorización
+
+            // Enviando las notificaciones de la autorización
             $infoNotificacion = $this->getInfoInvoiceContacto($autorizacion['id_invoice_contacto']);
-            if($infoNotificacion){
+            if ($infoNotificacion) {
+                
+                // sacar información del invoice para obtener la url
+                $invoice = $this->getInfoInvoiceTransaction($id_invoice_transaction);
+                if (count($this->getRecurringInfo($invoice['id_invoice'])) > 0) {
+
+                    $this->recurring_payments = true;
+                } else {
+
+                    $this->recurring_payments = false;
+                }
+                
                 $parametros_pagador = Array(
-                    'nombre' => $infoNotificacion["nombre"]!="" ? html_entity_decode($infoNotificacion["nombre"]) : "",
+                    'nombre' => $infoNotificacion["nombre"] != "" ? html_entity_decode($infoNotificacion["nombre"]) : "",
                     'correo' => $infoNotificacion['correo'],
                     'comercio' => $infoNotificacion["nombre_comercial"],
-                    'id_invoice_autorizacion' => $id_invoice_autorizacion
+                    'id_invoice_autorizacion' => $id_invoice_autorizacion,
+                    'id_invoice_transaction' => $id_invoice_transaction,
+                    'url' => URL_COMERCIOS . "/?mod=login&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction']
                 );
+                if ($this->recurring_payments) {
+            
+                    $parametros_pagador['url'] = URL_COMERCIOS . "/?mod=loginauth&token=" . $invoice['token'] . "&idws=" . $invoice['id_ws_transaction'] . "&origen=inv";
+                }
                 $this->notificarAuthDenyPagador($parametros_pagador);
 
@@ -935,26 +1053,28 @@
                 $this->notificarAuthDenyCobrador($parametros_cobrador);
             }
-            
             return true;
         }
         return false;
     }
-    
+
     /**
      * Cancela una autorizacion para el envio de invoices
      * @param int $id_invoice_autorizacion Es el identificador de la autorizacion para el envio de invoice.
-     * @return bool 
-     */
-    public function cancelInvoice($id_invoice_autorizacion){
-        //Actualizando el estado de la autorización
-        if($this->updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $this->constantes['AUTH_CANCELED'])){
-            $autorizacion = $this->selectAutorizacionById($id_invoice_autorizacion);            
+     * @return bool
+     */
+    public function cancelInvoice($id_invoice_autorizacion) {
+        
+        // Actualizando el estado de la autorización
+        if ($this->updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $this->constantes['AUTH_CANCELED'])) {
+            
+            $autorizacion = $this->selectAutorizacionById($id_invoice_autorizacion);
             $this->updateInvoiceContactoAuth($autorizacion['id_invoice_contacto'], $this->constantes['CON_REGISTERED']);
-            
-            //Enviando las notificaciones de la autorización
+
+            // Enviando las notificaciones de la autorización
             $infoNotificacion = $this->getInfoInvoiceContacto($autorizacion['id_invoice_contacto']);
-            if($infoNotificacion){
+            if ($infoNotificacion) {
+                
                 $parametros_pagador = Array(
-                    'nombre' => $infoNotificacion["nombre"]!="" ? html_entity_decode($infoNotificacion["nombre"]) : "",
+                    'nombre' => $infoNotificacion["nombre"] != "" ? html_entity_decode($infoNotificacion["nombre"]) : "",
                     'correo' => $infoNotificacion['correo'],
                     'comercio' => $infoNotificacion["nombre_comercial"]
@@ -968,166 +1088,137 @@
                 $this->notificarAuthCancelCobrador($parametros_cobrador);
             }
-            
             return true;
         }
         return false;
     }
-    
+
     /**
      * Reestablece una autorizacion para el envio de invoices
      * @param int $id_invoice_autorizacion Es el identificador de la autorizacion para el envio de invoice.
-     * @return bool 
-     */
-    public function resetInvoice($id_invoice_autorizacion){
-        //Actualizando el estado de la autorización
+     * @return bool
+     */
+    public function resetInvoice($id_invoice_autorizacion) {
+        
+        // Actualizando el estado de la autorización
         return $this->updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $this->constantes['AUTH_REGISTERED']);
     }
-    
-    private function getDeniedAuth($id_invoice_contacto){
+
+    private function getDeniedAuth($id_invoice_contacto) {
+        
         $sql = "
-            select 
+            select
                 count(id_invoice_autorizacion) total
-            from
-                pg_invoice_autorizaciones
+            from pg_invoice_autorizaciones
             where
-                id_invoice_estado_autorizacion = " . $this->constantes['AUTH_DECLINED'] . "
-                    and id_invoice_contacto = " . $id_invoice_contacto;
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+                id_invoice_estado_autorizacion = '" . $this->constantes['AUTH_DECLINED'] . "'
+                and id_invoice_contacto = '" . $id_invoice_contacto . "'";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($row);
                 return $row['total'];
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
-    /**
-     * Devuelve los registros de invoices pendientes de envio para un contacto determinado que no se encuentren vencidos o procesados
-     * @param int $id_invoice_contacto Es el identificador del contacto
-     * @return array 
-     */
-    private function obtenerInvoicesPendientesPorContacto($id_invoice_contacto){
-        $invoices = array();
-        $sql = "
-            select 
-                t.id_invoice_transaction
-            from
-                pg_invoice_contacto c
-                    inner join
-                pg_invoice_transaction t USING (id_invoice_contacto)
-                    inner join
-                pg_invoice i USING (id_invoice)
-                    inner join
-                pg_ws_transactions ws USING (id_ws_transaction)
-            where
-                t.id_invoice_contacto = " . $id_invoice_contacto . "
-                    and i.fecha_vencimiento >= '" . date('Y-m-d') . " 00:00:00'
-                    and ws.id_transaction_status = 1
-            ORDER BY i.fecha_cobro, i.fecha_creacion
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() > 0){
-                while($res->fetchInto($row)){
-                    $invoices[] = $row;
-                }
-            }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return $invoices;
-    }    
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Modifica el el estado de una autorizacion para el envio de invoice
      * @param int $id_invoice_autorizacion Es el identificador del contacto de invoice.
      * @param $auth_status Nuevo estado de la autorización del contacto
-     * @return bool 
-     */
-    private function updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $auth_status){
+     * @return bool
+     */
+    private function updateInvoiceAutorizacionAuth($id_invoice_autorizacion, $auth_status) {
+        
         $campos_valores = array(
             array(
-                "nombre"    => "id_invoice_estado_autorizacion",
-                "tipo"      => "int",
-                "valor"     => $auth_status
+                "nombre" => "id_invoice_estado_autorizacion",
+                "tipo" => "int",
+                "valor" => $auth_status
             )
         );
-        
-        if($auth_status == $this->constantes['AUTH_DECLINED'] || $auth_status == $this->constantes['AUTH_CANCELED']){
+        if ($auth_status == $this->constantes['AUTH_DECLINED'] || $auth_status == $this->constantes['AUTH_CANCELED']) {
+            
             $setInactivo = array(
-                "nombre"    => "activo",
-                "tipo"      => "int",
-                "valor"     => "0"
+                "nombre" => "activo",
+                "tipo" => "int",
+                "valor" => "0"
             );
             array_push($campos_valores, $setInactivo);
-        }elseif($auth_status == $this->constantes['AUTH_REGISTERED']){
+        } elseif ($auth_status == $this->constantes['AUTH_REGISTERED']) {
+            
             $setActivo = array(
-                "nombre"    => "activo",
-                "tipo"      => "int",
-                "valor"     => "1"
+                "nombre" => "activo",
+                "tipo" => "int",
+                "valor" => "1"
             );
             array_push($campos_valores, $setActivo);
-        }        
-        
+        }
         $campos_condiciones = array(
             array(
                 "operacion" => null,
-                "nombre"    => "id_invoice_autorizacion",
-                "tipo"      => "int",
-                "valor"     => $id_invoice_autorizacion
+                "nombre" => "id_invoice_autorizacion",
+                "tipo" => "int",
+                "valor" => $id_invoice_autorizacion
             )
         );
         return $this->updateInvoiceAutorizacion($campos_valores, $campos_condiciones);
     }
-    
+
     /**
      * Actualiza una autorizacion para invoice.
      * @param array $campos_valores Arreglo de arreglos asociativos con los índices<br />- nombre<br />- tipo (si es string se agregan comillas)<br />- valor.
      * @param array $campos_condiciones Arreglo de arreglos asociativos con los índices<br />- operacion (opcional en el primero, and u or)<br />- nombre<br />- tipo (si es string se agregan comillas)<br />- valor.
-     * @return bool 
-     */
-    private function updateInvoiceAutorizacion($campos_valores, $campos_condiciones){
+     * @return bool
+     */
+    private function updateInvoiceAutorizacion($campos_valores, $campos_condiciones) {
+        
         $sql = "
             UPDATE pg_invoice_autorizaciones
             SET ";
         $first = true;
-        foreach($campos_valores as $campo_valor){
-            $sql .= ($first?"":", ").$campo_valor["nombre"]." = ".($campo_valor["tipo"]=="string"?("'".$campo_valor["valor"]."'"):$campo_valor["valor"]);
+        foreach ($campos_valores as $campo_valor) {
+            
+            $sql .= ($first ? "" : ", ") . $campo_valor["nombre"] . " = " . ($campo_valor["tipo"] == "string" ? ("'" . $campo_valor["valor"] . "'") : $campo_valor["valor"]);
             $first = false;
         }
         $first = true;
-        foreach($campos_condiciones as $campo_condicion){
-            $sql .= ($first?" WHERE ":" ".$campo_condicion["operacion"])." ".$campo_condicion["nombre"]." = ".($campo_condicion["tipo"]=="string"?("'".$campo_condicion["valor"]."'"):$campo_condicion["valor"]);
+        foreach ($campos_condiciones as $campo_condicion) {
+            
+            $sql .= ($first ? " WHERE " : " " . $campo_condicion["operacion"]) . " " . $campo_condicion["nombre"] . " = " . ($campo_condicion["tipo"] == "string" ? ("'" . $campo_condicion["valor"] . "'") : $campo_condicion["valor"]);
             $first = false;
         }
-        try{
-            $res = $this->db->query($sql);
-            if($res->affectedRows() > 0 || $res->matchedRows() > 0){
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->affectedRows() > 0 || $res->matchedRows() > 0) {
+                
                 return true;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Modifica el el estado del contacto para el envio de invoice
      * @param int $id_invoice_contacto Es el identificador del contacto de invoice.
      * @param $con_status Nuevo estado de la autorización del contacto
-     * @return bool 
-     */
-    private function updateInvoiceContactoAuth($id_invoice_contacto, $con_status){
+     * @return bool
+     */
+    private function updateInvoiceContactoAuth($id_invoice_contacto, $con_status) {
+        
         $campos_valores = array(
             array(
-                "nombre"    => "id_invoice_estado_contacto",
-                "tipo"      => "int",
-                "valor"     => $con_status
+                "nombre" => "id_invoice_estado_contacto",
+                "tipo" => "int",
+                "valor" => $con_status
             )
         );
@@ -1135,24 +1226,25 @@
             array(
                 "operacion" => null,
-                "nombre"    => "id_invoice_contacto",
-                "tipo"      => "int",
-                "valor"     => $id_invoice_contacto
+                "nombre" => "id_invoice_contacto",
+                "tipo" => "int",
+                "valor" => $id_invoice_contacto
             )
         );
         return $this->updateInvoiceContacto($campos_valores, $campos_condiciones);
     }
-    
+
     /**
      * Actualiza el nombre de un contacto de invoice.
      * @param string $nombre Es el nombre a actualizar.
      * @param int $id_invoice_contacto Es el identificador del contacto de invoice.
-     * @return bool 
-     */
-    private function updateInvoiceContactoNombre($nombre, $id_invoice_contacto){
+     * @return bool
+     */
+    private function updateInvoiceContactoNombre($nombre, $id_invoice_contacto) {
+        
         $campos_valores = array(
             array(
-                "nombre"    => "nombre",
-                "tipo"      => "string",
-                "valor"     => $nombre
+                "nombre" => "nombre",
+                "tipo" => "string",
+                "valor" => $nombre
             )
         );
@@ -1160,44 +1252,49 @@
             array(
                 "operacion" => null,
-                "nombre"    => "id_invoice_contacto",
-                "tipo"      => "int",
-                "valor"     => $id_invoice_contacto
+                "nombre" => "id_invoice_contacto",
+                "tipo" => "int",
+                "valor" => $id_invoice_contacto
             )
         );
         return $this->updateInvoiceContacto($campos_valores, $campos_condiciones);
     }
-    
+
     /**
      * Actualiza un contacto de invoice.
      * @param array $campos_valores Arreglo de arreglos asociativos con los índices<br />- nombre<br />- tipo (si es string se agregan comillas)<br />- valor.
      * @param array $campos_condiciones Arreglo de arreglos asociativos con los índices<br />- operacion (opcional en el primero, and u or)<br />- nombre<br />- tipo (si es string se agregan comillas)<br />- valor.
-     * @return bool 
-     */
-    private function updateInvoiceContacto($campos_valores, $campos_condiciones){
+     * @return bool
+     */
+    private function updateInvoiceContacto($campos_valores, $campos_condiciones) {
+        
         $sql = "
             UPDATE pg_invoice_contacto
             SET ";
         $first = true;
-        foreach($campos_valores as $campo_valor){
-            $sql .= ($first?"":", ").$campo_valor["nombre"]." = ".($campo_valor["tipo"]=="string"?("'".$campo_valor["valor"]."'"):$campo_valor["valor"]);
+        foreach ($campos_valores as $campo_valor) {
+            
+            $sql .= ($first ? "" : ", ") . $campo_valor["nombre"] . " = " . ($campo_valor["tipo"] == "string" ? ("'" . $campo_valor["valor"] . "'") : $campo_valor["valor"]);
             $first = false;
         }
         $first = true;
-        foreach($campos_condiciones as $campo_condicion){
-            $sql .= ($first?" WHERE ":" ".$campo_condicion["operacion"])." ".$campo_condicion["nombre"]." = ".($campo_condicion["tipo"]=="string"?("'".$campo_condicion["valor"]."'"):$campo_condicion["valor"]);
+        foreach ($campos_condiciones as $campo_condicion) {
+            
+            $sql .= ($first ? " WHERE " : " " . $campo_condicion["operacion"]) . " " . $campo_condicion["nombre"] . " = " . ($campo_condicion["tipo"] == "string" ? ("'" . $campo_condicion["valor"] . "'") : $campo_condicion["valor"]);
             $first = false;
         }
-        try{
-            $res = $this->db->query($sql);
-            if($res->affectedRows() > 0 || $res->matchedRows() > 0){
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->affectedRows() > 0 || $res->matchedRows() > 0) {
+                
                 return true;
             }
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-        }
-        return false;
-    }
-    
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+        }
+        return false;
+    }
+
     /**
      * Envía la notificación al comprador.
@@ -1205,16 +1302,15 @@
      * @return bool
      */
-    private function notificarPagador($parametros){
+    private function notificarPagador($parametros) {
         global $raizImg;
 
-        if(file_exists("./librerias/class.Cripto.php"))
+        if (file_exists("./librerias/class.Cripto.php"))
             include_once("./librerias/class.Cripto.php");
-        elseif(file_exists("../librerias/class.Cripto.php"))
+        elseif (file_exists("../librerias/class.Cripto.php"))
             include_once("../librerias/class.Cripto.php");
-        $Cripto             = new Cripto();
-        $datos              = new stdClass();
-        $datos->id_autorizacion  = $parametros["id_invoice_autorizacion"];
-        $key                = $Cripto->encapsular(json_encode($datos));
-        
+        $Cripto = new Cripto();
+        $datos = new stdClass();
+        $datos->id_autorizacion = $parametros["id_invoice_autorizacion"];
+        $key = $Cripto->encapsular(json_encode($datos));
         $notif_param = Array(
             'nombre' => $parametros["nombre"],
@@ -1228,25 +1324,28 @@
             'notasComprador' => $parametros["notasComprador"],
             'url' => $parametros["url"],
-            'link' => "<a href='" . URL_COMERCIOS . "/index.php?mod=inv&hac=can&key=" . urlencode($key) . "'>" . PG_INV_CLICK_AQUI . "</a>"
-        );
-        
-        if($this->recurring_payments){
+            'link' => "<a href='" . URL_COMERCIOS . "/?mod=inv&hac=can&key=" . urlencode($key) . "'>" . PG_INV_CLICK_AQUI . "</a>"
+        );
+        if ($this->recurring_payments) {
+            
             $id_noti = 'PA-INV-1003';
             $recurrencia = $this->getRecurringInfo($parametros['id_invoice']);
-            if($recurrencia['cobros_total'] == 0){
+            if ($recurrencia['cobros_total'] == 0) {
+                
                 $notif_param['numero_pagos'] = PG_INV_TIEMPO_INDEFINIDO;
             } else {
+                
                 $notif_param['numero_pagos'] = $recurrencia['cobros_total'];
             }
             $notif_param['nombre_periodicidad'] = $recurrencia['nombre_periodicidad'];
         } else {
+            
             $id_noti = 'PA-INV-1001';
         }
-        
         $nt = new notificaciones();
-        try{
+        try {
+            
             $nt->sendMail($id_noti, 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
-        }
-        catch(Throwable $e){
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
             return false;
@@ -1254,5 +1353,5 @@
         return true;
     }
-    
+
     /**
      * Envía la notificación al comercio.
@@ -1260,5 +1359,6 @@
      * @return bool
      */
-    private function notificarCobrador($parametros){
+    private function notificarCobrador($parametros) {
+        
         $notif_param = Array(
             'nombre' => $parametros["nombre"],
@@ -1270,21 +1370,26 @@
             'notasVendedor' => $parametros["notasVendedor"]
         );
-        if($this->recurring_payments){
+        if ($this->recurring_payments) {
+            
             $id_noti = 'PA-INV-1004';
             $recurrencia = $this->getRecurringInfo($parametros['id_invoice']);
-            if($recurrencia['cobros_total'] == 0){
+            if ($recurrencia['cobros_total'] == 0) {
+                
                 $notif_param['numeroCobros'] = PG_INV_TIEMPO_INDEFINIDO;
             } else {
+                
                 $notif_param['numeroCobros'] = $recurrencia['cobros_total'];
             }
             $notif_param['periodoCobro'] = $recurrencia['nombre_periodicidad'];
         } else {
+            
             $id_noti = 'PA-INV-1002';
-        }        
+        }
         $nt = new notificaciones();
-        try{
+        try {
+            
             $nt->enviarNotificaciones($id_noti, -1, $parametros["id_usuario_comercio"], $notif_param);
-        }
-        catch(Throwable $e){
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
             return false;
@@ -1292,5 +1397,5 @@
         return true;
     }
-    
+
     /**
      * Envía la petición de autorización al comprador.
@@ -1298,26 +1403,148 @@
      * @return bool
      */
-    private function notificarAuthRequestPagador($parametros){
-        if(file_exists("./librerias/class.Cripto.php"))
+    private function notificarAuthRequestPagador($parametros) {
+        global $raizImg;
+        
+        if (file_exists("./librerias/class.Cripto.php"))
             include_once("./librerias/class.Cripto.php");
-        elseif(file_exists("../librerias/class.Cripto.php"))
+        elseif (file_exists("../librerias/class.Cripto.php"))
             include_once("../librerias/class.Cripto.php");
-        
-        $Cripto             = new Cripto();
-        $datos              = new stdClass();
-        $datos->id_autorizacion  = $parametros["id_invoice_autorizacion"];
-        $key                = $Cripto->encapsular(json_encode($datos));
+
+        $Cripto = new Cripto();
+        $datos = new stdClass();
+        $datos->id_autorizacion = $parametros["id_invoice_autorizacion"];
+        $datos->idit = $parametros["id_invoice_transaction"];
+        $datos->url_pago = $parametros["url"];
+        $key = $Cripto->encapsular(json_encode($datos));
+        
+        $notif_param = Array(
+            'nombreComercio' => html_entity_decode($parametros["comercio"]),
+            'correo' => $parametros["correo"],
+            // parametros del cuerpo del invoice
+            'nombre' => $parametros["nombre"],
+            'comercio' => $parametros["comercio"],
+            'logo_comercio' => (empty($parametros["logo_comercio"]) ? '' : '<img alt="' . $parametros["comercio"] . '" src="' . $raizImg . $parametros["logo_comercio"] . '" />'),
+            'invoice_number' => $parametros["invoice_number"],
+            'invoice_date' => $parametros["invoice_date"],
+            'invoice_items' => $parametros["invoice_items"],
+            'monto' => number_format(($parametros['monto']), 2),
+            'fechaVencimiento' => $parametros['fechaVencimiento'],
+            'notasComprador' => $parametros["notasComprador"],
+            // enlaces
+            'url_autorizar_y_pagar_invoice' => URL_COMERCIOS . "/?mod=inv&hac=auth&key=" . urlencode($key),
+            'url_denegar_invoice' => URL_COMERCIOS . "/?mod=inv&hac=valcor&key=" . urlencode($key),
+        );
+        if ($this->recurring_payments) {
+            
+            
+            $recurrencia = $this->getRecurringInfo($parametros['id_invoice']);
+            if ($recurrencia['cobros_total'] == 0) {
+                
+                $notif_param['numero_pagos'] = PG_INV_TIEMPO_INDEFINIDO;
+            } else {
+                
+                $notif_param['numero_pagos'] = $recurrencia['cobros_total'];
+            }
+            $notif_param['nombre_periodicidad'] = $recurrencia['nombre_periodicidad'];
+            $id_noti = 'PG-AUT-1050';
+        } else {
+            
+            $id_noti = 'PG-AUT-1049';
+        }
+        $nt = new notificaciones();
+        try {
+            
+            $nt->sendMail($id_noti, 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+            return false;
+        }
+        return true;
+    }
+    
+    /**
+     * Envía una confirmación de la petición de autorización y pago al comercio.
+     * @param array $parametros Arreglo con los parámetros y sus valores.
+     * @return bool
+     */
+    private function notificarAuthRequestCobrador($parametros) {
+                
+        $notif_param = Array(
+            'nombre' => $parametros["nombre"],
+            'correo' => $parametros["correo"],
+            'comercio' => $parametros["comercio"],
+            'invoice_number' => $parametros["invoice_number"],
+            'monto' => number_format(($parametros['monto']), 2),
+            'fechaEnvio' => $parametros['fechaEnvio'],
+            'fechaVencimiento' => $parametros['fechaVencimiento'],
+            'notasVendedor' => $parametros["notasVendedor"]
+        );
+        if ($this->recurring_payments) {
+            
+            $recurrencia = $this->getRecurringInfo($parametros['id_invoice']);
+            if ($recurrencia['cobros_total'] == 0) {
+                
+                $notif_param['numeroCobros'] = PG_INV_TIEMPO_INDEFINIDO;
+            } else {
+                
+                $notif_param['numeroCobros'] = $recurrencia['cobros_total'];
+            }
+            $notif_param['periodoCobro'] = $recurrencia['nombre_periodicidad'];
+            $id_noti = 'PG-AUT-1052';
+        } else {
+            
+            $id_noti = 'PG-AUT-1051';
+        }
+        $nt = new notificaciones();
+        try {
+            
+            $nt->enviarNotificaciones($id_noti, -1, $parametros["id_usuario_comercio"], $notif_param);
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+            return false;
+        }
+        return true;
+    }
+
+    /**
+     * Envía la notificación de aprobación de autorización al comprador.
+     * @param array $parametros Arreglo con los parámetros y sus valores.
+     * @return bool
+     */
+    private function notificarAuthAcceptPagador($parametros) {
+        
+        $notif_param = Array(
+            'nombreComercio' => html_entity_decode($parametros["comercio"])
+        );
+        $nt = new notificaciones();
+        try {
+            
+            $nt->sendMail('PG-AUT-1043', 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
+        } catch (Throwable $e) {
+            
+            $this->log($e->getMessage());
+            return false;
+        }
+        return true;
+    }
+
+    /**
+     * Envía la notificación de aprobación de autorización al comercio.
+     * @param array $parametros Arreglo con los parámetros y sus valores.
+     * @return bool
+     */
+    private function notificarAuthAcceptCobrador($parametros) {
         
         $notif_param = Array(
             'correo' => $parametros["correo"],
-            'nombreComercio' => html_entity_decode($parametros["comercio"]),
-            'link' => "<a href='" . URL_COMERCIOS . "/index.php?mod=inv&hac=valcor&key=" . urlencode($key) . "'>" . PG_INV_CLICK_AQUI . "</a>"
-        );
-        
+        );
         $nt = new notificaciones();
-        try{
-            $nt->sendMail('PG-AUT-1041', 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
-        }
-        catch(Throwable $e){
+        try {
+            
+            $nt->enviarNotificaciones('PG-AUT-1044', -1, $parametros["id_usuario_comercio"], $notif_param);
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
             return false;
@@ -1325,20 +1552,21 @@
         return true;
     }
-    
-    /**
-     * Envía la notificación de aprobación de autorización al comprador.
+
+    /**
+     * Envía la notificación de cancelación de autorización al comprador.
      * @param array $parametros Arreglo con los parámetros y sus valores.
      * @return bool
      */
-    private function notificarAuthAcceptPagador($parametros){
+    private function notificarAuthCancelPagador($parametros) {
+        
         $notif_param = Array(
             'nombreComercio' => html_entity_decode($parametros["comercio"])
         );
-        
         $nt = new notificaciones();
-        try{
-            $nt->sendMail('PG-AUT-1043', 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
-        }
-        catch(Throwable $e){
+        try {
+            
+            $nt->sendMail('PG-AUT-1047', 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
             return false;
@@ -1346,40 +1574,54 @@
         return true;
     }
-    
-    /**
-     * Envía la notificación de aprobación de autorización al comercio.
+
+    /**
+     * Envía la notificación de cancelación de autorización al comercio.
      * @param array $parametros Arreglo con los parámetros y sus valores.
      * @return bool
      */
-    private function notificarAuthAcceptCobrador($parametros){
+    private function notificarAuthCancelCobrador($parametros) {
+        
         $notif_param = Array(
             'correo' => $parametros["correo"],
         );
         $nt = new notificaciones();
-        try{
-            $nt->enviarNotificaciones('PG-AUT-1044', -1, $parametros["id_usuario_comercio"], $notif_param);
-        }
-        catch(Throwable $e){
+        try {
+            
+            $nt->enviarNotificaciones('PG-AUT-1048', -1, $parametros["id_usuario_comercio"], $notif_param);
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
             return false;
         }
         return true;
-    }    
-    
-    /**
-     * Envía la notificación de cancelación de autorización al comprador.
+    }
+
+    /**
+     * Envía la notificación de denegación de autorización al comprador.
      * @param array $parametros Arreglo con los parámetros y sus valores.
      * @return bool
      */
-    private function notificarAuthCancelPagador($parametros){
+    private function notificarAuthDenyPagador($parametros) {
+        
+        if (file_exists("./librerias/class.Cripto.php"))
+            include_once("./librerias/class.Cripto.php");
+        elseif (file_exists("../librerias/class.Cripto.php"))
+            include_once("../librerias/class.Cripto.php");
+        $Cripto = new Cripto();
+        $datos = new stdClass();
+        $datos->id_autorizacion = $parametros["id_invoice_autorizacion"];
+        $datos->idit = $parametros["id_invoice_transaction"];
+        $datos->url_pago = $parametros["url"];
+        $key = $Cripto->encapsular(json_encode($datos));
         $notif_param = Array(
-            'nombreComercio' => html_entity_decode($parametros["comercio"])
-        );
-        
+            'nombreComercio' => html_entity_decode($parametros["comercio"]),
+            'link' => "<a href='" . URL_COMERCIOS . "/?mod=inv&hac=actvalcor&key=" . urlencode($key) . "'>" . PG_INV_CLICK_AQUI . "</a>"
+        );
         $nt = new notificaciones();
-        try{
-            $nt->sendMail('PG-AUT-1047', 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
-        }
-        catch(Throwable $e){
+        try {
+            
+            $nt->sendMail('PG-AUT-1045', 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
             return false;
@@ -1387,77 +1629,27 @@
         return true;
     }
-    
-    /**
-     * Envía la notificación de cancelación de autorización al comercio.
+
+    /**
+     * Envía la notificación de denegación de autorización al comercio.
      * @param array $parametros Arreglo con los parámetros y sus valores.
      * @return bool
      */
-    private function notificarAuthCancelCobrador($parametros){
+    private function notificarAuthDenyCobrador($parametros) {
+        
         $notif_param = Array(
             'correo' => $parametros["correo"],
         );
         $nt = new notificaciones();
-        try{
-            $nt->enviarNotificaciones('PG-AUT-1048', -1, $parametros["id_usuario_comercio"], $notif_param);
-        }
-        catch(Throwable $e){
+        try {
+            
+            $nt->enviarNotificaciones('PG-AUT-1046', -1, $parametros["id_usuario_comercio"], $notif_param);
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage());
             return false;
         }
         return true;
-    }    
-    
-    /**
-     * Envía la notificación de denegación de autorización al comprador.
-     * @param array $parametros Arreglo con los parámetros y sus valores.
-     * @return bool
-     */
-    private function notificarAuthDenyPagador($parametros){
-        if(file_exists("./librerias/class.Cripto.php"))
-            include_once("./librerias/class.Cripto.php");
-        elseif(file_exists("../librerias/class.Cripto.php"))
-            include_once("../librerias/class.Cripto.php");
-        
-        $Cripto             = new Cripto();
-        $datos              = new stdClass();
-        $datos->id_autorizacion  = $parametros["id_invoice_autorizacion"];
-        $key                = $Cripto->encapsular(json_encode($datos));
-        
-        $notif_param = Array(
-            'nombreComercio' => html_entity_decode($parametros["comercio"]),
-            'link' => "<a href='" . URL_COMERCIOS . "/index.php?mod=inv&hac=actvalcor&key=" . urlencode($key) . "'>" . PG_INV_CLICK_AQUI . "</a>"
-        );
-        
-        $nt = new notificaciones();
-        try{
-            $nt->sendMail('PG-AUT-1045', 1, array($parametros["correo"]), array($parametros["nombre"]), $notif_param);
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-            return false;
-        }
-        return true;
-    }
-    
-    /**
-     * Envía la notificación de denegación de autorización al comercio.
-     * @param array $parametros Arreglo con los parámetros y sus valores.
-     * @return bool
-     */
-    private function notificarAuthDenyCobrador($parametros){
-        $notif_param = Array(
-            'correo' => $parametros["correo"],
-        );
-        $nt = new notificaciones();
-        try{
-            $nt->enviarNotificaciones('PG-AUT-1046', -1, $parametros["id_usuario_comercio"], $notif_param);
-        }
-        catch(Throwable $e){
-            $this->log($e->getMessage());
-            return false;
-        }
-        return true;
-    }    
-    
+    }
+
     /**
      * Registra un error en el archivo de log.
@@ -1467,4 +1659,5 @@
     private function log($msg, $titulo = 'Log gen&eacute;rico', $debugging = 0) {
         global $objLog;
+        
         $nivel = LOG_E_INFO;
         if ($debugging)
@@ -1483,17 +1676,19 @@
      * @return  int
      */
-    private function ultimoId(){
+    private function ultimoId() {
+        
         $sql = "SELECT LAST_INSERT_ID() id";
-        try{
+        try {
+            
             $rs = $this->db->query($sql);
             $rs->fetchInto($row);
             $id = $row["id"];
-        }
-        catch(Throwable $e){
+        } catch (Throwable $e) {
+            
             $this->log("error: " . $e->getMessage());
         }
         return $id;
     }
-    
+
     /**
      * obtiene el detalle de los items de un invoice a travez de su
@@ -1503,5 +1698,5 @@
      */
     private function getInvoiceItems($id_ws_transacction) {
-        
+
         $return = '';
         $query = "
@@ -1514,12 +1709,12 @@
                 id_ws_transaction = '" . $id_ws_transacction . "'";
         try {
-            
+
             $result = $this->db->query($query);
             $cont = 1;
             while ($result->fetchInto($item)) {
-                
+
                 $total_item = number_format(($item['price'] * $item['quantity']), 2);
                 $return .= '
-                    <tr bgcolor="'. ($cont % 2 == 0 ? '#f9f9f9': '#ffffff') . '">
+                    <tr bgcolor="' . ($cont % 2 == 0 ? '#f9f9f9' : '#ffffff') . '">
                         <td width="350">' . $item['description'] . '</td>
                         <td width="70" align="right">' . number_format($item['price'], 2) . '</td>
@@ -1530,10 +1725,11 @@
             }
         } catch (Throwable $exc) {
-            
+
             $this->log($exc->getMessage(), "error obteniendo los items del invoice");
         }
         return $return;
     }
-            /**
+
+    /**
      * Crea un nuevo invoice. Si los contactos no están registrados, se crean.
      * @param date $fecha_cobro Es la fecha en la que se realizará el cobro.
@@ -1548,118 +1744,159 @@
      * @return bool
      */
-    public function newInvoiceWithRecurringPayments($fecha_cobro, $fecha_vencimiento, $nota_comprador, $nota_vendedor, $correos, $nombres, $ids_ws_transaction, $token, $info_transaction, $periodicity, $charges_number){
+    public function newInvoiceWithRecurringPayments($fecha_cobro, $fecha_vencimiento, $nota_comprador, $nota_vendedor, $correos, $nombres, $ids_ws_transaction, $token, $info_transaction, $periodicity, $charges_number) {
+        
         $id_invoice = $this->insertInvoice($fecha_cobro, $fecha_vencimiento, $nota_comprador, $nota_vendedor, $info_transaction["id_usuario_comercio"]);
-        if($id_invoice){
-            for($i = 0; $i < count($correos); $i++){
+        if ($id_invoice) {
+            
+            for ($i = 0; $i < count($correos); $i++) {
+                
                 $contacto = $this->selectContacto($correos[$i], $info_transaction["id_usuario_comercio"]);
-                if($contacto){
+                if ($contacto) {
+                    
                     $id_invoice_contacto = $contacto["id_invoice_contacto"];
                     $this->updateInvoiceContactoNombre($nombres[$i], $id_invoice_contacto);
-                }
-                else{
+                } else {
+                    
                     $id_invoice_contacto = $this->insertContacto($correos[$i], $nombres[$i], $info_transaction["id_usuario_comercio"]);
                 }
-                if($id_invoice_contacto){
+                if ($id_invoice_contacto) {
+                    
                     $id_invoice_transaction = $this->insertInvoiceTransaction($id_invoice, $id_invoice_contacto, $ids_ws_transaction[$i]);
-                    if($id_invoice_transaction){
+                    if ($id_invoice_transaction) {
+                        
                         $id_suscripcion = $this->insertSuscription($fecha_cobro, $fecha_vencimiento, $info_transaction["id_comercio"], $periodicity, $charges_number, $id_invoice, $info_transaction["ern"]);
                         $this->sendInvoice($id_invoice_transaction);
-                    }else{
+                    } else {
+                        
                         return false;
                     }
-                }
-                else{
+                } else {
+                    
                     return false;
                 }
             }
-        }
-        else{
+        } else {
+            
             return false;
         }
         return true;
-    }    
-
-    private function insertSuscription($fecha_cobro, $fecha_vencimiento, $id_comercio, $periodicidad, $numero_periodos, $id_invoice, $ern){
+    }
+
+    private function insertSuscription($fecha_cobro, $fecha_vencimiento, $id_comercio, $periodicidad, $numero_periodos, $id_invoice, $ern) {
+        
         $ern_inic = explode('|', $ern);
         $sql = "
-            INSERT INTO pg_suscripciones (id_tipo_suscripcion, id_comercio_afiliado, ern, fecha_inicio, id_periodicidad, cobros_total, id_invoice)
-            VALUES (1,$id_comercio, '$ern_inic[0]','$fecha_cobro', $periodicidad, $numero_periodos, $id_invoice)
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res){
+            INSERT INTO pg_suscripciones(
+                id_tipo_suscripcion,
+                id_comercio_afiliado,
+                ern,
+                fecha_inicio,
+                id_periodicidad,
+                cobros_total,
+                id_invoice
+            ) VALUES(
+                '1',
+                '" . $id_comercio . "',
+                '" . $ern_inic[0] . "',
+                '" . $fecha_cobro . "',
+                '" . $periodicidad . "',
+                '" . $numero_periodos . "',
+                '" . $id_invoice . "'
+            )";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res) {
+                
                 $id_suscription = $this->ultimoId();
-                $sql = "SELECT
-                            wstd . *
-                        FROM
-                            pg_ws_transactions_details wstd
-                                INNER JOIN
-                            pg_invoice_transaction it ON it.id_ws_transaction = wstd.id_ws_transaction
-                        WHERE
-                            id_invoice = " . $id_invoice;
+                $sql = "
+                    SELECT
+                        wstd.*
+                    FROM pg_ws_transactions_details wstd
+                        INNER JOIN pg_invoice_transaction it ON it.id_ws_transaction = wstd.id_ws_transaction
+                    WHERE
+                        id_invoice = '" . $id_invoice . "'";
                 try {
+                    
                     $details = $this->db->query($sql);
-                     while($details->fetchInto($detail)){
-
-                        if(!$this->insertDetailSuscription($id_suscription, $detail['quantity'], $detail['price'], $detail['description'])){
+                    while ($details->fetchInto($detail)) {
+
+                        if (!$this->insertDetailSuscription($id_suscription, $detail['quantity'], $detail['price'], $detail['description'])) {
+                            
                             $this->log('error al guardar detalle suscripcion_id: ' . $id_suscription, 'Crear Suscripcion');
                             break;
-                            }
+                        }
                     }
                 } catch (Throwable $e) {
+                    
                     $this->log($e->getMessage(), 'Crear Suscripcion');
                 }
                 return $id_suscription;
-             
-            }
-        }
-        catch(Throwable $e){
+            }
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage(), 'Crear Suscripcion');
         }
         return false;
     }
-    
-    private function insertDetailSuscription($id_suscription, $quantity, $price, $description){
-        $sql = "INSERT INTO pg_suscripciones_detalles (id_suscripcion, cantidad, precio, descripcion)
-            VALUES ($id_suscription, $quantity, $price, '$description')";
-        try {
-            $res = $this->db->query($sql);
-            if($res){
+
+    private function insertDetailSuscription($id_suscription, $quantity, $price, $description) {
+        
+        $sql = "
+            INSERT INTO pg_suscripciones_detalles(
+                id_suscripcion,
+                cantidad,
+                precio,
+                descripcion
+            ) VALUES(
+                '" . $id_suscription . "',
+                '" . $quantity . "',
+                '" . $price . "',
+                '" . $description . "'
+            )";
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res) {
+                
                 return true;
             }
         } catch (Throwable $e) {
+            
             $this->log($e->getMessage(), 'Detalle de Suscripcion');
         }
         return false;
     }
-    
+
     /**
      * Funcion para obtener la informacion de la recurrencia de un invoice
      */
-    public function getRecurringInfo($id_invoice){
+    public function getRecurringInfo($id_invoice) {
+        
         $info = array();
-        $sql = "SELECT 
+        $sql = "SELECT
                     s.*,
                     " . (isset($_COOKIE["pg_idioma"]) && $_COOKIE["pg_idioma"] != "" ? ($_COOKIE["pg_idioma"] == 'es' ? "p.nombre" : "p.nombre_en") : "p.nombre") . " as nombre_periodicidad
-                FROM
-                    pg_suscripciones s
-                        INNER JOIN
-                    pg_suscripciones_periodicidades p ON p.id_periodicidad = s.id_periodicidad
+                FROM pg_suscripciones s
+                    INNER JOIN pg_suscripciones_periodicidades p ON p.id_periodicidad = s.id_periodicidad
                 WHERE
-                    id_invoice = " . $id_invoice;
-        try {
+                    id_invoice = '" . $id_invoice . "'";
+        try {
+            
             $res = $this->db->query($sql);
             $res->fetchInto($info);
         } catch (Throwable $e) {
+            
             $this->log($e->getMessage(), 'Obtener informacion de recurrencia');
         }
         return $info;
     }
-    
+
     /**
      * Funcion para obtener el total de registros obtenidos
      * a partir de una consulta
      */
-    public function getCountInvoice($id_usuario, $filtros = array()){
+    public function getCountInvoice($id_usuario, $filtros = array()) {
+        
         global $idioma;
         $invoices = 0;
@@ -1668,23 +1905,26 @@
                 it.id_invoice_transaction
             FROM pg_invoice i
-            INNER JOIN pg_invoice_transaction it USING(id_invoice)
-            INNER JOIN pg_invoice_contacto ic USING(id_invoice_contacto)
-            INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
-            INNER JOIN pg_ws_transactions_status wsts USING(id_transaction_status)
-            WHERE i.id_usuario = $id_usuario
-            ".(isset($filtros["fechaInicio"]) && $filtros["fechaInicio"] != ""?"AND i.fecha_cobro >= '".date("Y-m-d", strtotime($filtros["fechaInicio"]))." 00:00:00'":"")."
-            ".(isset($filtros["fechaFinal"]) && $filtros["fechaFinal"] != ""?"AND i.fecha_cobro <= '".date("Y-m-d", strtotime($filtros["fechaFinal"]))." 23:59:59'":"")."
-            ".(isset($filtros["estado"]) && $filtros["estado"] != ""?"AND wsts.id_transaction_status = ".$filtros["estado"]:"")."
-        ";
-        try{
-            $res = $this->db->query($sql);
-            if($res->numRows() > 0){
+                INNER JOIN pg_invoice_transaction it USING(id_invoice)
+                INNER JOIN pg_invoice_contacto ic USING(id_invoice_contacto)
+                INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
+                INNER JOIN pg_ws_transactions_status wsts USING(id_transaction_status)
+            WHERE
+                i.id_usuario = '" . $id_usuario . "'
+                " . (isset($filtros["fechaInicio"]) && $filtros["fechaInicio"] != "" ? "AND i.fecha_cobro >= '" . date("Y-m-d", strtotime($filtros["fechaInicio"])) . " 00:00:00'" : "") . "
+                " . (isset($filtros["fechaFinal"]) && $filtros["fechaFinal"] != "" ? "AND i.fecha_cobro <= '" . date("Y-m-d", strtotime($filtros["fechaFinal"])) . " 23:59:59'" : "") . "
+                " . (isset($filtros["estado"]) && $filtros["estado"] != "" ? "AND wsts.id_transaction_status = '" . $filtros["estado"] . "'" : "");
+        try {
+            
+            $res = $this->db->query($sql);
+            if ($res->numRows() > 0) {
+                
                 $invoices = $res->numRows();
             }
-        }
-        catch(Throwable $e){
+        } catch (Throwable $e) {
+            
             $this->log($e->getMessage(), 'Obtener numero total de Invoice');
         }
         return $invoices;
     }
+
 }
Index: branches/b-20180319.02/librerias/class.OperacionValidacion.php
===================================================================
--- trunk/librerias/class.OperacionValidacion.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.OperacionValidacion.php	(revision 3579)
@@ -557,20 +557,29 @@
     {
         try {
-            $sql = "SELECT referencia_corta, ern, tn.monto
-                    FROM pg_operaciones_new op
+            
+            $sql = "
+                SELECT
+                    referencia_corta,
+                    ern,
+                    tn.monto
+                FROM pg_operaciones_new op
                     INNER JOIN pg_transacciones_new tn USING(id_operacion)
                     INNER JOIN pg_transacciones t ON t.id_operacion_new = tn.id_operacion
                     INNER JOIN pg_ws_transactions_transacciones wstt ON wstt.id_transaccion = t.id_transaccion
                     INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
-                    WHERE op.id_operacion = ".$this->id_operacion."
+                WHERE
+                    op.id_operacion = " . $this->id_operacion . "
                     AND id_tipo_transaccion = 11";
 
             $res = $this->dbobj->query($sql);
             if ($res->numRows() >0) {
+                
                 $datosCompra = array();
                 $res->fetchInto($datosCompra);
+                $datosCompra['monto'] = number_format($datosCompra['monto'], 2, '.', ',');
                 return $datosCompra;
             }
         } catch (Throwable $e) {
+            
             $this->log($e->getMessage(), "Error obteniendo infoCompra");
         }
@@ -586,9 +595,11 @@
     {
         try {
-            $sql = "SELECT
-                        referencia_corta,
-                        dt.monto,
-                        CONCAT(bin, 'XX-XXXX-', ultdigitos) tarjeta
-                    FROM pg_operaciones_new op
+            
+            $sql = "
+                SELECT
+                    referencia_corta,
+                    dt.monto,
+                    CONCAT(bin, 'XX-XXXX-', ultdigitos) tarjeta
+                FROM pg_operaciones_new op
                     INNER JOIN pg_transacciones_new tn USING(id_operacion)
                     INNER JOIN pg_detalles dt USING(id_transaccion)
@@ -600,5 +611,6 @@
                     INNER JOIN pg_paypro_peticion ppp USING (id_transaccion)
                     INNER JOIN pg_tarjetas tjt USING(id_tarjeta)
-                    WHERE op.id_operacion = ".$this->id_operacion."
+                WHERE
+                    op.id_operacion = ".$this->id_operacion."
                     AND id_movimiento = 2
                     AND id_tipo_transaccion = 1 
@@ -607,9 +619,12 @@
             $res = $this->dbobj->query($sql);
             if ($res->numRows() >0) {
+                
                 $datosRecarga = array();
                 $res->fetchInto($datosRecarga);
+                $datosRecarga['monto'] = number_format($datosRecarga['monto'], 2, '.', ',');
                 return $datosRecarga;
             }
         } catch (Throwable $e) {
+            
             $this->log($e->getMessage(), "Error obteniendo infoRecarga");
         }
Index: branches/b-20180319.02/librerias/class.Progreso.php
===================================================================
--- trunk/librerias/class.Progreso.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.Progreso.php	(revision 3579)
@@ -44,7 +44,9 @@
      * @return int
      */
-    public function calcular(){
+    public function calcular() {
+        
         //20% - el registro
-        if($this->Usuario){
+        if ($this->Usuario) {
+            
             $this->valor += $this->metricas["PASO1"];
             $this->cumplimientos["PASO1"] = true;
@@ -53,10 +55,12 @@
         //10% - validación de correo
         $Correo = new Correo($this->db);
-        if($Correo->cargarPrimarioPorUsuario($this->Usuario->id_usuario)){
-            if($Correo->datos["id_correo_estado"] == $Correo->constantes["VALIDADO"]){
+        if ($Correo->cargarPrimarioPorUsuario($this->Usuario->id_usuario)) {
+            
+            if ($Correo->datos["id_correo_estado"] == $Correo->constantes["VALIDADO"]) {
+                
                 $this->valor += $this->metricas["VALIDARCORREO"];
                 $this->cumplimientos["VALIDARCORREO"] = true;
-            }
-            else{
+            } else {
+                
                 $this->html_items[] = "
                     <div id='validarCorreo1'>" . PG_DASHBOARD_VALIDAR_CORREO . "</div>
@@ -83,32 +87,38 @@
         $Tarjeta = new Tarjeta($this->db);
         $tarjetas_disponibles = $Tarjeta->obtenerTarjetasDisponiblesPorUsuario($this->Usuario->id_usuario);
-        if(count($tarjetas_disponibles) > 0){
+        if (count($tarjetas_disponibles) > 0) {
+            
             $this->valor += $this->metricas["REGISTRARTARJETA"];
             $this->cumplimientos["REGISTRARTARJETA"] = true;
-        }
-        else{
+        } else {
+            
             $this->html_items[] = PG_DASHBOARD_REGISTRAR_TARJETA . "<a href='index.php?mod=user&hac=vregf3'>" . PG_DASHBOARD_REGISTRAR_TARJETA2 . "</a>";
         }
 
         //30% - validación de tarjeta
-        if($this->cumplimientos["REGISTRARTARJETA"]){
+        if ($this->cumplimientos["REGISTRARTARJETA"]) {
+            
             $Tarjeta = new Tarjeta($this->db);
             $Tarjeta->cargarPrimariaPorUsuario($this->Usuario->id_usuario);
-            if($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VALIDADA"] || $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["TRANSACCION_EN_REVISION"]){
+            if ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VALIDADA"] || $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["TRANSACCION_EN_REVISION"]) {
+                
                 $this->valor += $this->metricas["VALIDARTARJETA"];
                 $this->cumplimientos["VALIDARTARJETA"] = true;
-            }
-            elseif($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"]){
+            } elseif ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] || 
+                    $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] || 
+                    $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"]) {
+                
                 $Imagen = new ImagenValidacion($this->db);
                 $imagenes_subidas = $Imagen->obtenerImagenesSubidasPorTarjeta($Tarjeta->id_tarjeta);
-                if(count($imagenes_subidas) < $Imagen->max_imagenes_subidas){
+                if (count($imagenes_subidas) < $Imagen->max_imagenes_subidas) {
+                    
                     $Cripto = new Cripto();
-                    $this->html_items[] = PG_DASHBOARD_VALIDAR_TARJETA . "<a href='index.php?mod=user&hac=vvalcard&t=".$Cripto->cifrar($Tarjeta->id_tarjeta)."'>" . PG_DASHBOARD_VALIDAR_TARJETA2 . "</a>";
-                }
-                else{
+                    $this->html_items[] = PG_DASHBOARD_VALIDAR_TARJETA . "<a href='index.php?mod=user&hac=vvalcard&t=" . $Cripto->cifrar($Tarjeta->id_tarjeta) . "'>" . PG_DASHBOARD_VALIDAR_TARJETA2 . "</a>";
+                } else {
+                    
                     $this->html_items[] = PG_DASHBOARD_TARJETA_EN_VALIDACION;
                 }
-            }
-            elseif($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["REVISION"]){
+            } elseif ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["REVISION"]) {
+                
                 $this->html_items[] = PG_DASHBOARD_TARJETA_EN_VALIDACION;
             }
@@ -124,12 +134,15 @@
             $this->Usuario->respuesta
         );
-        if($this->validarSetDatos($datos)){
+        if ($this->validarSetDatos($datos)) {
+            
             $this->valor += $this->metricas["PASO2"];
             $this->cumplimientos["PASO2"] = true;
-        }
-        else{
-            if($this->Usuario->registro_desde_comercio == 1){
+        } else {
+            
+            if ($this->Usuario->registro_desde_comercio == 1) {
+                
                 $this->html_items[] = PG_DASHBOARD_INGRESAR_INFO_4 . "<a href='index.php?mod=user&hac=vregf4'>" . PG_DASHBOARD_INGRESAR_INFO_5 . "</a>";
-            }else{
+            } else {
+                
                 $this->html_items[] = PG_DASHBOARD_INGRESAR_INFO . "<a href='index.php?mod=user&hac=vregf2'>" . PG_DASHBOARD_INGRESAR_INFO2 . "</a>";
             }
Index: branches/b-20180319.02/librerias/class.Tarjeta.php
===================================================================
--- trunk/librerias/class.Tarjeta.php	(revision 3384)
+++ branches/b-20180319.02/librerias/class.Tarjeta.php	(revision 3579)
@@ -162,6 +162,6 @@
                 t.id_tarjeta,
                 u.id_usuario,
-                AES_DECRYPT(t.nombre_propietario, '$this->key') firstName,
-                AES_DECRYPT(t.nombre_propietario, '$this->key') lastName,
+                AES_DECRYPT(t.nombre_propietario, '" . $this->key . "') firstName,
+                AES_DECRYPT(t.nombre_propietario, '" . $this->key . "') lastName,
                 CONCAT(t.direccion, ' ', t.direccion_aux) street1,
                 u.ciudad city,
@@ -170,11 +170,12 @@
                 p.prefijo country,
                 c.correo email,
-                AES_DECRYPT(t.numero, '$this->key') accountNumber,
-                AES_DECRYPT(t.vence_mes, '$this->key') expirationMonth,
-                AES_DECRYPT(t.vence_anio, '$this->key') expirationYear,
-                AES_DECRYPT(t.cvv, '$this->key') cvNumber,
+                AES_DECRYPT(t.numero, '" . $this->key . "') accountNumber,
+                AES_DECRYPT(t.vence_mes, '" . $this->key . "') expirationMonth,
+                AES_DECRYPT(t.vence_anio, '" . $this->key . "') expirationYear,
+                AES_DECRYPT(t.cvv, '" . $this->key . "') cvNumber,
                 CONCAT(t.bin, 'XX-XXXX-', t.ultdigitos) mascara,
                 t.ultdigitos,
                 tt.logo,
+                t.id_tarjeta_tipo,
                 t.id_tarjeta_estado,
                 te.nombre estado,
@@ -190,6 +191,7 @@
             WHERE
                 c.es_correo_primario = '1'
-            AND t.id_tarjeta = '" . $id_tarjeta . "'";
+                AND t.id_tarjeta = '" . $id_tarjeta . "'";
         try {
+            
             $res = $this->db->query($sql);
             if ($res->numRows() == 1) {
@@ -281,10 +283,11 @@
      */
     public function cargarPrimariaPorUsuario($id_usuario){
+        
         $sql = "
             SELECT
                 t.id_tarjeta,
                 u.id_usuario,
-                AES_DECRYPT(t.nombre_propietario, '$this->key') firstName,
-                AES_DECRYPT(t.nombre_propietario, '$this->key') lastName,
+                AES_DECRYPT(t.nombre_propietario, '" . $this->key . "') firstName,
+                AES_DECRYPT(t.nombre_propietario, '" . $this->key . "') lastName,
                 CONCAT(t.direccion, ' ', t.direccion_aux) street1,
                 u.ciudad city,
@@ -293,8 +296,8 @@
                 p.prefijo country,
                 c.correo email,
-                AES_DECRYPT(t.numero, '$this->key') accountNumber,
-                AES_DECRYPT(t.vence_mes, '$this->key') expirationMonth,
-                AES_DECRYPT(t.vence_anio, '$this->key') expirationYear,
-                AES_DECRYPT(t.cvv, '$this->key') cvNumber,
+                AES_DECRYPT(t.numero, '" . $this->key . "') accountNumber,
+                AES_DECRYPT(t.vence_mes, '" . $this->key . "') expirationMonth,
+                AES_DECRYPT(t.vence_anio, '" . $this->key . "') expirationYear,
+                AES_DECRYPT(t.cvv, '" . $this->key . "') cvNumber,
                 CONCAT(t.bin, 'XX-XXXX-', t.ultdigitos) mascara,
                 t.ultdigitos,
@@ -303,24 +306,26 @@
                 t.primaria
             FROM pg_tarjetas t
-            INNER JOIN pg_tarjetas_tipos tt USING(id_tarjeta_tipo)
-            INNER JOIN pg_usuarios u USING(id_usuario)
-            LEFT JOIN pg_paises_estados pe USING(id_pais_estado)
-            LEFT JOIN pg_paises p USING(id_pais)
-            INNER JOIN pg_correos c USING(id_usuario)
-            WHERE c.es_correo_primario = 1
-            AND t.id_usuario = $id_usuario
-            AND t.id_tarjeta_estado IN(".$this->constantes["ACTIVADA"].",".$this->constantes["VALIDADA"].",".$this->constantes["REVISION"].",".$this->constantes["EXPIRADA"]."," . $this->constantes["TRANSACCION_EN_REVISION"] . ")
-            AND t.primaria = 1
-        ";
-        try{
+                INNER JOIN pg_tarjetas_tipos tt USING(id_tarjeta_tipo)
+                INNER JOIN pg_usuarios u USING(id_usuario)
+                LEFT JOIN pg_paises_estados pe USING(id_pais_estado)
+                LEFT JOIN pg_paises p USING(id_pais)
+                INNER JOIN pg_correos c USING(id_usuario)
+            WHERE
+                c.es_correo_primario = '1'
+                AND t.id_usuario = '" . $id_usuario . "'
+                AND t.id_tarjeta_estado IN('" . $this->constantes["ACTIVADA"] . "', '" . $this->constantes["VALIDADA"] . "', '" . $this->constantes["REVISION"] . "', '" . $this->constantes["EXPIRADA"] . "', '" . $this->constantes["TRANSACCION_EN_REVISION"] . "', '" . $this->constantes["VERIFICACION_X_PRIMERA_RECARGA"] . "', '" . $this->constantes["VERIFICACION_X_RECARGA"] . "')
+                AND t.primaria = '1'";
+        try {
+            
             $res = $this->db->query($sql);
-            if($res->numRows() == 1){
+            if ($res->numRows() == 1) {
+                
                 $res->fetchInto($this->datos);
                 $this->id_tarjeta = $this->datos["id_tarjeta"];
                 return true;
             }
-        }
-        catch(Throwable $e){
-            $this->Log($e->getMessage(), "Cargando tarjeta primaria por usuario");
+        } catch(Throwable $e) {
+            
+            $this->Log($e->getMessage(), "error cargando tarjeta primaria por usuario");
         }
         return false;
@@ -438,11 +443,13 @@
             $this->constantes["VALIDADA"],
             $this->constantes["REVISION"],
-            $this->constantes["TRANSACCION_EN_REVISION"]
+            $this->constantes["TRANSACCION_EN_REVISION"],
+            $this->constantes["VERIFICACION_X_PRIMERA_RECARGA"],
+            $this->constantes["VERIFICACION_X_RECARGA"]
         );
         return $this->obtenerTarjetasPorUsuario($id_usuario, $estados);
     }
 
-    public function obtenerTarjetasRegistradasPorUsuario($id_usuario)
-    {
+    public function obtenerTarjetasRegistradasPorUsuario($id_usuario) {
+        
         return $this->obtenerTarjetasPorUsuario($id_usuario, array($this->constantes["ACTIVADA"]));
     }
@@ -459,7 +466,41 @@
         return $this->obtenerTarjetasPorUsuario($id_usuario, array($this->constantes["VALIDADA"]), $ordenar_por_primaria);
     }
-    public function obtenerTarjetasEnRevisionPorUsuario($id_usuario)
-    {
+    
+    public function obtenerTarjetasEnRevisionPorUsuario($id_usuario) {
+        
         return $this->obtenerTarjetasPorUsuario($id_usuario, array($this->constantes["REVISION"]));
+    }
+    
+    /**
+     * devuelve un arreglo con las tarjetas con estado con transacción en 
+     * verificación, del usuario que recibe como parametro
+     * @param integer $id_usuario
+     * @return array devuelve una array con todas las tarjeta de ese estado
+     */
+    public function obtenerTarjetasConTransaccionEnVerificacionPorUsuario($id_usuario) {
+        
+        return $this->obtenerTarjetasPorUsuario($id_usuario, array($this->constantes["TRANSACCION_EN_REVISION"]));
+    }
+    
+    /**
+     * devuelve un arreglo con las tarjetas con estado verificando por primera 
+     * recarga de saldo, del usuario que recibe como parametro
+     * @param integer $id_usuario
+     * @return array devuelve una array con todas las tarjeta de ese estado
+     */
+    public function obtenerTarjetasVerificandoPorPrimeraRecargaPorUsuario($id_usuario) {
+        
+        return $this->obtenerTarjetasPorUsuario($id_usuario, array($this->constantes["VERIFICACION_X_PRIMERA_RECARGA"]));
+    }
+    
+    /**
+     * devuelve un arreglo con las tarjetas con estado verificando por recarga de 
+     * saldo, del usuario que recibe como parametro
+     * @param integer $id_usuario
+     * @return array devuelve una array con todas las tarjeta de ese estado
+     */
+    public function obtenerTarjetasVerificandoPorRecargaPorUsuario($id_usuario) {
+        
+        return $this->obtenerTarjetasPorUsuario($id_usuario, array($this->constantes["VERIFICACION_X_RECARGA"]));
     }
 
@@ -469,4 +510,7 @@
         $estados = array(
             $this->constantes["ACTIVADA"],
+            $this->constantes["TRANSACCION_EN_REVISION"],
+            $this->constantes["VERIFICACION_X_PRIMERA_RECARGA"],
+            $this->constantes["VERIFICACION_X_RECARGA"],
             $this->constantes["VALIDADA"],
             $this->constantes["REVISION"]
@@ -601,4 +645,28 @@
     
     /**
+     * Establece el estado de la tarjeta como verificación por primera recarga de saldo.
+     * @param int $id_tarjeta [optional] Es el identificador de la tarjeta. Si no
+     * se establece, se utilizará el cargado.
+     * @return bool
+     */
+    public function setVerificacionXPrimeraRecarga($id_tarjeta = NULL) {
+        
+        $id_tarjeta = isset($id_tarjeta) ? $id_tarjeta : $this->id_tarjeta;
+        return $this->cambiarEstado($this->constantes["VERIFICACION_X_PRIMERA_RECARGA"], $id_tarjeta);
+    }
+
+    /**
+     * Establece el estado de la tarjeta como verificación por recarga de saldo
+     * @param int $id_tarjeta [optional] Es el identificador de la tarjeta. Si no
+     * se establece, se utilizará el cargado.
+     * @return bool
+     */
+    public function setVerificacionXRecarga($id_tarjeta = NULL) {
+        
+        $id_tarjeta = isset($id_tarjeta) ? $id_tarjeta : $this->id_tarjeta;
+        return $this->cambiarEstado($this->constantes["VERIFICACION_X_RECARGA"], $id_tarjeta);
+    }
+
+    /**
      * Establece el la tarjeta como primaria.
      * @param int $id_tarjeta [optional] Es el identificador de la tarjeta. Si no
@@ -611,11 +679,13 @@
     }
     
-    public function setPrimariaSiguiente()
-    {
+    public function setPrimariaSiguiente() {
+        
         $primaria_cambiada = false;
-        //1. Intentando hacer primaria la siguiente validada
+        // 1. Intentando hacer primaria la siguiente validada
         $tarjetas = $this->obtenerTarjetasValidadasPorUsuario($this->id_usuario);
         if (count($tarjetas) > 0) {
+            
             foreach ($tarjetas as $id_tarjeta => $tarjeta) {
+                
                 $this->setPrimaria($id_tarjeta);
                 $primaria_cambiada = true;
@@ -623,8 +693,11 @@
             }
         } else {
-            //2. Intentando hacer primaria una tarjeta en revisión
+            
+            // 2. Intentando hacer primaria una tarjeta en revisión
             $tarjetas = $this->obtenerTarjetasEnRevisionPorUsuario($this->id_usuario);
             if (count($tarjetas) > 0) {
+                
                 foreach ($tarjetas as $id_tarjeta => $tarjeta) {
+                    
                     $this->setPrimaria($id_tarjeta);
                     $primaria_cambiada = true;
@@ -632,8 +705,11 @@
                 }
             } else {
-                //3. Intentando hacer primaria una tarjeta registrada
+                
+                // 3. Intentando hacer primaria una tarjeta registrada
                 $tarjetas = $this->obtenerTarjetasRegistradasPorUsuario($this->id_usuario);
                 if (count($tarjetas) > 0) {
+                    
                     foreach ($tarjetas as $id_tarjeta => $tarjeta) {
+                        
                         $this->setPrimaria($id_tarjeta);
                         $primaria_cambiada = true;
@@ -641,5 +717,42 @@
                     }
                 } else {
-                    //4. No fue posible hacer una tarjeta primaria
+                    
+                    // 4. Intentando hacer primaria una tarjeta con transacción en verificación
+                    $tarjetas = $this->obtenerTarjetasConTransaccionEnVerificacionPorUsuario($this->id_usuario);
+                    if (count($tarjetas) > 0) {
+                        
+                        foreach ($tarjetas as $id_tarjeta => $tarjeta) {
+                            
+                            $this->setPrimaria($id_tarjeta);
+                            $primaria_cambiada = true;
+                            break;
+                        }
+                    } else {
+                        
+                        // 5. Intentando hacer primaria una tarjeta con estado verificando por primera recarga de saldo
+                        $tarjetas = $this->obtenerTarjetasVerificandoPorPrimeraRecargaPorUsuario($this->id_usuario);
+                        if (count($tarjetas) > 0) {
+                            
+                            foreach ($tarjetas as $id_tarjeta => $tarjeta) {
+                                
+                                $this->setPrimaria($id_tarjeta);
+                                $primaria_cambiada = true;
+                                break;
+                            }
+                        } else {
+                            
+                            // 6. Intentando hacer primaria una tarjeta con estado verificando por recarga de saldo
+                            $tarjetas = $this->obtenerTarjetasVerificandoPorRecargaPorUsuario($this->id_usuario);
+                            if (count($tarjetas) > 0) {
+                                
+                                foreach ($tarjetas as $id_tarjeta => $tarjeta) {
+                                    
+                                    $this->setPrimaria($id_tarjeta);
+                                    $primaria_cambiada = true;
+                                    break;
+                                }
+                            }
+                        }
+                    }
                 }
             }
@@ -787,10 +900,22 @@
      * Envía una notificación al usuario de generación de código.
      * @param bool $comercio Si se envía true, se envía una notificación especial para Comercios.
-     * @return bool
-     */
-    public function notificarGeneracionCodigo($comercio = false){
+     * @param int $tipo_tarjeta especifica el tipo de tarjeta (amex, visa o mastercad)
+     * @return bool
+     */
+    public function notificarGeneracionCodigo($comercio, $tipo_tarjeta){
         global $urlCorreoPagadito;
         $nt     = new notificaciones();
-        $nt->enviarNotificaciones($comercio?"PA-USU-009":"PA-USU-003", -1, $this->datos["id_usuario"], array());
+        switch ($tipo_tarjeta){
+            case '3':
+                $descriptor = str_replace('{data}', '#####', DYNAMICDESCRIPTOR_AMEX) . ' ' . PG_SUBMERCHANT_PHONE;
+                break;
+            case '1':
+            case '2':
+            default:
+                $descriptor = str_replace('{data}', '#####', DYNAMICDESCRIPTOR_VALIDACION) . '|' . DYNAMICDESCRIPTOR_PHONE;
+                break;
+        }
+        $nt->enviarNotificaciones($comercio?"PA-USU-009":"PA-USU-003", -1, $this->datos["id_usuario"], array('descriptor' => $descriptor));
+        
         return $nt->status;
     }
@@ -1028,5 +1153,7 @@
             "BASICO"    => 1,
             "COMPLETO"  => 2,
-            "TRANSACCION_EN_REVISION"  => 9
+            "TRANSACCION_EN_REVISION"  => 9,
+            "VERIFICACION_X_PRIMERA_RECARGA"  => 10,
+            "VERIFICACION_X_RECARGA"  => 11
         );
         $this->logFile      = LOG_FILE;
Index: branches/b-20180319.02/librerias/kernelPagadito/class.fondosPagadito.php
===================================================================
--- trunk/librerias/kernelPagadito/class.fondosPagadito.php	(revision 3384)
+++ branches/b-20180319.02/librerias/kernelPagadito/class.fondosPagadito.php	(revision 3579)
@@ -1832,4 +1832,39 @@
      * devuelve FALSE
      */
+    public function registrarEntradaSRRevertida($monto, $id_tarjeta) {
+        
+        if ($this->id == $this->constantes["BAIN"]) {
+            
+            $id_entrada = $this->registrarEntrada($monto, $this->constantes["INTT"], NULL, NULL, NULL, NULL, $id_tarjeta);
+            if ($id_entrada) {
+                
+                $id_fuente = $this->fondos[$this->id_fondo_default]->saldos[$this->constantes["SALDO_REAL"]]->fuentes[$this->constantes["TC"]]->id_fuente;
+                $id_saldo = $this->fondos[$this->id_fondo_default]->saldos[$this->constantes["SALDO_REAL"]]->id_saldo;
+                if ($this->decrementarFuente($monto, $id_fuente)) {
+                    
+                    if ($this->decrementarSaldo($monto, $id_saldo)) {
+                        
+                        if ($this->revertirEntrada($id_entrada)) {
+                            
+                            return $id_entrada;
+                        }
+                    }
+                }
+            }
+        }
+        return FALSE;
+    }
+    
+    /**
+     * Registra la salida de fondos al modelo mediante una entrada de tipo 
+     * tarjeta presente revertida y devuelve el id de la misma.<br />
+     * <b>ADVERTENCIA:</b> Solo funciona si es llamada por una instancia del 
+     * banco de almacenamiento Entradas.
+     * @param float $monto
+     * @param int $id_tarjeta id de la tarjeta presente de la que proviene la 
+     * entrada
+     * @return int devuelve el id de la entrada registrada, en caso contrario 
+     * devuelve FALSE
+     */
     public function registrarEntradaTTRevertida($monto, $id_tarjeta) {
         
@@ -3229,4 +3264,16 @@
         
         return $this->registrarTransaccion($monto, $this->constantes["TRREGTERPOS"], $id_operacion);
+    }
+    
+    /**
+     * Registra una transacción de tipo Cobro de comision por reembolso y 
+     * devuelve el id de la misma.
+     * @param   float $monto Es la cantidad total de la transacción.
+     * @param   int $id_operacion Identificador de la operación a la que pertenece la transacción.
+     * @return  bool
+     */
+    public function registrarTrFeeReembolso($monto, $id_operacion) {
+        
+        return $this->registrarTransaccion($monto, $this->constantes["TRCOBFEEREF"], $id_operacion);
     }
     
@@ -4994,4 +5041,5 @@
             'TRLCTVPC' => 31, // Liquidación de Comisión a Tercero por Venta en PG Comercio
             'TRREGTERPOS' => 32, // Registro de Terminal POS
+            'TRCOBFEEREF' => 33, // Cobro de Fee por reversin realizada por comercio
             "TRREVRECTC" => 101, //Reversión de Recarga de tarjeta
             "TRREVRECRB" => 102, //Reversión de Recarga bancaria
Index: branches/b-20180319.02/librerias/kernelPagadito/class.kernelPagadito.php
===================================================================
--- trunk/librerias/kernelPagadito/class.kernelPagadito.php	(revision 3384)
+++ branches/b-20180319.02/librerias/kernelPagadito/class.kernelPagadito.php	(revision 3579)
@@ -80,4 +80,7 @@
     // error de procesamiento con payment processor
     private $codigo_error_pp;
+    
+    // id_operacion de recarga de saldo
+    public $id_operacion_recarga;
 
     //Constructor :
@@ -264,4 +267,5 @@
         );
         $this->codigo_error_pp = $this->status_code['error-generico'];
+        $this->id_operacion_recarga = NULL;
     }
 
@@ -2519,8 +2523,28 @@
                     //PASO 2 - recargando tarjeta
                     $campos_aplicar_reglas = array("id_usuario" => $arrayPago['id_usuario']);
-                    $id_operacion = $this->recargarTarjeta($arrayPago["monto_total"], $fpgUsuario, $arrayPago["id_tarjeta"], "REC", null, null, null, $campos_aplicar_reglas, $arrayPago["hash_reload"], "", false, (isset($arrayPago["descriptor"])?$arrayPago["descriptor"]:""), (isset($arrayPago["validacion"]) && $arrayPago["validacion"]?true:false), FALSE, array(), $completar_transaccion, $arrayPago["id_paypro_peticion_analize"]);
+                    $id_operacion = $this->recargarTarjeta(
+                            $arrayPago["monto_total"],
+                            $fpgUsuario,
+                            $arrayPago["id_tarjeta"],
+                            "REC",
+                            null,
+                            null,
+                            null,
+                            $campos_aplicar_reglas,
+                            $arrayPago["hash_reload"],
+                            "",
+                            false,
+                            (isset($arrayPago["descriptor"]) ? $arrayPago["descriptor"] : ""),
+                            (isset($arrayPago["validacion"]) && $arrayPago["validacion"] ? true : false),
+                            FALSE,
+                            array(),
+                            $completar_transaccion,
+                            $arrayPago["id_paypro_peticion_analize"]
+                    );
                     if ($id_operacion) {
+                        
                         $this->notificarRecargaRevision($id_operacion);
                         registrar_accion("recargar", array("id_operacion" => $id_operacion));
+                        $this->id_operacion_recarga = $id_operacion;
                     } else {
 
@@ -2855,4 +2879,117 @@
                     $resultado_op = $this->status_code['ok'];
                     break;
+                    
+                case $this->transacciones_tipo['CFR']: // Cobro Fee por reversion de transaccion
+                    
+                    $id_usuario = $arrayPago['id_usuario'];
+                    $id_tarjeta = $arrayPago['id_tarjeta'];
+                    $procesar_tarjeta = $arrayPago['procesar_tarjeta'];
+                    $monto_total = $arrayPago['monto_total'];
+                    $monto_saldo_pg = $arrayPago['monto_saldo_pg'];
+                    $monto_tarjeta = $arrayPago['monto_tarjeta'];
+                    $referencia_externa = NULL;
+                    $completar_transaccion = TRUE;
+                    $registro_tarjeta = FALSE;
+                    $datos_tarjeta = array();
+                    $arrayTrans['titulo_debug'] = 'Cobro FEE por reversion de operacion';
+                    $arrayTrans['id_usuario'] = $arrayPago['id_usuario'];
+                    $titulo_error_log = "error en pago de " . $arrayTrans['titulo_debug'];
+                    
+                    // registro de transaccion en estructura antigua
+                    $id_transaccion_estructura_antigua = $this->crearTransaccion($arrayTrans);
+                    
+                    // registro de cargo al monto del saldo pagadito
+                    if ($monto_saldo_pg > 0) {
+                        
+                        $cargoCP = $this->cargoCP(
+                                $id_usuario,
+                                $monto_saldo_pg,
+                                $id_transaccion_estructura_antigua,
+                                $this->transacciones_detalles_tipos['montoRetirado']
+                        );
+                    }
+                    
+                    // actualización de transaccion estructura antigua
+                    $actualizacion_transaccion_ea = $this->actualizarTransaccionEstado(
+                            $id_transaccion_estructura_antigua,
+                            $this->status_code['pago_acreditado']
+                    );
+
+                    // registro operación y transacción en fondos
+                    // instanciando fondos del comercio
+                    $fpgUsuario = new fondosPagadito();
+                    if (!$fpgUsuario->cargarUsuario($id_usuario)) {
+                        
+                        $this->registrarLog("no se pudo instanciar el modelo de fondos del usuario", $titulo_error_log);
+                        $resultado_op = $this->status_code['noaccion'];
+                        break;
+                    }
+                    
+                    // registrando operación generica
+                    $id_operacion = $fpgUsuario->registrarOpGenerica($referencia_externa, $completar_transaccion);
+                    if (!$id_operacion) {
+                        
+                        $this->registrarLog("no pudo registrar la operación generica", $titulo_error_log);
+                        $resultado_op = $this->status_code['noaccion'];
+                        break;
+                    }
+
+                    // relacionar la transacción de la estructura antigua con la operación de fondos
+                    if (!$this->relacionarTransaccionOperacion($id_transaccion_estructura_antigua, $id_operacion)) {
+                        
+                        $this->registrarLog("no se pudo relacionar la transacción de la estructura antigua con la operación de fondos", $titulo_error_log);
+                        break;
+                    }
+
+                    // registrando transacción de fee por reembolso
+                    $id_transaccion = $fpgUsuario->registrarTrFeeReembolso($monto_total, $id_operacion);
+                    if (!$id_transaccion) {
+                        
+                        $this->registrarLog("no pudo registrar la transacción de cobro de fee por reversion", $titulo_error_log);
+                        $resultado_op = $this->status_code['noaccion'];
+                        break;
+                    }
+                    // registrando la comisión utilizada
+                    require_once 'librerias/class.Comision.php';
+                    $Com = new Comision($this->db);
+                    $comision = $Com->obtenerComisionPorCodigo($arrayPago['comision_codigo']);
+                    if(!$Com->ligarTransaccionComisionValor($id_transaccion, $comision['id_comision_valor'])){
+                        
+                        $this->registrarLog("no se pudo registrar la comisión utilizada en la transacción.", $titulo_error_log);
+                        $resultado_op = $this->status_code['noaccion'];
+                        break;
+                    }
+
+                    // cargar monto total de la transacción a las fuentes del usuario
+                    if (!$this->cargarFuentesUsuario($fpgUsuario, $id_transaccion, $monto_total)) {
+                        
+                        $this->registrarLog("no pudo registrar el cargo a las fuentes del usuario", $titulo_error_log);
+                        $resultado_op = $this->status_code['noaccion'];
+                        break;
+                    }
+
+                    // instanciando fondos de la banco de almacenamiento Pagadito Corriente
+                    $fpgPagaditoCorriente = new fondosPagadito();
+                    if (!$fpgPagaditoCorriente->cargarBAPagaditoCorriente()) {
+                        
+                        $this->registrarLog("no pudo instanciar el banco de almacenamiento Pagadito Corriente", $titulo_error_log);
+                        $resultado_op = $this->status_code['noaccion'];
+                        break;
+                    }
+
+                    // abono a Pagadito Corriente
+                    if (!$fpgPagaditoCorriente->registrarAbonoFuenteMI($monto_total, $id_transaccion)) {
+                        
+                        $this->registrarLog("no pudo registrar el abono a la fuente MI del banco de almacenamiento Pagadito Corriente", $titulo_error_log);
+                        $resultado_op = $this->status_code['noaccion'];
+                        break;
+                    }
+                    
+                    // registrar para bitacora de usuario
+                    registrar_accion('pagofeeporreversion', array('id_operacion' => $id_operacion));
+                    
+                    // devolver respuesta
+                    $resultado_op = $this->status_code['ok'];
+                    break;
             }
         } else {
@@ -4533,4 +4670,5 @@
                 ca.descriptor,
                 u.id_usuario,
+                u.telefono,
                 pe.id_pais,
                 ca.nombre_comercial,
@@ -5429,5 +5567,5 @@
                                         $dm["id_usuario"] = $id_tjahabiente;
                                         $dm["telefono"] = $db->escapeString($objCliente->telefono);
-                                        $dm["pago_sin_registro"] = true;
+                                        $dm["pago_sin_registro"] = ($id_acceso != '' ? 'invitado' : 'sin-registro');
                                         
 
@@ -6098,4 +6236,5 @@
         $arrParam['referencia_corta'] = $datos_transaccion_comercio['referencia_corta'];
         $arrParam['completar_transaccion'] = $completar_transaccion;
+        $arrParam['telefono'] = $datos_transaccion_comercio['telefono'];
         $id_transaccion = $this->crearTransaccion($arrayTrans);
         if (!empty($id_transaccion)) {
@@ -6263,4 +6402,6 @@
                             $pago_completado = TRUE;
                             $this->registrarLog('Notificando' . print_r($arrParam, TRUE));
+                            $arrParam['descriptor'] = $arrComercio['descriptor'];
+                            $arrParam['telefono'] = $arrComercio['telefono'];
                             $this->comercioNotificacionPago($arrParam);
                         }
@@ -6480,5 +6621,7 @@
                 afi.sitio_web,
                 est.id_pais,
-                tran.id_ws_transaction
+                tran.id_ws_transaction,
+                afi.descriptor,
+                usr.telefono
             FROM pg_ws_transactions tran
                 INNER JOIN pg_ws_access acc USING(token)
@@ -6839,8 +6982,41 @@
         $tarjeta = '';
         $correo_checkout = $nombre_checkout = "";
-        if (!empty($arrParam['id_tarjeta'])) {
+        
+        if (!empty($arrParam['id_tarjeta']) && $arrParam['cargado_tarjeta'] > 0) {
 
             $tjt = $this->selectorInfoTarjeta($arrParam['id_tarjeta']);
             $tarjeta = $tjt['nombre'] . ' ' . $tjt['tarjeta'];
+
+            if (isset($arrParam['completar_transaccion']) && $arrParam['completar_transaccion']) {
+                //Si la tarjeta es AMEX
+                if ($tjt['id_tarjeta_tipo'] == 3) {
+                    $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR_AMEX);
+                    $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . ' ' . $arrParam['telefono'], PG_NOT_AVISO_PAGADITO_DESC);
+                } else {
+                    $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR);
+                    $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . '|' .DYNAMICDESCRIPTOR_PHONE, PG_NOT_AVISO_PAGADITO_DESC);
+                }
+            } elseif (isset($arrParam['registro']) && $arrParam['registro']) {
+                //Si la tarjeta es AMEX
+                if ($tjt['id_tarjeta_tipo'] == 3) {
+                    $pg_code = str_replace('{data}', '#####', DYNAMICDESCRIPTOR_AMEX);
+                    $arrParam['descriptor'] = str_replace("{pagadito_code}", $pg_code . ' ' . $arrParam['telefono'], PG_NOT_AVISO_PAGADITO_CODE);
+                } else {
+                    $pg_code = str_replace('{data}', '#####', DYNAMICDESCRIPTOR_VALIDACION);
+                    $arrParam['descriptor'] = str_replace("{pagadito_code}", $pg_code . '|' .DYNAMICDESCRIPTOR_PHONE, PG_NOT_AVISO_PAGADITO_CODE);
+                }
+            } else {
+               //Si la tarjeta es AMEX
+                if ($tjt['id_tarjeta_tipo'] == 3) {
+                    $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR_AMEX);
+                    $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . ' ' . $arrParam['telefono'], PG_NOT_AVISO_PAGADITO_DESC);
+                } else {
+                    $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR);
+                    $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . '|' .DYNAMICDESCRIPTOR_PHONE, PG_NOT_AVISO_PAGADITO_DESC);
+                } 
+            }
+
+        } else {
+            $arrParam['descriptor'] = '';
         }
 
@@ -6870,4 +7046,5 @@
             'return_url' => isset($arrParam['return_url'])?$arrParam['return_url']:$arrParam['sitio_web'],
             'usrInfoFacturacion' => "",
+            'descriptor' => $arrParam['descriptor']
         );
 
@@ -6986,4 +7163,12 @@
             $tjt = $this->selectorInfoTarjeta($arrParam['id_tarjeta'], false, false, true);
             $tarjeta = $tjt['nombre'] . ' ' . $tjt['tarjeta'];
+            
+            if ($tjt['id_tarjeta_tipo'] == 3) {
+                $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR_AMEX);
+                $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . ' ' . $arrParam['telefono'], PG_NOT_AVISO_PAGADITO_DESC);
+            } else {
+                $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR);
+                $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . '|' .DYNAMICDESCRIPTOR_PHONE, PG_NOT_AVISO_PAGADITO_DESC);
+            }
         }
 
@@ -7008,4 +7193,5 @@
             'return_url' => isset($arrParam['return_url'])?$arrParam['return_url']:$arrParam['sitio_web'],
             'usrInfoFacturacion' => "",
+            'descriptor' => $arrParam['descriptor']
         );
 
@@ -7106,4 +7292,12 @@
             $tjt = $this->selectorInfoTarjeta($arrParam['id_tarjeta_tokenizada'], false, false, false, true);
             $tarjeta = $tjt['nombre'] . ' ' . $tjt['tarjeta'];
+            
+            if ($tjt['id_tarjeta_tipo'] == 3) {
+                $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR_AMEX);
+                $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . ' ' . $arrParam['telefono'], PG_NOT_AVISO_PAGADITO_DESC);
+            } else {
+                $arrParam['descriptor'] = str_replace("{data}", $arrParam["descriptor"], DYNAMICDESCRIPTOR);
+                $arrParam['descriptor'] = str_replace("{descriptor}", $arrParam['descriptor'] . '|' .DYNAMICDESCRIPTOR_PHONE, PG_NOT_AVISO_PAGADITO_DESC);
+            }
         }
 
@@ -7128,4 +7322,5 @@
             'return_url' => isset($arrParam['return_url'])?$arrParam['return_url']:$arrParam['sitio_web'],
             'usrInfoFacturacion' => "",
+            'descriptor' => $arrParam['descriptor']
         );
 
@@ -9021,4 +9216,5 @@
         $datos_cargo["sin_registro"]        = $sin_registro;
         $datos_cargo["tokenizacion_tarjeta"]= $tokenizacion;
+        $datos_cargo["id_usuario_comercio"] = isset($campos_aplicar_reglas["id_usuario_comercio"]) ? $campos_aplicar_reglas["id_usuario_comercio"] : "";
         // sobreescribo los parametros para tarjeta presente
         if ($tarjeta_presente || $sin_registro || $tokenizacion) {
@@ -12008,4 +12204,13 @@
 
                                                                         $this->registrarLog("error: no se pudo registrar la entrada de tipo tarjeta presente revertida.");
+                                                                        return FALSE;
+                                                                    }
+                                                                    break;
+                                                                case $constantes["INSR"]:
+
+                                                                    $id_entrada = $fpg->registrarEntradaSRRevertida($detalle["monto"], $id_tarjeta);
+                                                                    if (!$id_entrada) {
+
+                                                                        $this->registrarLog("error: no se pudo registrar la entrada de tipo tarjeta tokenizada revertida.");
                                                                         return FALSE;
                                                                     }
@@ -12150,5 +12355,5 @@
         $sql = "
             SELECT
-                IFNULL(id_tarjeta, IFNULL(id_tarjeta_eco_historial, IFNULL(id_tarjeta_tarjeta_presente, id_tarjeta_tokenizada))) id_tarjeta
+                IFNULL(id_tarjeta, IFNULL(id_tarjeta_eco_historial, IFNULL(id_tarjeta_tarjeta_presente, IFNULL(id_tarjeta_sin_registro, id_tarjeta_tokenizada)))) id_tarjeta
             FROM pg_paypro_peticion
             WHERE id_transaccion = $id_transaccion
@@ -13658,9 +13863,9 @@
             if($id_operacion){
                 $this->registrarLog("Revirtiendo operacion $id_operacion");
-                $resultado = $this->cambiarEstadoCaso($id_operacion, "Solicitud de anulaci&oacute;n generada por void en Sap", 2);
+                $resultado = $this->cambiarEstadoCaso($id_operacion, "Solicitud de anulaci&oacute;n generada por void", 2);
                 if($resultado){
                     $resultado = $this->revertirOperacion($id_operacion, "ID", null, true);
                     if($resultado){
-                        $resultado = $this->cambiarEstadoCaso($id_operacion, "Anulaci&oacute;n generada por void en Sap", 3);
+                        $resultado = $this->cambiarEstadoCaso($id_operacion, "Anulaci&oacute;n generada por void", 3);
                         if($resultado){
                             $this->registrarLog("Registro de void exitoso.");
@@ -13697,4 +13902,35 @@
     }
 
+    /**
+     * Registra una petición refund para su futura aprobación.
+     * @param int $id_peticion Es el identificador de la petición.
+     * @param float $monto Es el monto a devolver. Si se deja null se devolverá el monto total.
+     * @return boolean
+     */
+    public function registrarRefundYRevertir($id_peticion, $id_operacion, $monto = null){
+        require_once("librerias/PaymentProcessor/class.PaymentProcessor.php");
+        $datos = array();
+        if(DEBUG_MODE || SANDBOX_MODE){
+            $datos["debug_mode"]    = true;
+            $datos["response_code"] = PAYPRO_RESPONSE_CODE != 0?PAYPRO_RESPONSE_CODE:null;
+        }
+        $PaymentProccesor = new PaymentProcessor($datos);
+        if($PaymentProccesor->PreRefund($id_peticion, array("monto" => $monto))){
+            $resultado = $this->cambiarEstadoCaso($id_operacion, "Solicitud de anulaci&oacute;n generada por preRefund desde Pagadito Comercio", 6);
+            if($resultado){
+                $resultado = $this->revertirOperacion($id_operacion, "ID", null, true);
+                if($resultado){
+                    $resultado = $this->cambiarEstadoCaso($id_operacion, "Anulaci&oacute;n generada por refund desde Pagadito Comercio", 3);
+                    if($resultado){
+                        $this->registrarLog("Registro de void exitoso.");
+                        return true;
+                    }
+                }
+            }
+        }
+        $this->registrarLog("Registro de refund fallido.");
+        return false;
+    }
+    
     /**
      * Efectúa una anulación de fondos.
@@ -14267,55 +14503,65 @@
                 tjt.id_usuario
             FROM pg_tarjetas tjt
-            INNER JOIN pg_usuarios usr USING(id_usuario)
-            WHERE tjt.bin = '".substr($numero, 0, 6)."'
-            AND tjt.ultdigitos = '".substr($numero, -4)."'
-            AND AES_DECRYPT(tjt.vence_anio, '" . KERNEL_CFG_MASTER_KEY . "' ) = '" . $yearVence . "'
-            AND AES_DECRYPT(tjt.vence_mes, '" . KERNEL_CFG_MASTER_KEY . "' ) = '" . $mesVence . "'";
-        if($Usuario->id_usuario_tipo == 1){
+                INNER JOIN pg_usuarios usr USING(id_usuario)
+            WHERE
+                tjt.bin = '" . substr($numero, 0, 6) . "'
+                AND tjt.ultdigitos = '" . substr($numero, -4) . "'
+                AND AES_DECRYPT(tjt.vence_anio, '" . KERNEL_CFG_MASTER_KEY . "' ) = '" . $yearVence . "'
+                AND AES_DECRYPT(tjt.vence_mes, '" . KERNEL_CFG_MASTER_KEY . "' ) = '" . $mesVence . "'";
+        if ($Usuario->id_usuario_tipo == 1) {
+            
             /*
              * Si es usuario personal, se buscan tarjetas con estado Registrada,
-             * Validada, Bloqueada, En Revisión y Con Transacción en verificación.
+             * Validada, Bloqueada, En Revisión, Con Transacción en verificación, 
+             * Verificando por primera recarga de saldo y Verificando por recarga de saldo.
              * Además se buscan tarjetas que pertenezcan a otros usuarios personales.
              */
             $sql .= "
-            AND tjt.id_tarjeta_estado IN(2, 3, 5, 8, 9)
-            AND usr.id_usuario_tipo = ".$Usuario->id_usuario_tipo;
-        }
-        else{
+                AND tjt.id_tarjeta_estado IN(2, 3, 5, 8, 9, 10, 11)
+                AND usr.id_usuario_tipo = " . $Usuario->id_usuario_tipo;
+        } else {
+            
             //Si no es un usuario personal, solo se buscan tarjetas Bloqueadas.
             $sql .= "
-            AND tjt.id_tarjeta_estado IN(5)";
-        }
-        try{
+                AND tjt.id_tarjeta_estado = 5";
+        }
+        try {
+            
             $rst = $this->db->query($sql);
             if ($rst->numRows() > 0) {
+                
                 //Match tarjeta enmascarada
                 //Destokenizar tarjetas encontradas y comparar PAN
                 while ($rst->fetchInto($tjt)) {
+                    
                     $Tarjeta = new Tarjeta($this->db);
-                    if($Tarjeta->cargarTokenizada($tjt["id_tarjeta"])){
-                        if($Tarjeta->datos["accountNumber"] == $numero){
+                    if ($Tarjeta->cargarTokenizada($tjt["id_tarjeta"])) {
+                        
+                        if ($Tarjeta->datos["accountNumber"] == $numero) {
+                            
                             //Match tarjeta destokenizada
                             if ($tjt['id_usuario'] == $Usuario->id_usuario) {
+                                
                                 $this->registrarLog('TARJETA DUPLICADA MISMO USUARIO');
                             } else {
+                                
                                 $this->registrarLog('TARJETA DUPLICADA OTRO USUARIO YA TIENE ESTA TARJETA');
                             }
+                            $_SESSION['valid_email'] = $this->enmascararCorreo($Tarjeta->datos['email']);
                             return false;
                         }
-                    }
-                    else{
-                        //Falló la destokenización
-                        $this->registrarLog("Falló el retrieve de la tarjeta ".$tjt["id_tarjeta"].".");
+                    } else {
+                        
+                        // Falló la destokenización
+                        $this->registrarLog("Falló el retrieve de la tarjeta id_tarjeta -> " . $tjt["id_tarjeta"] . ".");
                         return false;
                     }
                 }
             }
-        }
-        catch(Throwable $e){
-            $this->registrarLog("Error verificando disponibilidad de tarjeta", $e->getMessage());
+        } catch(Throwable $e) {
+            
+            $this->registrarLog($e->getMessage(), "Error verificando disponibilidad de tarjeta");
             return false;
         }
-
         return true;
     }
@@ -14741,5 +14987,5 @@
                 " . $datos['id_tarjeta_tipo'] . ",
                 '" . $datos['direccion'] . "',
-                '" . $datos['id_acceso'] . "'    
+                " . (!empty($datos['id_acceso']) ? $datos['id_acceso'] : "null") . "    
             )
         ";
@@ -14794,3 +15040,49 @@
         return $mail;
     }
+    
+    /**
+     * funcion para enmascarar el correo
+     * @return string $correo correo enmascarado
+     * @param string $correo correo a enmascarar
+     */
+    private function enmascararCorreo($correo){
+        $partes = explode('@', $correo);
+        $dominio = explode('.', $partes[1]);
+        
+        $longitud_nombre = strlen($partes[0]);
+        $longitud_dominio = strlen($dominio[0]);
+        
+        $correo = substr($partes[0], 0, 1) . '***' . substr($partes[0], $longitud_nombre - 1, 1);
+        $correo .= '@' . substr($dominio[0], 0, 1) . '***' . substr($dominio[0], $longitud_dominio - 1, 1);
+        $correo .= '.' . $dominio[1];
+        
+        return $correo;
+    }
+    
+    /**
+     * funcion para validar la tarjeta y el correo
+     * @global array $sandbox_cards array con las tarjetas usadas para pruebas
+     * @global object $db objeto con la conexion a la base de datos
+     * @return array $return respuesta de la validacion
+     * @param string $cardNumber numero de la tarjeta a validar
+     * @param string $expirationMonth mes de expiracion de la tarjeta
+     * @param string $expirationYear año de vencimiento de la tarjeta 
+     * @param string $email correo ingresado
+     */
+    public function validateCardAndEmail($cardNumber, $expirationMonth, $expirationYear, $email){
+        global $sandbox_cards, $db;
+        include_once("./librerias/class.Usuario.php");
+        include_once("./librerias/class.Tarjeta.php");
+        $error_code = "100";
+        $Usuario = new Usuario($this->db);
+        $Usuario->id_usuario_tipo = "1";
+        if(!$Usuario->verificar_disponibilidad_correo($email)){
+            $error_code = "1000";
+        } elseif(!DEBUG_MODE && !SANDBOX_MODE && in_array($cardNumber, $sandbox_cards)){
+                $error_code = "1004";
+            } elseif(!DEBUG_MODE && !SANDBOX_MODE && !$this->verificarDisponibilidadTarjeta($cardNumber, $expirationMonth, $expirationYear, $Usuario)){
+                $error_code = "1007";
+                }
+        return $error_code;
+    }
 }
Index: branches/b-20180319.02/librerias/paginator.class.php
===================================================================
--- trunk/librerias/paginator.class.php	(revision 3384)
+++ branches/b-20180319.02/librerias/paginator.class.php	(revision 3579)
@@ -51,4 +51,5 @@
             $args = explode("&", $_SERVER["QUERY_STRING"]);
             foreach ($args as $arg) {
+                $no_valido = 0;
                 $keyval = explode("=", $arg);
                 if ($keyval[0] != "page" And $keyval[0] != "ipp"
@@ -58,6 +59,9 @@
                         And $keyval[0] != "vw"
                         And $keyval[0] != "mnm"
-                        And $keyval[0] != "mid")
-                    $this->querystring .= "&" . $keyval[0] . "=" . htmlspecialchars($keyval[1]);
+                        And $keyval[0] != "mid"){
+                    if ($this->validateParamsAndValues($keyval[0], isset($keyval[1]) ? $keyval[1] : '')) {
+                        $this->querystring .= "&" . $keyval[0] . "=" . htmlspecialchars($keyval[1]);
+                    }
+                }
             }
         }
@@ -92,5 +96,5 @@
                 // loop through all pages. if first, last, or in range, display
                 if ($i == 1 Or $i == $this->num_pages Or in_array($i, $this->range))
-                    $this->return .= ($i == $this->current_page And $this->items_per_page != "All") ? "<a title=\"Go to page $i of $this->num_pages\" class=\"current\" href=\"#\">$i</a> \n" : "<a class=\"paginate\" title=\"Go to page $i of $this->num_pages\" href=\"$this->url?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> \n";
+                    $this->return .= ($i == $this->current_page And $this->items_per_page != "All") ? "<a title=\"Go to page $i of $this->num_pages\" class=\"current\"  style=\"text-decoration:none\">$i</a> \n" : "<a class=\"paginate\" title=\"Go to page $i of $this->num_pages\" href=\"$this->url?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> \n";
                 if ($this->range[$this->mid_range - 1] < $this->num_pages - 1 And $i == $this->range[$this->mid_range - 1])
                     $this->return .= "<span class=\"inactive\"> ... </span>";
@@ -101,5 +105,5 @@
             $this->return = ($this->current_page > 1) ? "<a class=\"paginate lt\" href=\"$this->url?page=" . ($this->current_page - 1) . "&ipp=$this->items_per_page$this->querystring\"><</a> " : "<span class=\"inactive lt\" href=\"#\"><</span> ";
             for ($i = 1; $i <= $this->num_pages; $i++) {
-                $this->return .= ($i == $this->current_page) ? "<a class=\"current\" href=\"#\">$i</a> " : "<a class=\"paginate\" href=\"$this->url?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
+                $this->return .= ($i == $this->current_page) ? "<a class=\"current\" style=\"text-decoration:none\">$i</a> " : "<a class=\"paginate\" href=\"$this->url?page=$i&ipp=$this->items_per_page$this->querystring\">$i</a> ";
             }
             $this->return .= (($this->current_page < $this->num_pages) And ( $this->items_per_page != "All") And $this->current_page > 0) ? "<a class=\"paginate gt\" href=\"$this->url?page=" . ($this->current_page + 1) . "&ipp=$this->items_per_page$this->querystring\">></a>\n" : "<span class=\"inactive gt\" href=\"#\">></span>\n";
@@ -132,4 +136,17 @@
         return $this->return;
     }
+    
+    /**
+     * Valida si el parametro o el valor pasado en la url es valido o no
+     * @param string $param parametro en la url 
+     * @param string $value valor del parametro
+     * @return boolean
+     */
+    private function validateParamsAndValues($param, $value){
+        if (!preg_match('/^[a-zA-Z0-9\-_+~]/', $param) || !preg_match('/^[a-zA-Z0-9\-_+~]/', $value)) {
+            return false;
+        }
+        return true;
+    }
 
 }
Index: branches/b-20180319.02/menu.php
===================================================================
--- trunk/menu.php	(revision 3384)
+++ branches/b-20180319.02/menu.php	(revision 3579)
@@ -118,4 +118,9 @@
             $mnDestino = 'index.php?mod=reporte&hac='.$_SESSION['Hac'];
         }
+        //modulo refund
+        if ($_SESSION['Hac'] == "refund") {
+            $mnDestino = 'index.php?mod=refund';
+        }
+        
         //	
         $mensajeria = "";
@@ -781,6 +786,8 @@
 }
 
-if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "enlacepago")) {
-    
+// botones para administrador de POS
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "refund")) {
+    $_SESSION['menuHac'] = PG_GEN_HEADER_REFUND;
+    $_SESSION['Hac'] = 'refund';
     $link1 = '
         <a href="' . URL_SITIO . '/index.php?mod=dashboard" style="color: #ffffff; text-decoration: none; font-size: 14px;">
@@ -790,6 +797,6 @@
         <div id="center">
             &nbsp;&nbsp;
-            <a href="' . URL_SITIO . '/index.php?mod=enlacepago" style="color: #ffffff; text-decoration: none; font-size: 14px;">
-                ' . PG_GEN_HEADER_ENLACEPAGO . '
+            <a href="' . URL_SITIO . '/index.php?mod=refund" style="color: #ffffff; text-decoration: none; font-size: 14px;">
+                ' . PG_GEN_HEADER_REFUND . '
             </a>
             &nbsp;&nbsp;
Index: branches/b-20180319.02/menu_r.php
===================================================================
--- branches/b-20180319.02/menu_r.php	(revision 3579)
+++ branches/b-20180319.02/menu_r.php	(revision 3579)
@@ -0,0 +1,592 @@
+<?php
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (!isset($_GET['mod']))) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<a href="index.php?mod=tarjetas" style="color: #ffffff; text-decoration: none;  font-size: 14px;">' . PG_GEN_HEADER_ADMINISTRADOR_TARJETA . '</a>';
+
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>
+		';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "usuarios")) {
+    if (isset($_GET['hac'])) {
+        $hac = $_GET['hac'];
+        switch ($hac) {
+            case "transext":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_SALDO_DISPONIBLE;
+                $_SESSION['Hac'] = "transext";
+                break;
+            case "sldcngld":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_SALDO_CONGELADO;
+                $_SESSION['Hac'] = "sldcngld";
+                break;
+            case "fpr":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_FONDOS_POR_RECIBIR;
+                $_SESSION['Hac'] = "fpr";
+                break;
+            case "ppe":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_PAGOS_POR_EFECTUAR;
+                $_SESSION['Hac'] = "ppe";
+                break;
+            case "transf":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_TRANSFERENCIAS;
+                $_SESSION['Hac'] = "transf";
+                break;
+            case "otarj":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_TRANSACCIONES;
+                $_SESSION['Hac'] = "otarj";
+                break;
+            case "ames":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_MENSAJERIA;
+                $_SESSION['Hac'] = "ames";
+                break;
+            case "mmes":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_MENSAJERIA;
+                $_SESSION['Hac'] = "mmes";
+                break;
+            case "fact":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_FACTURACION;
+                $_SESSION['Hac'] = "fact";
+                break;
+            case "cnfc":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_CONFIGURACION;
+                $_SESSION['Hac'] = "cnfc";
+                break;
+            case "admc":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_CORREOS;
+                $_SESSION['Hac'] = "admc";
+                break;
+            case "moco":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_OTRAS_PASSWORD;
+                $_SESSION['Hac'] = "moco";
+                break;
+
+            case "moip":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_MI_PAGADITO;
+                $_SESSION['Hac'] = "moip";
+                break;
+            
+            case "rec":
+                $_SESSION['menuHac'] = PG_GEN_HEADER_RECURRENCIA;
+                $_SESSION['Hac'] = "rec";
+                break;
+
+            default:
+        }
+
+        //Mensajeria
+        $mnDestino = 'index.php?mod=usuarios&hac=' . $_SESSION['Hac'] . '&tm=0';
+        if ($_SESSION['Hac'] == "fact") {
+            $mnDestino = 'index.php?mod=fact';
+        }
+        // Correos
+        if ($_SESSION['Hac'] == "admc") {
+            $mnDestino = 'index.php?mod=usuarios&tm=0&cc=2#cc';
+        }
+        // Clave
+        if ($_SESSION['Hac'] == "moco") {
+            $mnDestino = 'index.php?mod=usuarios&tm=0';
+        }
+        // Error en perfil de usuario
+        if ($_SESSION['Hac'] == "moip") {
+            $mnDestino = 'index.php?mod=usuarios&tm=0';
+        }
+        // Detalle de transacciones proveniente de sus reportes
+        if (in_array($_SESSION['Hac'], array("ven","rcr","pag"))) {
+            $mnDestino = 'index.php?mod=reporte&hac='.$_SESSION['Hac'];
+        }
+        $mensajeria = "";
+        $idm = 0;
+        if (isset($_GET['idm'])) {
+            $idm = intval($_GET['idm']);
+            $mensajeria.="&idm=" . $idm;
+        }
+        $u = "";
+        if (isset($_GET['u'])) {
+            $u = urlencode($_GET['u']);
+            $mensajeria.="&u=" . $u;
+        }
+        //Mensajeria
+        if (in_array($_SESSION['Hac'], array("mmes", "ames"))) {
+            $mnDestino = 'index.php?mod=inbox';
+            $mensajeria = "";
+        }
+        $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+        $link2 = '<div id="center"><a href="' . $mnDestino . $mensajeria . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . $_SESSION['menuHac'] . '</a></div>';
+        //$link2 = '<div id="center">&nbsp;&nbsp;<a href="index.php?mod=inbox" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . $_SESSION['menuHac'] . '</a>&nbsp;&nbsp;</div>';
+
+        $registro = '<br />
+			<div class="row"><!-- start row -->
+				<div class="col-6 submenu">
+					<div id="middle100">
+						' . $link1 . '
+					</div>
+				</div>
+				<div class="col-6 submenu">
+					<div id="middle100">
+						' . $link2 . '
+					</div>
+				</div>
+			</div>
+			';
+    } else {
+        $registro = '
+            <div id="menu-bar">
+                <ul>
+                    <li id="menu-opt-recarga"><img /><a href="index.php?mod=recargo">'.PG_GEN_HEADER_RECARGA_DE_SALDO.'</a></li>
+                    <li id="menu-opt-retiro"><img /><a href="index.php?mod=retfnd&rst=' . md5('1') . '">'.PG_GEN_HEADER_RETIRO_DE_SALDO.'</a></li>
+                    <li id="menu-opt-transferencia"><img /><a href="index.php?mod=envfnd&hac=efnd">'.PG_GEN_HEADER_ENVIO_DE_FONDOS.'</a></li>
+                    <li id="menu-opt-tarjetas"><img /><a href="index.php?mod=tarjetas">'.PG_GEN_HEADER_ADMIN_TARJETAS.'</a></li>
+                    '.($_SESSION["tipoUsuario"]==3?'<li id="menu-opt-invoice"><img /><a href="index.php?mod=inv">'.PG_GEN_HEADER_INVOICE.'</a></li>':'').'
+                </ul>
+            </div>
+			<!-- <table width="100%" border="0" align="center">
+			<tr>
+				<td width="225">
+					<div class="submenu">
+						<div id="left"></div>
+						<div id="middle100"><a href="index.php?mod=recargo" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_RECARGA_DE_SALDO . '</a></div>
+						<div id="right"></div>
+					</div>
+				</td>
+				<td width="13">&nbsp;</td>
+				<td width="225">
+					<div class="submenu">
+						<div id="left"></div>
+						<div id="middle100">&nbsp;&nbsp;&nbsp;&nbsp;<a href="index.php?mod=retfnd&rst=' . md5('1') . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_RETIRO_DE_SALDO . '</a>&nbsp;&nbsp;&nbsp;&nbsp;</div>
+						<div id="right"></div>
+					</div>
+				</td>
+				<td width="14">&nbsp;</td>
+				<td width="225">
+					<div class="submenu">			
+						<div id="left"></div>
+						<div id="middle100">&nbsp;&nbsp;&nbsp;&nbsp;<a href="index.php?mod=envfnd&hac=efnd" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_ENVIO_DE_FONDOS . '</a>&nbsp;&nbsp;&nbsp;&nbsp;</div>
+						<div id="right"></div>
+					</div>
+				</td>
+				<td width="13">&nbsp;</td>
+				<td width="225">
+					<div class="submenu">
+						<div id="left"></div>
+							<div id="middle100">
+								&nbsp;&nbsp;&nbsp;&nbsp;<a href="index.php?mod=tarjetas" style="color: #ffffff; text-decoration: none;  font-size: 14px;">' . PG_GEN_HEADER_ADMIN_TARJETAS . '</a>
+							</div>
+						<div id="right"></div>
+					</div>								
+				</td>
+			</tr>
+			</table> -->';
+    }
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "tarjetas")) {
+    $link2 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link1 = '<a href="index.php?mod=tarjetas" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_ADMINISTRADOR_TARJETA . '</a>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu align-self-center">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+		</div>
+		';
+}
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "tarjetas_nivel")) {
+    $link2 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link1 = '<a href="index.php?mod=tarjetas" style="color: #ffffff; text-decoration: none; font-size: 14px;">Administrador de Tarjetas de Crédito/Débito</a>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+		</div>
+		';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "recargo")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=recargo" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_RECARGA_DE_SALDO . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "retfnd")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=retfnd&rst=' . md5('1') . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_RETIRO_DE_SALDO . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "envfnd")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=envfnd&hac=efnd" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_ENVIO_DE_FONDOS . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "acorreo")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=acorreo&admcc=1" style="color: #ffffff; text-decoration: none; font-size: 14px;">'.PG_GEN_HEADER_ADMINISTRADOR_CORREOS.'</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "factdat")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=acorreo&admcc=1" style="color: #ffffff; text-decoration: none; font-size: 14px;">'.PG_GEN_HEADER_DATOS_FACTURACION.'</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "cclave")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=cclave" style="color: #ffffff; text-decoration: none; font-size: 14px;">Cambiar Contraseña</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "inv")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=inv" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_INVOICE . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "accesos")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=accesos" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_ACCESOS . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "fact")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=fact" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_OTRAS_FACTURACION . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "seg")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=seg" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_SEGURIDAD . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "cuenta")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=cuenta" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_CUENTA . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "inbox")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=inbox" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_INBOX . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "reporte")) {
+    $_SESSION['Hac'] = isset($_GET["hac"])?$_GET["hac"]:"";
+    switch ($_SESSION['Hac']) {
+        case "ven":
+            $_SESSION['menuHac'] = PG_TITULO_VENTAS;
+            break;
+        case "rcr":
+            $_SESSION['menuHac'] = PG_TITULO_COBROS_RECURRENTES;
+            break;
+        case "pag":
+            $_SESSION['menuHac'] = PG_TITULO_PAGOS;
+            break;
+    }
+    
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=reporte&hac='. $_SESSION['Hac'] .'" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_REPORTES . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "admincbu")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=admincbu" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_ADMINISTRADOR_CUENTAS_BANCARIAS . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu align-self-center">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "webhooks")) {
+    $link1 = '<a href="index.php?mod=usuarios&tm=' . $tm . '" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_MI_PAGADITO . '</a>';
+    $link2 = '<div id="center"><a href="index.php?mod=admincbu" style="color: #ffffff; text-decoration: none; font-size: 14px;">' . PG_GEN_HEADER_WEBHOOKS . '</a></div>';
+    //
+    $registro = '<br />
+		<div class="row"><!-- start row -->
+			<div class="col-6 submenu align-self-center">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+// botones para administrador de POS
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "adminpos")) {
+    
+    $link1 = '
+        <a href="' . URL_SITIO . '/index.php?mod=dashboard" style="color: #ffffff; text-decoration: none; font-size: 14px;">
+            ' . PG_GEN_HEADER_MI_PAGADITO . '
+        </a>';
+    $link2 = '
+        <div id="center">
+            
+            <a href="' . URL_SITIO . '/index.php?mod=adminpos" style="color: #ffffff; text-decoration: none; font-size: 14px;">
+                ' . PG_GEN_HEADER_ADMINPOS . '
+            </a>
+            
+        </div>';
+    $registro = '
+        <br />
+        <div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
+
+if (isset($_SESSION['usuaPagaditoUsuario']) && (isset($_GET['mod']) && $_GET['mod'] == "enlacepago")) {
+    
+    $link1 = '
+        <a href="' . URL_SITIO . '/index.php?mod=dashboard" style="color: #ffffff; text-decoration: none; font-size: 14px;">
+            ' . PG_GEN_HEADER_MI_PAGADITO . '
+        </a>';
+    $link2 = '
+        <div id="center">
+            
+            <a href="' . URL_SITIO . '/index.php?mod=enlacepago" style="color: #ffffff; text-decoration: none; font-size: 14px;">
+                ' . PG_GEN_HEADER_ENLACEPAGO . '
+            </a>
+            
+        </div>';
+    $registro = '
+        <br />
+        <div class="row"><!-- start row -->
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link1 . '
+				</div>
+			</div>
+			<div class="col-6 submenu">
+				<div id="middle100">
+					' . $link2 . '
+				</div>
+			</div>
+		</div>';
+}
Index: branches/b-20180319.02/modulos/admincbu/funciones.php
===================================================================
--- trunk/modulos/admincbu/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/admincbu/funciones.php	(revision 3579)
@@ -53,5 +53,5 @@
     if ($num_cbu > 0) {
 
-        $url_paginator = URL_SITIO . '/' . $usuaPagina;
+        $url_paginator = URL_SITIO . '/';
         $ObjPaginator = new Paginator($num_cbu, 7, array(10), $url_paginator);
         $array_cbu = acbuGetCBU($id_usuario, $ObjPaginator->limit_start, $ObjPaginator->limit_end);
@@ -68,5 +68,5 @@
     // imprimir listado de cuentas
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_ADMINCBU_H1_TITLE . '</h1>
             ' . $msj . '
@@ -74,60 +74,62 @@
                 <a id="linkAgregarCBU" class="p-button p-button-submit" href="' . URL_SITIO . '/' . $usuaPagina . '&hac=addcbu">' . PG_ADMINCBU_LINK_AGREGAR_CUENTA . '</a>
             </div>
-            <table id="tblTrans" class="tblListaCBU" cellpadding="0" cellspacing="0">
-                <thead>
-                    <tr>
-                        <th>' . PG_ADMINCBU_TH_NUMERO_CUENTA . '</th>
-                        <th>' . PG_ADMINCBU_TH_FECHA_INGRESO . '</th>
-                        <th>' . PG_ADMINCBU_TH_TIPO_CUENTA . '</th>
-                        <th>' . PG_ADMINCBU_TH_BANCO . '</th>
-                        <th>' . PG_ADMINCBU_TH_TITULAR_CUENTA . '</th>
-                        <th>' . PG_ADMINCBU_TH_ESTADO_CUENTA . '</th>
-                    </tr>
-                </thead>
-                <tfoot>
-                    <tr>
-                        <td colspan="6" align="right">';
-
-    if (count($array_cbu) > 0) {
-
-        $prinHtml .= $ObjPaginator->display_pages();
-    }
-    $prinHtml .= '
-                        </td>
-                    </tr>
-                </tfoot>
-                <tbody>';
-
-    if (count($array_cbu) > 0) {
-
-        if ($idioma == 'es') {
-
-            $campo_pais = 'nombre_pais';
-            $campo_tipo = 'tipo';
-            $campo_estado = 'estado';
-        } else {
-
-            $campo_pais = 'nombre_pais_en';
-            $campo_tipo = 'tipo_en';
-            $campo_estado = 'estado_en';
-        }
-        $cont_cbu = 1;
-        foreach ($array_cbu as $cbu) {
-
-            $prinHtml .= '
-                    <tr class="tr' . ($cont_cbu % 2 == 0 ? '0' : '1') . '">
-                        <td><a href="' . URL_SITIO . '/' . $usuaPagina . '&hac=detailcbu&id_cbu=' . $cbu['id_cuenta_bancaria_usuario'] . '">' . $cbu['numero_cuenta'] . '</a></td>
-                        <td>' . $cbu['fecha_ingreso'] . '</td>
-                        <td>' . $cbu[$campo_tipo] . '</td>
-                        <td>' . $cbu['nombre_banco'] . '</td>
-                        <td>' . $cbu['titular_cuenta'] . '</td>
-                        <td>' . $cbu[$campo_estado] . '</td>
-                    </tr>';
-            $cont_cbu++;
-        }
-    }
-    $prinHtml .= '
-                </tbody>
-            </table>
+			<div class="table-responsive-sm">
+				<table id="tblTrans" class="tblListaCBU table" cellpadding="0" cellspacing="0">
+					<thead>
+						<tr>
+							<th>' . PG_ADMINCBU_TH_NUMERO_CUENTA . '</th>
+							<th>' . PG_ADMINCBU_TH_FECHA_INGRESO . '</th>
+							<th>' . PG_ADMINCBU_TH_TIPO_CUENTA . '</th>
+							<th>' . PG_ADMINCBU_TH_BANCO . '</th>
+							<th>' . PG_ADMINCBU_TH_TITULAR_CUENTA . '</th>
+							<th>' . PG_ADMINCBU_TH_ESTADO_CUENTA . '</th>
+						</tr>
+					</thead>
+					
+					<tbody>';
+
+		if (count($array_cbu) > 0) {
+
+			if ($idioma == 'es') {
+
+				$campo_pais = 'nombre_pais';
+				$campo_tipo = 'tipo';
+				$campo_estado = 'estado';
+			} else {
+
+				$campo_pais = 'nombre_pais_en';
+				$campo_tipo = 'tipo_en';
+				$campo_estado = 'estado_en';
+			}
+			$cont_cbu = 1;
+			foreach ($array_cbu as $cbu) {
+
+				$prinHtml .= '
+						<tr class="tr' . ($cont_cbu % 2 == 0 ? '0' : '1') . '">
+							<td><a href="' . URL_SITIO . '/' . $usuaPagina . '&hac=detailcbu&id_cbu=' . $cbu['id_cuenta_bancaria_usuario'] . '">' . $cbu['numero_cuenta'] . '</a></td>
+							<td>' . $cbu['fecha_ingreso'] . '</td>
+							<td>' . $cbu[$campo_tipo] . '</td>
+							<td>' . $cbu['nombre_banco'] . '</td>
+							<td>' . $cbu['titular_cuenta'] . '</td>
+							<td>' . $cbu[$campo_estado] . '</td>
+						</tr>';
+				$cont_cbu++;
+			}
+		}
+		$prinHtml .= '
+					</tbody>
+				</table>
+			</div><!-- table-responsive-sm -->
+			
+			<div>';
+
+		if (count($array_cbu) > 0) {
+
+			$prinHtml .= $ObjPaginator->display_pages();
+		}
+		$prinHtml .= '
+		
+			</div>
+					
             ' . PG_ADMINCBU_NOTA_ESTADOS . '
         </div>';
@@ -332,28 +334,24 @@
         // imprimir formulario;
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_ADMINCBU_H1_AGREGAR_CUENTA_BANCARIA . '</h1>
                 <p>' . PG_ADMINCBU_P_INDICACIONES_FORM . '</p>
-                ' . $msj . $msj_val . '
-                <form id="frmCBU" action="' . URL_SITIO . '/' . $usuaPagina . '&hac=validatecbu" method="post">
-                    <table id="tblFrmCBU" class="informacion" cellpadding="0" cellspacing="0" border="0">
-                        <tbody>
-                            <tr>
-                                <td width="280">
-                                    <label>' . PG_ADMINCBU_LBL_PAIS . '</label>
-                                </td>
-                                <td>
-                                    ' . $nombre_pais . '
-                                    <input type="hidden" id="id_pais" name="id_pais" value="' . $id_pais . '" />
-                                    <input type="hidden" id="nombre_pais" name="nombre_pais" value="' . $nombre_pais . '" />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_BANCO . '</label>
-                                </td>
-                                <td>
-                                    <select id="id_banco" name="id_banco" class="validate[\'required\']">
-                                        <option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_BANCO . '</option>';
+                
+				
+				<form id="frmCBU" action="' . URL_SITIO . '/' . $usuaPagina . '&hac=validatecbu" method="post">
+					<div class="row informacion" id="tblFrmCBU"><!-- start row -->
+						<div class="col-12 mb-2">' . $msj . $msj_val . '</div>
+						
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_PAIS . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							' . $nombre_pais . '
+                            <input type="hidden" id="id_pais" name="id_pais" value="' . $id_pais . '" />
+                            <input type="hidden" id="nombre_pais" name="nombre_pais" value="' . $nombre_pais . '" />
+						</div>
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_BANCO . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<select id="id_banco" name="id_banco" class="validate[\'required\']">
+								<option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_BANCO . '</option>';
         // bancos asociados
         if (count($array_ba) > 0) {
@@ -362,5 +360,5 @@
 
                 $prinHtml .= '
-                                        <option value="' . $bancos['id_banco'] . '" banco_asociado="1"' . ($info_cbu['id_banco'] == $bancos['id_banco'] ? ' selected="selected"' : '') . '>' . $bancos['nombre_banco'] . '</value>';
+                                <option value="' . $bancos['id_banco'] . '" banco_asociado="1"' . ($info_cbu['id_banco'] == $bancos['id_banco'] ? ' selected="selected"' : '') . '>' . $bancos['nombre_banco'] . '</value>';
             }
         }
@@ -372,5 +370,5 @@
 
                 $prinHtml .= '
-                                        <option value="' . $bancos['id_banco'] . '" banco_asociado="0"' . ($info_cbu['id_banco'] == $bancos['id_banco'] ? ' selected="selected"' : '') . '>' . $bancos['nombre_banco'] . '</value>';
+                                <option value="' . $bancos['id_banco'] . '" banco_asociado="0"' . ($info_cbu['id_banco'] == $bancos['id_banco'] ? ' selected="selected"' : '') . '>' . $bancos['nombre_banco'] . '</value>';
             }
         }
@@ -378,32 +376,21 @@
 
             $prinHtml .= '
-                                        <option value="XXX" banco_asociado="0"' . ($info_cbu['id_banco'] == 'XXX' ? ' selected="selected"' : '') . '>' . PG_ADMINCBU_OPTION_MI_BANCO_NO_ESTA_EN_LA_LISTA . '</value>';
+                                <option value="XXX" banco_asociado="0"' . ($info_cbu['id_banco'] == 'XXX' ? ' selected="selected"' : '') . '>' . PG_ADMINCBU_OPTION_MI_BANCO_NO_ESTA_EN_LA_LISTA . '</value>';
         }
         $prinHtml .= '
-                                    </select>
-                                </td>
-                            </tr>
-                            <tr id="tr_nombre_banco" class="' . ($info_cbu['id_banco'] == 'XXX' ? 'show' : 'hide') . '">
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_NOMBRE_BANCO . '</label>
-                                </td>
-                                <td>
-                                    <input type="text" id="nombre_banco" name="nombre_banco" disabled="disabled" class="validate[\'required\']" value="' . $info_cbu['nombre_banco'] . '" />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td></td>
-                                <td>
-                                    <span id="s_comision_banco_asociado" style="display: none;">' . PG_ADMINCBU_LBL_COMISION_BANCO_ASOCIADO . ($array_CBA["valor_porcentual"] > 0 ? (($array_CBA["valor_porcentual"] * 100) . "%" . ($array_CBA["valor_constante"] > 0 ? " + $" . number_format($array_CBA["valor_constante"], 2, ".", ",") : "")) : ($array_CBA["valor_constante"] > 0 ? "$" . number_format($array_CBA["valor_constante"], 2, ".", ",") : "")) . '</span>
-                                    <span id="s_comision_banco_otros" style="display: none;">' . PG_ADMINCBU_LBL_COMISION_BANCO_OTROS . ($array_CBO["valor_porcentual"] > 0 ? (($array_CBO["valor_porcentual"] * 100) . "%" . ($array_CBO["valor_constante"] > 0 ? " + $" . number_format($array_CBO["valor_constante"], 2, ".", ",") : "")) : ($array_CBO["valor_constante"] > 0 ? "$" . number_format($array_CBO["valor_constante"], 2, ".", ",") : "")) . '</span>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_TIPO_CUENTA . '</label>
-                                </td>
-                                <td>
-                                    <select id="id_tipo_cuenta_bancaria_usuario" name="id_tipo_cuenta_bancaria_usuario" class="validate[\'required\']">
-                                        <option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_TIPO_CUENTA . '</option>';
+                            </select>
+							<small>
+								<span id="s_comision_banco_asociado" style="display: none;">' . PG_ADMINCBU_LBL_COMISION_BANCO_ASOCIADO . ($array_CBA["valor_porcentual"] > 0 ? (($array_CBA["valor_porcentual"] * 100) . "%" . ($array_CBA["valor_constante"] > 0 ? " + $" . number_format($array_CBA["valor_constante"], 2, ".", ",") : "")) : ($array_CBA["valor_constante"] > 0 ? "$" . number_format($array_CBA["valor_constante"], 2, ".", ",") : "")) . '</span>
+                                <span id="s_comision_banco_otros" style="display: none;">' . PG_ADMINCBU_LBL_COMISION_BANCO_OTROS . ($array_CBO["valor_porcentual"] > 0 ? (($array_CBO["valor_porcentual"] * 100) . "%" . ($array_CBO["valor_constante"] > 0 ? " + $" . number_format($array_CBO["valor_constante"], 2, ".", ",") : "")) : ($array_CBO["valor_constante"] > 0 ? "$" . number_format($array_CBO["valor_constante"], 2, ".", ",") : "")) . '</span>
+							</small>
+						</div>
+						<div class="col-12 mt-2 mb-2 ' . ($info_cbu['id_banco'] == 'XXX' ? 'show' : 'hide') . '" id="tr_nombre_banco">
+							' . PG_ADMINCBU_LBL_NOMBRE_BANCO . ' <input type="text" id="nombre_banco" name="nombre_banco" disabled="disabled" class="validate[\'required\']" value="' . $info_cbu['nombre_banco'] . '" />
+						</div>
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_CUENTA . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<select id="id_tipo_cuenta_bancaria_usuario" name="id_tipo_cuenta_bancaria_usuario" class="validate[\'required\']">
+								<option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_TIPO_CUENTA . '</option>';
 
         if (count($array_tcbu) > 0) {
@@ -412,34 +399,25 @@
 
                 $prinHtml .= '
-                                        <option value="' . $tipos['id_tipo_cuenta_bancaria_usuario'] . '"' . ($tipos['id_tipo_cuenta_bancaria_usuario'] == $info_cbu['id_tipo_cuenta_bancaria_usuario'] ? ' selected="selected"' : '') . '>' . $tipos[$campo_tipo_cbu] . '</option>';
+								<option value="' . $tipos['id_tipo_cuenta_bancaria_usuario'] . '"' . ($tipos['id_tipo_cuenta_bancaria_usuario'] == $info_cbu['id_tipo_cuenta_bancaria_usuario'] ? ' selected="selected"' : '') . '>' . $tipos[$campo_tipo_cbu] . '</option>';
             }
         }
         $prinHtml .= '
-                                    </select>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_NUMERO_CUENTA . '</label>
-                                </td>
-                                <td>
-                                    <input type="text" id="numero_cuenta" name="numero_cuenta" class="validate[\'required\']" value="' . $info_cbu['numero_cuenta'] . '" />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_TITULAR_CUENTA . '</label>
-                                </td>
-                                <td>
-                                    <input type="text" id="titular_cuenta" name="titular_cuenta" class="validate[\'required\']" value="' . $info_cbu['titular_cuenta'] . '" />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_TIPO_MONEDA . '</label>
-                                </td>
-                                <td>
-                                    <select id="id_cuenta_tipo" name="id_cuenta_tipo" class="validate[\'required\']">
-                                        <option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_MONEDA . '</option>';
+							</select>
+						</div>
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_CUENTA . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<input type="text" id="numero_cuenta" name="numero_cuenta" class="validate[\'required\']" value="' . $info_cbu['numero_cuenta'] . '" />
+						</div>
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TITULAR_CUENTA . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<input type="text" id="titular_cuenta" name="titular_cuenta" class="validate[\'required\']" value="' . $info_cbu['titular_cuenta'] . '" />
+						</div>
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_MONEDA . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<select id="id_cuenta_tipo" name="id_cuenta_tipo" class="validate[\'required\']">
+								<option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_MONEDA . '</option>';
 
         if (count($array_mcbu) > 0) {
@@ -448,18 +426,16 @@
 
                 $prinHtml .= '
-                                        <option value="' . $monedas['id_cuenta_tipo'] . '"' . ($monedas['id_cuenta_tipo'] == $info_cbu['id_cuenta_tipo'] ? ' selected="selected"' : '') . '>' . $monedas['tipo_cuenta'] . '</option>';
+								<option value="' . $monedas['id_cuenta_tipo'] . '"' . ($monedas['id_cuenta_tipo'] == $info_cbu['id_cuenta_tipo'] ? ' selected="selected"' : '') . '>' . $monedas['tipo_cuenta'] . '</option>';
             }
         }
         $prinHtml .= '
-                                    </select>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_TIPO_IDENTIFICACION . '</label>
-                                </td>
-                                <td>
-                                    <select id="id_tipo_identificacion" name="id_tipo_identificacion" class="validate[\'required\']">
-                                        <option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_TIPO_DOCUMENTO . '</option>';
+							</select>
+						</div>
+						
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_IDENTIFICACION . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<select id="id_tipo_identificacion" name="id_tipo_identificacion" class="validate[\'required\']">
+								<option value="">' . PG_ADMINCBU_OPTION_SELECCIONE_TIPO_DOCUMENTO . '</option>';
 
         if (count($array_ti) > 0) {
@@ -468,50 +444,44 @@
 
                 $prinHtml .= '
-                                        <option value="' . $documentos['id_tipo_identificacion'] . '"' . ($documentos['id_tipo_identificacion'] == $info_cbu['id_tipo_identificacion'] ? ' selected="selected"' : '') . '>' . $documentos['nombre'] . '</option>';
+								<option value="' . $documentos['id_tipo_identificacion'] . '"' . ($documentos['id_tipo_identificacion'] == $info_cbu['id_tipo_identificacion'] ? ' selected="selected"' : '') . '>' . $documentos['nombre'] . '</option>';
             }
         }
         $prinHtml .= '
-                                    </select>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION . '</label>
-                                </td>
-                                <td>
-                                    <input type="text" id="numero_identificacion" name="numero_identificacion" class="validate[\'required\']" value="' . $info_cbu['numero_identificacion'] . '" />
-                                </td>
-                            </tr>';
+							</select>
+						</div>
+						
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<input type="text" id="numero_identificacion" name="numero_identificacion" class="validate[\'required\']" value="' . $info_cbu['numero_identificacion'] . '" />
+						</div>';
+						
         if (in_array($id_pais, $array_paises_nit)) {
 
             $prinHtml .= '
-                            <tr>
-                                <td>
-                                    <label>' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION_TRIBUTARIA . '</label>
-                                </td>
-                                <td>
-                                    <input type="text" id="numero_identificacion_tributaria" name="numero_identificacion_tributaria" class="validate[\'required\']" value="' . $info_cbu['numero_identificacion_tributaria'] . '" />
-                                </td>
-                            </tr>';
+						<div class="col-12 mt-2 mb-2"></div>
+						<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION_TRIBUTARIA . '</div>
+						<div class="col-12 col-sm-7 col-lg-9">
+							<input type="text" id="numero_identificacion_tributaria" name="numero_identificacion_tributaria" class="validate[\'required\']" value="' . $info_cbu['numero_identificacion_tributaria'] . '" />
+						</div>
+                        ';
         }
         $prinHtml .= '
-                            <tr>
-                                <td colspan="2">
-                                    <p>' . PG_ADMINCBU_P_NOTA_FORM . '</p>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2" align="right">
-                                    <input type="submit" id="" class="p-button p-button-submit" name="" value="' . PG_ADMINCBU_BTN_GUARDAR . '" />
+						
+						<div class="col-12 mt-2 mb-2">
+							<p>' . PG_ADMINCBU_P_NOTA_FORM . '</p>
+						</div>
+						<div class="col-12">
+							<input type="submit" id="" class="p-button p-button-submit" name="" value="' . PG_ADMINCBU_BTN_GUARDAR . '" />
                                     <a href="' . URL_SITIO . '/' . $usuaPagina . '" class="p-button">' . PG_ADMINCBU_BTN_CANCELAR . '</a>
-                                </td>
-                            </tr>
-                        </tbody>
-                    </table>
-                </form>
+						</div>
+					</div>
+						
+				</form>
+				
             </div>';
         } else {
             $prinHtml .= '
-                        <div id="retSaldo" class="detallecuerpo">
+                        <div id="retSaldo" class="detallecuerpo container-fluid">
                             <h1>' . PG_ADMINCBU_H1_AGREGAR_CUENTA_BANCARIA . '</h1>
                             <div class="no_retiro">
@@ -934,97 +904,77 @@
 
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_ADMINCBU_H1_CONFIRMAR_INFORMACION . '</h1>
-            <form id="frmCBU" action="' . URL_SITIO . '/' . $usuaPagina . '&hac=savecbu" method="post">
-                <input type="hidden" name="confirmacion" value="10" />
-                <table id="tblFrmCBU" class="informacion" cellpadding="0" cellspacing="0" border="0">
-                    <tbody>
-                        <tr>
-                            <td width="280">
-                                <label>' . PG_ADMINCBU_LBL_PAIS . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $_SESSION['temp_info_cbu']['nombre_pais'] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_BANCO . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $nombre_banco . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TIPO_CUENTA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . acbuGetNombreTipoCBU($_SESSION['temp_info_cbu']['id_tipo_cuenta_bancaria_usuario'], $campo_tipo_cbu) . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_NUMERO_CUENTA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $_SESSION['temp_info_cbu']['numero_cuenta'] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TITULAR_CUENTA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $_SESSION['temp_info_cbu']['titular_cuenta'] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TIPO_MONEDA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . acbuGetNombreMonedaCBU($_SESSION['temp_info_cbu']['id_pais'], $_SESSION['temp_info_cbu']['id_cuenta_tipo']) . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TIPO_IDENTIFICACION . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . acbuGetNombreTipoIdentificacion($_SESSION['temp_info_cbu']['id_tipo_identificacion']) . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $_SESSION['temp_info_cbu']['numero_identificacion'] . '</label>
-                            </td>
-                        </tr>';
+			
+			<form id="frmCBU" action="' . URL_SITIO . '/' . $usuaPagina . '&hac=savecbu" method="post">
+				<input type="hidden" name="confirmacion" value="10" />
+				<div class="row informacion" id="tblFrmCBU"><!-- start row -->
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_PAIS . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . $_SESSION['temp_info_cbu']['nombre_pais'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_BANCO . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . $nombre_banco . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_CUENTA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . acbuGetNombreTipoCBU($_SESSION['temp_info_cbu']['id_tipo_cuenta_bancaria_usuario'], $campo_tipo_cbu) . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_CUENTA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . $_SESSION['temp_info_cbu']['numero_cuenta'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TITULAR_CUENTA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . $_SESSION['temp_info_cbu']['titular_cuenta'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_MONEDA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . acbuGetNombreMonedaCBU($_SESSION['temp_info_cbu']['id_pais'], $_SESSION['temp_info_cbu']['id_cuenta_tipo']) . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_IDENTIFICACION . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . acbuGetNombreTipoIdentificacion($_SESSION['temp_info_cbu']['id_tipo_identificacion']) . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . $_SESSION['temp_info_cbu']['numero_identificacion'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>';
     $array_paises_nit = acbuGetPaisesNIT();
     if (in_array($_SESSION['temp_info_cbu']['id_pais'], $array_paises_nit)) {
         
         $prinHtml .= '
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION_TRIBUTARIA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $_SESSION['temp_info_cbu']['numero_identificacion_tributaria'] . '</label>
-                            </td>
-                        </tr>';
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION_TRIBUTARIA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9">
+						' . $_SESSION['temp_info_cbu']['numero_identificacion_tributaria'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>';
     }
     $prinHtml .= '
-                        <tr>
-                            <td colspan="2" align="right">
-                                <input type="submit" id="btn_confirmar" class="p-button p-button-submit" name="btn_confirmar" value="' . PG_ADMINCBU_BTN_CONFIRMAR . '" />
-                                <a href="' . URL_SITIO . '/' . $usuaPagina . '&hac=addcbu" class="p-button">' . PG_ADMINCBU_BTN_EDITAR . '</a>
-                            </td>
-                        </tr>
-                    </tbody>
-                </table>
-            </form>
+	
+					<div class="col-12 mt-2 mb-2">
+						<input type="submit" id="btn_confirmar" class="p-button p-button-submit" name="btn_confirmar" value="' . PG_ADMINCBU_BTN_CONFIRMAR . '" />
+						<a href="' . URL_SITIO . '/' . $usuaPagina . '&hac=addcbu" class="p-button">' . PG_ADMINCBU_BTN_EDITAR . '</a>
+					</div>
+				</div>
+			</form>
+			
         </div>';
 }
@@ -1364,103 +1314,78 @@
 
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_ADMINCBU_H1_DETALLE_CUENTA_BANCARIA . '</h1>
             <div id="divCBUDetail">
-                <table id="tblFrmCBU" class="informacion" cellpadding="0" cellspacing="0" border="0">
-                    <tbody>
-                        <tr>
-                            <td width="280">
-                                <label>' . PG_ADMINCBU_LBL_PAIS . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU[$campo_pais_cbu] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_BANCO . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU['nombre_banco'] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TIPO_CUENTA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU[$campo_tipo_cbu] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_NUMERO_CUENTA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU['numero_cuenta'] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TITULAR_CUENTA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU['titular_cuenta'] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TIPO_MONEDA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . acbuGetNombreMonedaCBU($id_pais, $array_CBU['id_cuenta_tipo']) . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_TIPO_IDENTIFICACION . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . acbuGetNombreTipoIdentificacion($array_CBU['id_tipo_identificacion']) . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU['numero_identificacion'] . '</label>
-                            </td>
-                        </tr>';
-    
+				<div class="row informacion" id="tblFrmCBU"><!-- start row -->
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_PAIS . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU[$campo_pais_cbu] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_BANCO . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU['nombre_banco'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_CUENTA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU[$campo_tipo_cbu] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_CUENTA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU['numero_cuenta'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TITULAR_CUENTA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU['titular_cuenta'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_MONEDA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . acbuGetNombreMonedaCBU($id_pais, $array_CBU['id_cuenta_tipo']) . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_TIPO_IDENTIFICACION . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . acbuGetNombreTipoIdentificacion($array_CBU['id_tipo_identificacion']) . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU['numero_identificacion'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>';
     $array_paises_nit = acbuGetPaisesNIT();
     if (in_array($id_pais, $array_paises_nit)) {
         
         $prinHtml .= '
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION_TRIBUTARIA . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU['numero_identificacion_tributaria'] . '</label>
-                            </td>
-                        </tr>';
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_NUMERO_DOCUMENTO_IDENTIFICACION_TRIBUTARIA . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU['numero_identificacion_tributaria'] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>';
     }
     $prinHtml .= '
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINCBU_LBL_ESTADO . '</label>
-                            </td>
-                            <td>
-                                <label class="lbl_data">' . $array_CBU[$campo_estado_cbu] . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td colspan="2" align="right">
-                                <a href="' . URL_SITIO . '/' . $usuaPagina . '" class="p-button">' . PG_ADMINCBU_BTN_REGRESAR . '</a>
-                            </td>
-                        </tr>
-                    </tbody>
-                </table>
+					<div class="col-12 col-sm-5 col-lg-3">' . PG_ADMINCBU_LBL_ESTADO . '</div>
+					<div class="col-12 col-sm-7 col-lg-9 lbl_data">
+						' . $array_CBU[$campo_estado_cbu] . '
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 mt-2 mb-2">
+						<a href="' . URL_SITIO . '/' . $usuaPagina . '" class="p-button">' . PG_ADMINCBU_BTN_REGRESAR . '</a>
+					</div>
+				</div>
+                
             </div>
         </div>';
Index: branches/b-20180319.02/modulos/adminpos/funciones.php
===================================================================
--- trunk/modulos/adminpos/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/adminpos/funciones.php	(revision 3579)
@@ -63,5 +63,5 @@
     
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_ADMINPOS_H1_TITULO_PTP_NO_HABILITADO . '</h1>
             <p>' . PG_ADMINPOS_P_MENSAJE_PTP_NO_HABILITADO . '</p>
@@ -102,5 +102,5 @@
     // imprimir listado de sucursales
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_ADMINPOS_H1_TITULO_LISTADO_SUCURSALES . '</h1>
             ' . $msj . '
@@ -110,49 +110,49 @@
                 <a id="linkAgregarTerminal" class="p-button p-button-submit" href="' . $usuaPagina . '&hac=agregar_terminal">' . PG_ADMINPOS_LINK_AGREGAR_TERMINAL . '</a>
             </div>
-            <table id="tblTrans" class="tblListadoSucursales" cellpadding="0" cellspacing="0">
-                <thead>
-                    <tr>
-                        <th>' . PG_ADMINPOS_LS_TH_FECHA_CREACION . '</th>
-                        <th>' . PG_ADMINPOS_LS_TH_NOMBRE . '</th>
-                        <th>' . PG_ADMINPOS_LS_TH_NOMBRE_ENCARGADO . '</th>
-                        <th>' . PG_ADMINPOS_LS_TH_DIRECCION . '</th>
-                        <th>' . PG_ADMINPOS_LS_TH_TELEFONO . '</th>
-                        <th>' . PG_ADMINPOS_LS_TH_NUM_TERMINALES . '</th>
-                    </tr>
-                </thead>
-                <tfoot>
-                    <tr>
-                        <td colspan="6" align="right">';
-
-    if (count($array_sucursales) > 0) {
-
-        $prinHtml .= $ObjPaginator->display_pages();
-    }
-    $prinHtml .= '
-                        </td>
-                    </tr>
-                </tfoot>
-                <tbody>';
-
-    if (count($array_sucursales) > 0) {
-        
-        $cont_sucursales = 1;
-        foreach ($array_sucursales as $obj_sucursal) {
-
-            $prinHtml .= '
-                    <tr class="' . ($cont_sucursales % 2 == 0 ? 'odd' : 'even') . '">
-                        <td>' . $obj_sucursal->creation_date . '</td>
-                        <td>' . $obj_sucursal->name . '</td>
-                        <td>' . $obj_sucursal->manager_name . '</td>
-                        <td>' . $obj_sucursal->address . '</td>
-                        <td>' . $obj_sucursal->phone_number . '</td>
-                        <td class="td_center">' . $obj_sucursal->count_terminals . '</td>
-                    </tr>';
-            $cont_sucursales++;
-        }
-    }
-    $prinHtml .= '
-                </tbody>
-            </table>
+			<div class="table-responsive-md">
+				<table id="tblTrans" class="tblListadoSucursales table" cellpadding="0" cellspacing="0">
+					<thead>
+						<tr>
+							<th>' . PG_ADMINPOS_LS_TH_FECHA_CREACION . '</th>
+							<th>' . PG_ADMINPOS_LS_TH_NOMBRE . '</th>
+							<th>' . PG_ADMINPOS_LS_TH_NOMBRE_ENCARGADO . '</th>
+							<th>' . PG_ADMINPOS_LS_TH_DIRECCION . '</th>
+							<th>' . PG_ADMINPOS_LS_TH_TELEFONO . '</th>
+							<th>' . PG_ADMINPOS_LS_TH_NUM_TERMINALES . '</th>
+						</tr>
+					</thead>
+					
+					<tbody>';
+
+		if (count($array_sucursales) > 0) {
+			
+			$cont_sucursales = 1;
+			foreach ($array_sucursales as $obj_sucursal) {
+
+				$prinHtml .= '
+						<tr class="' . ($cont_sucursales % 2 == 0 ? 'odd' : 'even') . '">
+							<td>' . $obj_sucursal->creation_date . '</td>
+							<td>' . $obj_sucursal->name . '</td>
+							<td>' . $obj_sucursal->manager_name . '</td>
+							<td>' . $obj_sucursal->address . '</td>
+							<td>' . $obj_sucursal->phone_number . '</td>
+							<td class="td_center">' . $obj_sucursal->count_terminals . '</td>
+						</tr>';
+				$cont_sucursales++;
+			}
+		}
+		$prinHtml .= '
+					</tbody>
+				</table>
+			</div>
+			<div>';
+
+		if (count($array_sucursales) > 0) {
+
+			$prinHtml .= $ObjPaginator->display_pages();
+		}
+		$prinHtml .= '
+					
+			</div>
         </div>';
 }
@@ -199,52 +199,47 @@
     // imprimir formulario;
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo  container-fluid">
             <h1>' . PG_ADMINPOS_AS_H1_AGREGAR_SUCURSAL . '</h1>
             <p>' . PG_ADMINPOS_AS_P_INDICACIONES_FORM . '</p>
             ' . $msg . $msg_val . '
             <form id="frmAgregarSucursal" action="' . $usuaPagina . '&hac=validar_sucursal" method="post">
-                <table id="tblFrmAgregarSucursal" class="informacion" cellpadding="0" cellspacing="0" border="0">
-                    <tbody>
-                        <tr>
-                            <td width="280">
-                                <label>' . PG_ADMINPOS_AS_LBL_NOMBRE . '</label>
-                            </td>
-                            <td>
-                                <input type="text" id="name" name="name" class="validate[\'required\']" value="' . $info_sucursal['name'] . '" />
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINPOS_AS_LBL_NOMBRE_ENCARGADO . '</label>
-                            </td>
-                            <td>
-                                <input type="text" id="manager_name" name="manager_name" class="validate[\'required\']" value="' . $info_sucursal['manager_name'] . '" />
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINPOS_AS_LBL_TELEFONO . '</label>
-                            </td>
-                            <td>
-                                <input type="text" id="phone_number" name="phone_number" class="validate[\'required\']" value="' . $info_sucursal['phone_number'] . '" />
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINPOS_AS_LBL_DIRECCION . '</label>
-                            </td>
-                            <td>
-                                <textarea id="address" name="address" class="validate[\'required\']">' . $info_sucursal['address'] . '</textarea>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td colspan="2" align="right">
-                                <br><br>
-                                <input type="submit" id="" class="p-button p-button-submit" name="" value="' . PG_ADMINPOS_AS_BTN_GUARDAR . '" />
-                                <a href="' . $usuaPagina . '&hac=sucursales" class="p-button">' . PG_ADMINPOS_AS_BTN_CANCELAR . '</a>
-                            </td>
-                        </tr>
-                    </tbody>
-                </table>
+				<div id="tblFrmAgregarSucursal" class="informacion">
+					
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AS_LBL_NOMBRE . '</label>
+						<div class="col-md-7 col-lg-4">	
+							<input type="text" id="name" name="name" class="form-control validate[\'required\']" value="' . $info_sucursal['name'] . '" />
+						</div>
+					</div>
+					
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AS_LBL_NOMBRE_ENCARGADO . '</label>
+						<div class="col-md-7 col-lg-4">	
+							<input type="text" id="manager_name" name="manager_name" class="form-control validate[\'required\']" value="' . $info_sucursal['manager_name'] . '" />
+						</div>
+					</div>
+					
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AS_LBL_TELEFONO . '</label>
+						<div class="col-md-7 col-lg-4">	
+							<input type="text" id="phone_number" name="phone_number" class="form-control validate[\'required\']" value="' . $info_sucursal['phone_number'] . '" />
+						</div>
+					</div>
+					
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AS_LBL_DIRECCION . '</label>
+						<div class="col-md-7 col-lg-4">	
+							<textarea id="address" name="address" class="form-control validate[\'required\']">' . $info_sucursal['address'] . '</textarea>
+						</div>
+					</div>
+					
+					<div class="form-group row text-right">
+						<div class="col-md-10 col-lg-7">
+							<input type="submit" id="" class="p-button p-button-submit" name="" value="' . PG_ADMINPOS_AS_BTN_GUARDAR . '" />
+							<a href="' . $usuaPagina . '&hac=sucursales" class="p-button">' . PG_ADMINPOS_AS_BTN_CANCELAR . '</a>
+						</div>
+					</div>
+				</div>
+                
             </form>
         </div>';
@@ -453,5 +448,5 @@
     // imprimir listado de terminales
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo  container-fluid">
             <h1>' . PG_ADMINPOS_H1_TITULO_LISTADO_TERMINALES . '</h1>
             ' . $msj . '
@@ -460,51 +455,50 @@
                 <a id="linkListadoSucursales" class="p-button p-button-submit" href="' . $usuaPagina . '&hac=sucursales">' . PG_ADMINPOS_LINK_LISTADO_SUCURSALES . '</a>
             </div>
-            <table id="tblTrans" class="tblListadoTerminales" cellpadding="0" cellspacing="0">
-                <thead>
-                    <tr>
-                        <th>' . PG_ADMINPOS_LT_TH_FECHA_CREACION . '</th>
-                        <th>' . PG_ADMINPOS_LT_TH_SUCURSAL . '</th>
-                        <th>' . PG_ADMINPOS_LT_TH_NOMBRE . '</th>
-                        <th>' . PG_ADMINPOS_LT_TH_TIPO . '</th>
-                        <th>' . PG_ADMINPOS_LT_TH_ESTADO . '</th>
-                        <th>' . PG_ADMINPOS_LT_CONFIGURACIONES . '</th>
-                    </tr>
-                </thead>
-                <tfoot>
-                    <tr>
-                        <td colspan="6" align="right">';
-
-    if (count($array_terminales) > 0) {
-
-        $prinHtml .= $ObjPaginator->display_pages();
-    }
-    $prinHtml .= '
-                        </td>
-                    </tr>
-                </tfoot>
-                <tbody>';
-
-    if (count($array_terminales) > 0) {
-        
-        $cont_terminales = 1;
-        foreach ($array_terminales as $obj_terminal) {
-
-            $prinHtml .= '
-                    <tr class="' . ($cont_terminales % 2 == 0 ? 'odd' : 'even') . '">
-                        <td>' . $obj_terminal->creation_date . '</td>
-                        <td>' . $obj_terminal->branch_office_name . '</td>
-                        <td>' . $obj_terminal->name . '</td>
-                        <td class="td_center">' . $obj_terminal->terminal_type . '</td>
-                        <td class="td_center">' . ($obj_terminal->enabled ? PG_ADMINPOS_LT_TD_ESTADO_HABILITADO : PG_ADMINPOS_LT_TD_ESTADO_DESHABILITADO) . '</td>
-                        <td class="td_center">
-                            <a class="" href="' . $usuaPagina . '&hac=credenciales_terminal&id_terminal=' . $obj_terminal->id_ws_card_present_terminal . '">' . PG_ADMINPOS_LINK_VER_CREDENCIALES_TERMINAL . '</a>
-                        </td>
-                    </tr>';
-            $cont_terminales++;
-        }
-    }
-    $prinHtml .= '
-                </tbody>
-            </table>
+			<div class="table-responsive-md">
+				<table id="tblTrans" class="tblListadoTerminales table" cellpadding="0" cellspacing="0">
+					<thead>
+						<tr>
+							<th>' . PG_ADMINPOS_LT_TH_FECHA_CREACION . '</th>
+							<th>' . PG_ADMINPOS_LT_TH_SUCURSAL . '</th>
+							<th>' . PG_ADMINPOS_LT_TH_NOMBRE . '</th>
+							<th>' . PG_ADMINPOS_LT_TH_TIPO . '</th>
+							<th>' . PG_ADMINPOS_LT_TH_ESTADO . '</th>
+							<th>' . PG_ADMINPOS_LT_CONFIGURACIONES . '</th>
+						</tr>
+					</thead>
+					
+					<tbody>';
+
+		if (count($array_terminales) > 0) {
+			
+			$cont_terminales = 1;
+			foreach ($array_terminales as $obj_terminal) {
+
+				$prinHtml .= '
+						<tr class="' . ($cont_terminales % 2 == 0 ? 'odd' : 'even') . '">
+							<td>' . $obj_terminal->creation_date . '</td>
+							<td>' . $obj_terminal->branch_office_name . '</td>
+							<td>' . $obj_terminal->name . '</td>
+							<td class="td_center">' . $obj_terminal->terminal_type . '</td>
+							<td class="td_center">' . ($obj_terminal->enabled ? PG_ADMINPOS_LT_TD_ESTADO_HABILITADO : PG_ADMINPOS_LT_TD_ESTADO_DESHABILITADO) . '</td>
+							<td class="td_center">
+								<a class="" href="' . $usuaPagina . '&hac=credenciales_terminal&id_terminal=' . $obj_terminal->id_ws_card_present_terminal . '">' . PG_ADMINPOS_LINK_VER_CREDENCIALES_TERMINAL . '</a>
+							</td>
+						</tr>';
+				$cont_terminales++;
+			}
+		}
+		$prinHtml .= '
+					</tbody>
+				</table>
+			</div>
+			<div>';
+		
+			if (count($array_terminales) > 0) {
+
+				$prinHtml .= $ObjPaginator->display_pages();
+			}
+		$prinHtml .= '
+			</div>
         </div>';
 }
@@ -753,5 +747,5 @@
     // imprimir formulario;
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo  container-fluid">
             <h1>' . PG_ADMINPOS_AT_H1_AGREGAR_TERMINAL . '</h1>
             <p>' . PG_ADMINPOS_AT_P_INDICACIONES_FORM . '</p>
@@ -766,79 +760,75 @@
     $prinHtml .= '
                 <input type="hidden" name="device_fingerprint_id" id="device_fingerprint_id" value="javascript:cybs_dfprofiler(\'' . DFID_MERCHAT_ID . '\', \'' . DFID_ENVIROMENT . '\');" />
-                <table id="tblFrmAgregarTerminal" class="informacion" cellpadding="0" cellspacing="0" border="0">
-                    <tbody>
-                        <tr>
-                            <td width="280">
-                                <label>' . PG_ADMINPOS_AT_LBL_SUCURSAL . '</label>
-                            </td>
-                            <td>
-                                <select id="id_ws_card_present_branch_office" name="id_ws_card_present_branch_office" class="validate[\'required\']">
-                                    ' . adminposCrearOptionsSucursales($info_terminal['id_ws_card_present_branch_office']) . '
-                                </select>
-                                &nbsp;&nbsp;&nbsp;
-                                <a class="" href="' . $usuaPagina . '&hac=agregar_sucursal">' . PG_ADMINPOS_LINK_AGREGAR_SUCURSAL . '</a>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINPOS_AT_LBL_TIPO . '</label>
-                            </td>
-                            <td>
-                                <select id="id_ws_card_present_terminal_type" name="id_ws_card_present_terminal_type" class="validate[\'required\']">
-                                    ' . adminposCrearOptionsTipoTerminal($info_terminal['id_ws_card_present_terminal_type']) . '
-                                </select>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td width="280">
-                                <label>' . PG_ADMINPOS_AT_LBL_NOMBRE . '</label>
-                            </td>
-                            <td>
-                                <input type="text" id="name" name="name" class="validate[\'required\']" value="' . $info_terminal['name'] . '" />
-                            </td>
-                        </tr>
-                        <tr>
-                            <td colspan="2">
-                                <p>' . PG_ADMINPOS_AT_P_PRECIOS_L1 . '</p>
-                                <ul>
-                                    <li>' . PG_ADMINPOS_AT_P_PRECIOS_PC . number_format($costo_pc_pos, 2) . '</li>
-                                    <li>' . PG_ADMINPOS_AT_P_PRECIOS_MOBILE . number_format($costo_mobile_pos, 2) . '</li>
-                                </ul>
-                                <p>' . PG_ADMINPOS_AT_P_PRECIOS_L2 . '</p>
-                                <p>' . PG_ADMINPOS_AT_P_INDICACIONES_PAGO . '</p>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINPOS_AT_LBL_SALDO_DISPONIBLE . '</label>
-                            </td>
-                            <td>
-                                <strong>US $' . number_format($saldo_disponible_usuario, 2) . '</strong>
-                            </td>
-                        </tr>';
-    if ($mostrar_tarjetas) {
-    
-        $prinHtml .= '
-                        <tr>
-                            <td>
-                                <label>' . PG_ADMINPOS_AT_LBL_TARJETA . '</label>
-                            </td>
-                            <td>
-                                <select id="id_tarjeta" name="id_tarjeta" class="validate[\'required\']">
-                                    ' . adminposCrearOptionsTarjetas($info_terminal['id_tarjeta']) . '
-                                </select>
-                            </td>
-                        </tr>';
-    }
-    $prinHtml .= '
-                        <tr>
-                            <td colspan="2" align="right">
-                                <br>
-                                <input type="submit" id="" class="p-button p-button-submit" name="" value="' . PG_ADMINPOS_AT_BTN_GUARDAR . '" />
-                                <a href="' . $usuaPagina . '&hac=terminales" class="p-button">' . PG_ADMINPOS_AT_BTN_CANCELAR . '</a>
-                            </td>
-                        </tr>
-                    </tbody>
-                </table>
+                
+				<div id="tblFrmAgregarTerminal" class="informacion">
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AT_LBL_SUCURSAL . '</label>
+						<div class="col-md-9">	
+							<select id="id_ws_card_present_branch_office" name="id_ws_card_present_branch_office" class="form-control validate[\'required\']">
+								' . adminposCrearOptionsSucursales($info_terminal['id_ws_card_present_branch_office']) . '
+							</select>
+							&nbsp;&nbsp;&nbsp;
+							<a class="d-block d-md-inline-block mt-1 mt-md-0" href="' . $usuaPagina . '&hac=agregar_sucursal">' . PG_ADMINPOS_LINK_AGREGAR_SUCURSAL . '</a>
+					   
+						</div>
+					</div>
+					
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AT_LBL_TIPO . '</label>
+						<div class="col-md-9">	
+							<select id="id_ws_card_present_terminal_type" name="id_ws_card_present_terminal_type" class="form-control validate[\'required\']">
+								' . adminposCrearOptionsTipoTerminal($info_terminal['id_ws_card_present_terminal_type']) . '
+							</select>
+						</div>
+					</div>
+					
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AT_LBL_NOMBRE . '</label>
+						<div class="col-md-9">	
+							<input type="text" id="name" name="name" class="form-control validate[\'required\']" value="' . $info_terminal['name'] . '" />
+						</div>
+					</div>
+					
+					<div class="form-group row">
+						
+						<div class="col-md-12">	
+							<p>' . PG_ADMINPOS_AT_P_PRECIOS_L1 . '</p>
+							<ul>
+								<li>' . PG_ADMINPOS_AT_P_PRECIOS_PC . number_format($costo_pc_pos, 2) . '</li>
+								<li>' . PG_ADMINPOS_AT_P_PRECIOS_MOBILE . number_format($costo_mobile_pos, 2) . '</li>
+							</ul>
+							<p>' . PG_ADMINPOS_AT_P_PRECIOS_L2 . '</p>
+							<p>' . PG_ADMINPOS_AT_P_INDICACIONES_PAGO . '</p>
+						</div>
+					</div>
+					
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AT_LBL_SALDO_DISPONIBLE . '</label>
+						<div class="col-md-9">	
+							<strong>US $' . number_format($saldo_disponible_usuario, 2) . '</strong>
+						</div>
+					</div>';
+					
+		if ($mostrar_tarjetas) {
+    
+			$prinHtml .= '
+					<div class="form-group row">
+						<label class="col-md-3">' . PG_ADMINPOS_AT_LBL_TARJETA . '</label>
+						<div class="col-md-9">	
+							<select id="id_tarjeta" name="id_tarjeta" class="form-control validate[\'required\']">
+								' . adminposCrearOptionsTarjetas($info_terminal['id_tarjeta']) . '
+							</select>
+						</div>
+					</div>
+					';
+		}
+					
+		$prinHtml .= '			
+					<div class="form-group text-right">
+						<input type="submit" id="" class="p-button p-button-submit" name="" value="' . PG_ADMINPOS_AT_BTN_GUARDAR . '" />
+                        <a href="' . $usuaPagina . '&hac=terminales" class="p-button">' . PG_ADMINPOS_AT_BTN_CANCELAR . '</a>
+					</div>
+				</div>
+				
             </form>
         </div>
@@ -1070,5 +1060,5 @@
         // pantalla de gracias e indicaciones
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_ADMINPOS_H1_TERMINAL_CREADA . '</h1>';
         if ($tipo_terminal == ADMINPOS_TIPO_TERMINAL_PC_POS) {
@@ -1079,11 +1069,9 @@
                 <br>
                 <p class="p_center">
-                    <a class="p-button p-button-submit" href="' . $usuaPagina . '&hac=descargar_pc_pos">' . PG_ADMINPOS_LINK_DESCARGAR_APLICACION_PC . '</a>
-                    <br>
-                    <br>
-                    <br>
-                    <a class="p-button p-button-submit" href="' . URL_SITIO . PG_ADMINPOS_URL_LINK_DESCARGAR_MANUAL_PC . '" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_MANUAL_PC . '</a>
-                    <a class="p-button p-button-submit" href="' . $usuaPagina . '&hac=credenciales_terminal&id_terminal=' . $id_terminal . '">' . PG_ADMINPOS_LINK_VER_CREDENCIALES_CONFIGURACION . '</a>
-                    <a class="p-button" href="' . $usuaPagina . '&hac=terminales">' . PG_ADMINPOS_LINK_REGRESAR_LISTADO_TERMINALES . '</a>
+                    <a class="p-button p-button-submit  mt-md-1" href="' . $usuaPagina . '&hac=descargar_pc_pos">' . PG_ADMINPOS_LINK_DESCARGAR_APLICACION_PC . '</a>
+                    
+                    <a class="p-button p-button-submit mt-md-1" href="' . URL_SITIO . PG_ADMINPOS_URL_LINK_DESCARGAR_MANUAL_PC . '" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_MANUAL_PC . '</a>
+                    <a class="p-button p-button-submit mt-md-1" href="' . $usuaPagina . '&hac=credenciales_terminal&id_terminal=' . $id_terminal . '">' . PG_ADMINPOS_LINK_VER_CREDENCIALES_CONFIGURACION . '</a>
+                    <a class="p-button mt-md-1" href="' . $usuaPagina . '&hac=terminales">' . PG_ADMINPOS_LINK_REGRESAR_LISTADO_TERMINALES . '</a>
                 </p>';
         } else if($tipo_terminal == ADMINPOS_TIPO_TERMINAL_MOBILE_POS) {
@@ -1094,12 +1082,10 @@
                 <br>
                 <p class="p_center">
-                    <a class="p-button p-button-submit" href="#" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_APLICACION_ANDROID . '</a>
-                    <a class="p-button p-button-submit" href="#" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_APLICACION_IOS . '</a>
-                    <br>
-                    <br>
-                    <br>
-                    <a class="p-button p-button-submit" href="' . URL_SITIO . PG_ADMINPOS_URL_LINK_DESCARGAR_MANUAL_MOBILE . '" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_MANUAL_MOBILE . '</a>
-                    <a class="p-button p-button-submit" href="' . $usuaPagina . '&hac=credenciales_terminal&id_terminal=' . $id_terminal . '">' . PG_ADMINPOS_LINK_VER_CREDENCIALES_CONFIGURACION . '</a>
-                    <a class="p-button" href="' . $usuaPagina . '&hac=terminales">' . PG_ADMINPOS_LINK_REGRESAR_LISTADO_TERMINALES . '</a>
+                    <a class="p-button p-button-submit mt-md-1" href="#" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_APLICACION_ANDROID . '</a>
+                    <a class="p-button p-button-submit mt-md-1" href="#" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_APLICACION_IOS . '</a>
+                    
+                    <a class="p-button p-button-submit mt-md-1" href="' . URL_SITIO . PG_ADMINPOS_URL_LINK_DESCARGAR_MANUAL_MOBILE . '" target="_blank">' . PG_ADMINPOS_LINK_DESCARGAR_MANUAL_MOBILE . '</a>
+                    <a class="p-button p-button-submit mt-md-1" href="' . $usuaPagina . '&hac=credenciales_terminal&id_terminal=' . $id_terminal . '">' . PG_ADMINPOS_LINK_VER_CREDENCIALES_CONFIGURACION . '</a>
+                    <a class="p-button mt-md-1" href="' . $usuaPagina . '&hac=terminales">' . PG_ADMINPOS_LINK_REGRESAR_LISTADO_TERMINALES . '</a>
                 </p>';
         }
@@ -1134,5 +1120,5 @@
             
             $prinHtml .= '
-                <div class="detallecuerpo">
+                <div class="detallecuerpo container-fluid">
                     <h1>' . PG_ADMINPOS_H1_CREDENCIALES_CONFIGURACION_TERMINAL . '</h1>
                     <p>' . PG_ADMINPOS_P_INDICACIONES_CREDENCIALES_CONFIGURACION_TERMINAL . '</p>
@@ -1187,5 +1173,5 @@
                                 <br>
                                 <br>
-                                <a class="p-button p-button-submit" href="' . $usuaPagina . '&hac=terminales">' . PG_ADMINPOS_LINK_REGRESAR_LISTADO_TERMINALES . '</a>';
+                                <a class="p-button p-button-submit mb-sm-2" href="' . $usuaPagina . '&hac=terminales">' . PG_ADMINPOS_LINK_REGRESAR_LISTADO_TERMINALES . '</a>';
             if ($obj_terminal_info->id_ws_card_present_terminal_type == ADMINPOS_TIPO_TERMINAL_PC_POS) {
                 
@@ -1233,5 +1219,5 @@
     $sha1_linux = '13baebb94d552789338eaa6cec260d0d39afa059';
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_ADMINPOS_H1_TITULO_DESCARGAR_APLICACION_PC . '</h1>
             <p>' . PG_ADMINPOS_P_DESCARGAR_APLICACION_PC . '</p>
Index: branches/b-20180319.02/modulos/dashboard/funciones.php
===================================================================
--- trunk/modulos/dashboard/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/dashboard/funciones.php	(revision 3579)
@@ -28,10 +28,10 @@
     //Definiendo valores por defecto y diccionario
     $iroles = 0;
-    $num_accesos_por_fila = 7;
+    $num_accesos_por_fila = 15;
     //Recorrido de los roles para imprimir las secciones
     foreach ($roles_privilegios as $seccion) {
         $iprivilegios = $jprivilegios = 0;
         $prinHtml .= '
-        <div class="section">
+        <div class="section container-fluid pg-section-dashboard">
             <p id="title-'.$seccion["codigo"].'" class="section-title">'.$seccion["titulo"].'</p>
         ';
@@ -40,5 +40,5 @@
         if (in_array($seccion["codigo"], array("saldo", "saldousu"))) {
             
-            $prinHtml .= '<div class="wide-content">';
+            $prinHtml .= '<div class="wide-content container-fluid"><div class="row">';
             
             //Se recorren los privilegios para la impresión de su acceso
@@ -70,15 +70,17 @@
                 //Impresión del acceso del privilegio
                 $prinHtml .= '
-            <div class="' . $class . '-content">
-                <div class="access first-access">
-                    <a href="' . $privilegio["url"] . '" title="">
-                        <img id="icon-' . $privilegio["codigo"] . '" src="' . URL_PG . '/img/pixel.png" title="' . $privilegio["titulo"] . '" />
-                        <p>' . $privilegio["titulo"] . '</p>
-                    </a>
-                </div>
-                <div class="total">
-                    <p>US$&nbsp;<strong>' . $monto . '</strong></p>
-                    <a href="' . $privilegio["url"] . '" title="">' . PG_TXT_VER_DETALLE . '</a>
-                </div>
+            <div class="' . $class . '-content col-md-6 col-lg-4">
+                <div class="row"><!-- start row -->
+					<div class="access first-access col-4">
+						<a href="' . $privilegio["url"] . '" title="">
+							<img id="icon-' . $privilegio["codigo"] . '" src="' . URL_PG . '/img/pixel.png" title="' . $privilegio["titulo"] . '" />
+							<p>' . $privilegio["titulo"] . '</p>
+						</a>
+					</div>
+					<div class="total col-8">
+						<p>US$&nbsp;<strong>' . $monto . '</strong></p>
+						<a href="' . $privilegio["url"] . '" title="">' . PG_TXT_VER_DETALLE . '</a>
+					</div>
+				</div><!-- end row -->
             </div>
                 ';
@@ -88,10 +90,11 @@
             $prinHtml .= '
             <div class="clear"></div>
-            </div>
+            </div><!-- end row -->
+			</div>
             ';
         } else {
             //Para los roles con código diferente a saldo
             $prinHtml .= '
-            <div class="wide-content">
+            <div class="wide-content container-fluid">
             ';
             
@@ -102,5 +105,5 @@
                 if ($iprivilegios == 0) {
                     $prinHtml .= '
-                <div class="row-content'.($jprivilegios == 0 ? ' first-row-content' : '').'">
+                <div class="row row-content'.($jprivilegios == 0 ? ' first-row-content' : '').'">
                     ';
                 }
@@ -109,5 +112,5 @@
                 if ($privilegio["url"]!="#") {
                     $prinHtml .= '
-                        <div class="access'.($iprivilegios == 0 ? ' first-access' : '').'">
+                        <div class="col-4 col-md-2 col-sm-3 pb-4 access'.($iprivilegios == 0 ? ' first-access' : '').'">
                             <a href="'.$privilegio["url"].'" title="">
                                 <img id="icon-'.$privilegio["codigo"].'" title="'.$privilegio["titulo"].'" src="' . URL_PG . '/img/pixel.png" />
@@ -118,5 +121,5 @@
                 } else {
                     $prinHtml .= '
-                        <div class="access disabled'.($iprivilegios == 0 ? ' first-access' : '').'">
+                        <div class="col-4 col-md-2 col-sm-3 pb-4 access disabled'.($iprivilegios == 0 ? ' first-access' : '').'">
                             <img id="icon-'.$privilegio["codigo"].'" title="'.$privilegio["titulo"].'" src="' . URL_PG . '/img/pixel.png"/>
                             <p>'.$privilegio["titulo"].'</p>
@@ -157,48 +160,54 @@
     if($Progreso->valor < 100){
         $prinHtml .= "
-            <div id='dhb_progreso'>
-                <div id='dhb_left'>
-                    <p id='dhb_p_porcentaje'><strong>$Progreso->valor%</strong> " . PG_DASHBOARD_BARRA_PROGRESO . "</p>
-                    <div id='dhb_bp_back'>
-                        <div id='dhb_bp_activo' style='width: $Progreso->valor% !important;' class=''></div>
-                    </div>
-                </div>
-                <div id='dhb_right'>
-                    <p id='dhb_p_indicacacion'>" . PG_DASHBOARD_YA_CASI . "</p>
-                    <div id='dhb_pasos_faltantes'>
-                        <ul id='dhb_ul_pasos_faltantes'>
+            <div class='container-fluid pg-section-dashboard'>
+				<div id='dhb_progreso' class='row'>
+					<div id='dhb_left' class='align-self-sm-center col-md-5'>
+						<p id='dhb_p_porcentaje'><strong>$Progreso->valor%</strong> " . PG_DASHBOARD_BARRA_PROGRESO . "</p>
+						<div id='dhb_bp_back' class='mb-4'>
+							<div id='dhb_bp_activo' style='width: $Progreso->valor% !important;' class=''></div>
+						</div>
+					</div>
+					<div id='dhb_right' class='col-md-7'>
+						<p id='dhb_p_indicacacion' class='row'>" . PG_DASHBOARD_YA_CASI . "</p>
+						<div id='dhb_pasos_faltantes'>
+							<ul id='dhb_ul_pasos_faltantes'>
+			";
+			foreach($Progreso->html_items as $html_item){
+				$prinHtml .= "
+								<li>$html_item</li>
+				";
+			}
+			$prinHtml .= "
+							</ul>
+						</div>
+					</div>
+					<div class='dhb_clear'></div>
+				</div>
+            </div>
         ";
-        foreach($Progreso->html_items as $html_item){
-            $prinHtml .= "
-                            <li>$html_item</li>
-            ";
-        }
-        $prinHtml .= "
-                        </ul>
-                    </div>
-                </div>
-                <div class='dhb_clear'></div>
-            </div>
-        ";
+		
     }
     elseif(!$Progreso->es_registro_completo_confirmado ()){
         $prinHtml .= "
-            <div id='dhb_progreso'>
-                <div id='dhb_left'>
-                    <p id='dhb_p_porcentaje'><strong>$Progreso->valor%</strong> " . PG_DASHBOARD_BARRA_PROGRESO . "</p>
-                    <div id='dhb_bp_back'>
-                        <div id='dhb_bp_activo' style='width: $Progreso->valor% !important;' class=''></div>
-                    </div>
-                </div>
-                <div id='dhb_right'>
-                    <p id='dhb_p_indicacacion'>" . PG_DASHBOARD_REGISTRO_COMPLETADO . "</p>
-                    <div id='dhb_pasos_faltantes'>
-                        <ul id='dhb_ul_pasos_faltantes'>
-                            <li>". PG_DASHBOARD_REGISTRO_COMPLETADO_TEXTO ."</li>
-                        </ul>
-                    </div>
-                </div>
-                <div class='dhb_clear'></div>
-            </div>
+			<div class='container-fluid pl-0 pr-0'>
+				<div id='dhb_progreso' class='row'>
+					<div id='dhb_left' class='align-self-sm-center col-md-5'>
+						<p id='dhb_p_porcentaje'><strong>$Progreso->valor%</strong> " . PG_DASHBOARD_BARRA_PROGRESO . "</p>
+						<div id='dhb_bp_back' class='mb-4'>
+							<div id='dhb_bp_activo' style='width: $Progreso->valor% !important;' class=''></div>
+						</div>
+					</div>
+					<div id='dhb_right' class='col-md-7'>
+						<p id='dhb_p_indicacacion' class='row'>" . PG_DASHBOARD_YA_CASI . "</p>
+						<div id='dhb_pasos_faltantes'>
+							<ul id='dhb_ul_pasos_faltantes'>
+								<li>". PG_DASHBOARD_REGISTRO_COMPLETADO_TEXTO ."</li>
+							</ul>
+						</div>
+					</div>
+					<div class='dhb_clear'></div>
+				</div>
+            </div>
+            
         ";
         $Progreso->set_registro_completo_confirmado();
Index: branches/b-20180319.02/modulos/enlacepago/funciones.php
===================================================================
--- trunk/modulos/enlacepago/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/enlacepago/funciones.php	(revision 3579)
@@ -8,5 +8,5 @@
     
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_ENLACEPAGO_NO_DISPONIBLE . '</h1>
             <p>' . PG_ENLACEPAGO_NO_DISPONIBLE_MENSAJE . '</p>
@@ -57,5 +57,5 @@
     
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
         <h1>' . PG_ENLACEPAGO_TITULO . '</h1>';
     if (isset($_GET['msj']) && $_GET['msj'] != '') {
@@ -75,5 +75,6 @@
             <a class="p-button p-button-submit" href="index.php?mod=enlacepago&hac=new" title="' . PG_ENLACEPAGO_BOTON_NUEVO . '" alt="' . PG_ENLACEPAGO_BOTON_NUEVO . '">' . PG_ENLACEPAGO_BOTON_NUEVO . '</a>
         </div> 
-        <table id="tblTrans" class="" cellpadding="0" cellspacing="0">
+		<div class="table-responsive-md">
+			<table id="tblTrans" class="table" cellpadding="0" cellspacing="0">
                     <thead>
                         <tr>
@@ -86,10 +87,13 @@
                     </thead>
                 <tbody>';
-    $url_paginator = URL_SITIO . '/index.php?mod=enlacepago';
-    $enlaces_generados = enlace_obtenerEnlacesGenerados();
-    $num_enlaces = count($enlaces_generados);
+    $url_paginator = URL_SITIO . '/';
+    $num_enlaces = enlace_numeroEnlacesGenerados();
+    $filtros = array();
     if ($num_enlaces > 0){
         $ObjPaginator = new Paginator($num_enlaces, 7, array(25), $url_paginator);
-    }
+        $filtros['limit_inic'] = $ObjPaginator->limit_start;
+	$filtros['limit_fin'] = $ObjPaginator->limit_end;
+    }
+    $enlaces_generados = enlace_obtenerEnlacesGenerados($filtros);
     $i = 1;
     foreach($enlaces_generados as $enlace) {
@@ -105,11 +109,13 @@
     $prinHtml .= '
                 </tbody>
-            </table>';
+            </table>
+		</div>';
     if ($num_enlaces > 0){
-        $prinHtml .= '<div class="pagination">'. $ObjPaginator->display_pages() . '</div>';
+        $prinHtml .= '<div class="pagination w-100">'. $ObjPaginator->display_pages() . '</div>';
     }        
     
     $prinHtml .= '
-            </div>';
+            <div class="clear"></div>
+            </div><!-- container-fluid -->';
 }
 
@@ -125,5 +131,5 @@
     $datos = enlace_obtenerDatos();
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
         <h1>' . PG_ENLACEPAGO_TITULO_NUEVO . '</h1>';
     if ($error) {
@@ -133,35 +139,30 @@
     $prinHtml .= '
             <form id="frmEnlace" name="frmEnlace" method="POST" action="index.php?mod=enlacepago&hac=check">
-                <div class="left">
-                    <table class="tblInvoiceFields">
-                        <tbody>
-                            <tr>
-                                <td colspan="2">' . PG_ENLACEPAGO_TITULO_ENLACE . '</td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <input type="text" name="txtTitulo" id="txtTitulo" value="' . $datos->titulo . '" />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">' . PG_ENLACEPAGO_ERN . '</td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <input type="text" name="txtIdentificador" id="txtIdentificador" maxlength="40" value="' . $datos->identificador . '" />
-                                </td>
-                            </tr>
-                        </tbody>
-                    </table>
+                
+				<div class="left pt-0 pb-0">
+					<div class="tblInvoiceFields row  pt-0 pb-0">
+						<div class="form-group col-md-4 col-sm-6 pt-0 pb-0">
+							<label>'.PG_ENLACEPAGO_TITULO_ENLACE.'</label>
+							<input type="text" name="txtTitulo" id="txtTitulo" value="' . $datos->titulo . '" class="form-control"/>
+							
+						</div>
+						<div class="clearfix"></div>
+						<div class="form-group col-md-4 col-sm-6 pt-0 pb-0">
+							<label>'.PG_ENLACEPAGO_ERN.'</label>
+							<input type="text" name="txtIdentificador" id="txtIdentificador" maxlength="40" value="' . $datos->identificador . '" class="form-control"/>
+						</div>
+					</div>
+                    
                 </div>
-                <div class="clear"></div>
-                <div id="items">
-                    <table id="tblItems">
+			
+
+                <div id="items" class="table-responsive-md pt-0 pb-0">
+                    <table id="tblItems" class="table pg-table-fixed">
                         <thead>
                             <tr>
-                                <th>' . PG_CONCEPTO . '</th>
-                                <th>' . PG_PRECIO . '</th>
-                                <th>' . PG_CANTIDAD . '</th>
-                                <th>' . PG_TOTAL . '</th>
+                                <th style="width: 40%">'.PG_CONCEPTO.'</th>
+                                <th style="width: 20%">'.PG_PRECIO.'</th>
+                                <th style="width: 14%">'.PG_CANTIDAD.'</th>
+                                <th style="width: 16%">'.PG_TOTAL.'</th>
                             </tr>
                         </thead>
@@ -195,14 +196,17 @@
                         </tbody>
                     </table>
-                    <label id="lbTotal">$ ' . (isset($total_items) && $total_items > 0 ? number_format($total_items, 2) : "0.00") . '</label>
-                    <input type="button" name="btnAgregar" id="btnAgregar" value="+" />
-                    <input type="button" name="btnEliminar" id="btnEliminar" value="-" />
-                    <div class="clear"></div>
-                <div id="botones">
-                    <input type="submit" name="btnSiguiente" id="btnSiguiente" class="p-button right p-button-submit" value="' . PG_ENLACEPAGO_GENERAR . '" />
+				</div>
+				
+				<div class="text-right w-100 pt-0 pb-0">
+					<input type="button" name="btnAgregar" id="btnAgregar" value="+" />
+					<input type="button" name="btnEliminar" id="btnEliminar" value="-" />
+					<label id="lbTotal">$ ' . (isset($total_items) && $total_items > 0 ? number_format($total_items, 2) : "0.00") . '</label>
+					
+				</div>
+                <div class="clear"></div>
+                <div id="botones" class="text-right w-100 mt-4 pt-0 pb-0">
+                    <input type="submit" name="btnSiguiente" id="btnSiguiente" class="p-button p-button-submit" value="' . PG_ENLACEPAGO_GENERAR . '" />
                 </div>
             </form>';
-    $prinHtml .= '
-        </div>';
 }
 
@@ -448,5 +452,5 @@
     $token_enlace = $_GET['tk'];
     $prinHtml .= '
-                <div class="detallecuerpo">
+                <div class="detallecuerpo container-fluid">
                     <h1>' . PG_ENLACEPAGO_TITULO . '</h1>
                     <p id="success" class="_info"><span class="info_inner">' . PG_ENLACEPAGO_MENSAJE_CORRECTO . '</span></p>
@@ -472,7 +476,8 @@
  * @global obj $db objeto con la conexion a la base de datos
  * @global string $raizPG ruta del directorio del proyecto
+ * @param array $filtros filtros utilizados para paginar los resultados
  * @return array $enlaces_generados array con los datos de los enlaces generados
  */
-function enlace_obtenerEnlacesGenerados(){
+function enlace_obtenerEnlacesGenerados($filtros){
     global $db, $raizPG;
     include_once $raizPG . 'librerias/class.Comercio.php';
@@ -496,4 +501,7 @@
             GROUP BY id_enlace_pago
             ORDER BY fecha_filtro DESC';
+    if(isset($filtros["limit_inic"])){
+            $sql .= " LIMIT " . $filtros["limit_inic"] . ", " . $filtros["limit_fin"] . "";
+        }
     try {
         $resultado = $db->query($sql);
@@ -538,2 +546,32 @@
     }
 }
+
+/**
+ * obtiene todos los enlaces activos que un comercio ha generado
+ * @global obj $db objeto con la conexion a la base de datos
+ * @global string $raizPG ruta del directorio del proyecto
+ * @return array $enlaces_generados array con los datos de los enlaces generados
+ */
+function enlace_numeroEnlacesGenerados(){
+    global $db, $raizPG;
+    include_once $raizPG . 'librerias/class.Comercio.php';
+    $comercio = new Comercio($_SESSION['usuaPagaditoUsuario'], $db);
+    $enlaces = 0;
+    $sql = 'SELECT
+                count(*) as total
+            FROM
+                pg_enlaces_pagos
+            WHERE
+                id_comercio_afiliado = ' . $comercio->info_comercio['id_comercio_afiliado'] . '
+                AND activo = 1';
+    try {
+        $resultado = $db->query($sql);
+        if ($resultado->numRows() == 1) {
+            $resultado->fetchInto($enlaces);
+        }
+    } catch (Exception $exc) {
+        inicRegistrarError($exc->getMessage(), 'Obteniendo el numero de enlaces generados, Comercio: ' . $comercio->info_comercio['id_comercio_afiliado']);
+    }
+
+    return $enlaces['total'];
+}
Index: branches/b-20180319.02/modulos/envfondos/funciones.php
===================================================================
--- trunk/modulos/envfondos/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/envfondos/funciones.php	(revision 3579)
@@ -30,5 +30,5 @@
     $loading = inicShowLoading('Validando Datos.');
     $prinHtml .= $loading . '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <script>
                 var com_valor_porcentual = ' . $com["valor_porcentual"] . ';
@@ -38,127 +38,101 @@
             <h1>' . PG_ENVFONDOS_TT_ENVIO_FONDOS . '</h1>
             ' . $msg . '
-            <table class="cuenta" border="0">
-                <tr>
-                    <td>' . $err . '</td>
-                </tr>
-                <tr>
-                    <td>
-                        <form id="frmEnviarDinero" name="frmEnviarDinero" method="post" action="' . ($puede_enviar ? $tranPagina . '&hac=efnd' : '') . '">
-                            <table class="informacion" style="margin-top: 2px; width: 700px;" border="0">
-                                <tbody name="tblEnvioDinero" id="tblEnvioDinero">
-                                    <tr>
-                                        <td style="width: 320px;">' . PG_ENVFONDOS_LBL_SALDO_DISPONIBLE_EN_MI_PAGADITO . '</td>
-                                        <td style="width: 50px;"></td>
-                                        <td style=""><span style="font-weight: bold;">US$&nbsp;' . number_format($saldo_disponible_enviar, 2, '.', ',') . '&nbsp;</span></td>
-                                    </tr>
-                                    <tr>
-                                        <td colspan="3"></td>
-                                    </tr>
-                                    <tr>
-                                        <td colspan="3">
-                                            ' . PG_ENVFONDOS_LBL_SI_NO_TIENE_SUFICIENTES_FONDOS . '<a href="index.php?mod=recargo&rd=' . urlencode($_SERVER['QUERY_STRING']) . '">' . PG_ENVFONDOS_LINK_AQUI . '</a>.
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td colspan="3"></td>
-                                    </tr>
-                                    <tr>
-                                        <td>' . PG_ENVFONDOS_LBL_CUENTA_MI_PAGADITO_DESTINATARIO . '</td>
-                                        <td></td>
-                                        <td>
-                                            <input name="cuenta" id="_cuenta" type="text" class="vl_correo" style="width: 300px;" value="' . $aDatos[0] . '" />
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td>' . PG_ENVFONDOS_LBL_MONTO . '</td>
-                                        <td></td>
-                                        <td>
-                                            US$&nbsp;<input name="monto" id="_monto" type="text" size="12" class="vl_dinero" value="' . $aDatos[1] . '" />&nbsp;
-                                            <input name="monto_enviar" id="_monto_enviar" type="hidden" value="' . $aDatos[7] . '" />
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td>' . PG_ENVFONDOS_LBL_COMISION . ' <span id="_comision"></span>?</td>
-                                        <td></td>
-                                        <td>
-                                            <input type="radio" id="paga_com_1" name="paga_com" class="paga_com" value="1" ' . (isset($aDatos[5]) && $aDatos[5] == "1" ? 'checked' : '') . '>
-                                            <label for="paga_com_1" class="lbl_paga_com">' . PG_ENVFONDOS_LBL_COMISION_CUENTA . '</label> &nbsp;
-                                            <input type="radio" id="paga_com_2" name="paga_com" class="paga_com" value="2" ' . ((isset($aDatos[5]) && $aDatos[5] == "2") || !isset($aDatos[5]) ? 'checked' : '') . '>
-                                            <label for="paga_com_2" class="lbl_paga_com">' . PG_ENVFONDOS_LBL_COMISION_DESTINATARIO . '</label>
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td>' . PG_ENVFONDOS_LBL_MONTO_RECIBIR . '</td>
-                                        <td></td>
-                                        <td>
-                                            US$&nbsp;<input name="monto_destinatario" id="_monto_destinatario" type="text" size="12" class="vl_dinero" value="' . $aDatos[6] . '" readonly  />&nbsp;
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td>' . PG_ENVFONDOS_LBL_NUMERO_DE_REFERENCIA . '</td>
-                                        <td></td>
-                                        <td>
-                                            <input name="numero_referencia" id="_numero_referencia" type="text" size="45" class="vl_dinero" style="width: 300px;" value="' . $aDatos[8] . '" autocomplete="off" onpaste="return false;" />&nbsp;
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td>' . PG_ENVFONDOS_LBL_CONFIRMAR_NUMERO_DE_REFERENCIA . '</td>
-                                        <td></td>
-                                        <td>
-                                            <input name="cfm_numero_referencia" id="_cfm_numero_referencia" type="text" class="vl_dinero" style="width: 300px;" value="' . $aDatos[9] . '"  autocomplete="off" onpaste="return false;" />&nbsp;
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td style="vertical-align: top;">' . PG_ENVFONDOS_LBL_CONCEPTO . '</td>
-                                        <td></td>
-                                        <td>
-                                            <textarea name="mensaje" id="_mensaje" style="height: 50px; width: 300px;" class="vl_contenido">' . $aDatos[3] . '</textarea>
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td colspan="3">&nbsp;</td>
-                                    </tr>
-                                    <tr>
-                                        <td colspan="3">
-                                            <span style="font-weight: bold;">
-                                                ' . str_replace(array("<porcentual>", "<constante>"), array(number_format(($com["valor_porcentual"] * 100), 2), ($com["valor_constante"] > 0 ? " + $" . number_format($com["valor_constante"], 2) : "")), PG_ENVFONDOS_LBL_LA_COMISION_POR_TRANSFERENCIA_DE_FONDOS) . '
-                                                <br /><br />
-                                                ' . PG_ENVFONDOS_LBL_SI_DESEA_BAJAR . '
-                                                <br /><br />
-                                                ' . PG_ENVFONDOS_LBL_PARA_CUEALQUIER . '
-                                            </span>
-                                        </td>
-                                    </tr>
-                                    <tr>';
-    if ($puede_enviar) {
-        
-        $prinHtml .= '
-                                        <td></td>
-                                        <td></td>
-                                        <td align="right">
+			
+			<div class="row"><!-- start row -->
+				<div class="col-12">
+					' . $err . '
+				</div>
+				<div class="col-12 mt-2">
+					<form id="frmEnviarDinero" name="frmEnviarDinero" method="post" action="' . ($puede_enviar ? $tranPagina . '&hac=efnd' : '') . '">
+						<div class="row informacion" name="tblEnvioDinero" id="tblEnvioDinero"><!-- start row -->
+							<div class="col-12 col-sm-5">' . PG_ENVFONDOS_LBL_SALDO_DISPONIBLE_EN_MI_PAGADITO . '</div>
+							<div class="col-12 col-sm-7"><b>US$&nbsp;' . number_format($saldo_disponible_enviar, 2, '.', ',') . '</b></div>
+							<div class="col-12 mt-3 mb-3">' . PG_ENVFONDOS_LBL_SI_NO_TIENE_SUFICIENTES_FONDOS . '<a href="index.php?mod=recargo&rd=' . urlencode($_SERVER['QUERY_STRING']) . '">' . PG_ENVFONDOS_LINK_AQUI . '</a>.</div>
+							<div class="col-12 mt-1 mb-1"></div>
+							<div class="col-12 col-sm-5">' . PG_ENVFONDOS_LBL_CUENTA_MI_PAGADITO_DESTINATARIO . '</div>
+							<div class="col-12 col-sm-7"><input name="cuenta" id="_cuenta" type="text" class="vl_correo" style="width: 300px;" value="' . $aDatos[0] . '" /></div>
+							<div class="col-12 mt-1 mb-1"></div>
+							
+							<div id="_alertas" class="pg-alert-envfnd"></div>
+							
+							<div class="col-12 col-sm-5">' . PG_ENVFONDOS_LBL_MONTO . '</div>
+							<div class="col-12 col-sm-7">
+								US$&nbsp;<input name="monto" id="_monto" type="text" size="12" class="vl_dinero" value="' . $aDatos[1] . '" />&nbsp;
+										<input name="monto_enviar" id="_monto_enviar" type="hidden" value="' . $aDatos[7] . '" />
+							</div>
+							
+							<div class="col-12 mt-2 mb-2"></div>
+							<div class="col-12 col-sm-5 align-self-center">' . PG_ENVFONDOS_LBL_COMISION . ' <span id="_comision"></span>?</div>
+							<div class="col-12 col-sm-7 mt-2 mt-sm-0">
+								<input type="radio" id="paga_com_1" name="paga_com" class="paga_com" value="1" ' . (isset($aDatos[5]) && $aDatos[5] == "1" ? 'checked' : '') . '>
+								<label for="paga_com_1" class="lbl_paga_com">' . PG_ENVFONDOS_LBL_COMISION_CUENTA . '</label> &nbsp;
+								<div class="w-100">&nbsp;</div>
+								<input type="radio" id="paga_com_2" name="paga_com" class="paga_com" value="2" ' . ((isset($aDatos[5]) && $aDatos[5] == "2") || !isset($aDatos[5]) ? 'checked' : '') . '>
+								<label for="paga_com_2" class="lbl_paga_com">' . PG_ENVFONDOS_LBL_COMISION_DESTINATARIO . '</label>
+							</div>
+							<div class="col-12 mt-2 mb-2"></div>
+							<div class="col-12 col-sm-5">' . PG_ENVFONDOS_LBL_MONTO_RECIBIR . '</div>
+							<div class="col-12 col-sm-7">
+								US$&nbsp;<input name="monto_destinatario" id="_monto_destinatario" type="text" size="12" class="vl_dinero" value="' . $aDatos[6] . '" readonly  />
+							</div>
+							
+							<div class="col-12 mt-1 mb-1"></div>
+							<div class="col-12 col-sm-5">' . PG_ENVFONDOS_LBL_NUMERO_DE_REFERENCIA . '</div>
+							<div class="col-12 col-sm-7">
+								<input name="numero_referencia" id="_numero_referencia" type="text" size="45" class="vl_dinero" style="width: 300px;" value="' . $aDatos[8] . '" autocomplete="off" onpaste="return false;" />
+							</div>
+							<div class="col-12 mt-1 mb-1"></div>
+							<div class="col-12 col-sm-5">' . PG_ENVFONDOS_LBL_CONFIRMAR_NUMERO_DE_REFERENCIA . '</div>
+							<div class="col-12 col-sm-7">
+								<input name="cfm_numero_referencia" id="_cfm_numero_referencia" type="text" class="vl_dinero" style="width: 300px;" value="' . $aDatos[9] . '"  autocomplete="off" onpaste="return false;" />
+							</div>
+							<div class="col-12 mt-1 mb-1"></div>
+							<div class="col-12 col-sm-5">' . PG_ENVFONDOS_LBL_CONCEPTO . '</div>
+							<div class="col-12 col-sm-7">
+								<textarea name="mensaje" id="_mensaje" style="height: 50px; width: 300px;" class="vl_contenido">' . $aDatos[3] . '</textarea>
+							</div>
+							
+							<div class="col-12 mt-4 mb-2">
+								<span style="font-weight: bold;">
+									' . str_replace(array("<porcentual>", "<constante>"), array(number_format(($com["valor_porcentual"] * 100), 2), ($com["valor_constante"] > 0 ? " + $" . number_format($com["valor_constante"], 2) : "")), PG_ENVFONDOS_LBL_LA_COMISION_POR_TRANSFERENCIA_DE_FONDOS) . '
+									<br /><br />
+									' . PG_ENVFONDOS_LBL_SI_DESEA_BAJAR . '
+									<br /><br />
+									' . PG_ENVFONDOS_LBL_PARA_CUEALQUIER . '
+								</span>
+							</div>
+							
+							<div class="col-12 col-lg-9 col-md-9 mt-4 pr-lg-5 text-right">';
+							
+							if ($puede_enviar) {
+        
+								$prinHtml .= '
+                                        
                                             <input type="hidden" name="codigo_ref" value="' . $id_transaccion_codigo . '" />
                                             <input class="p-button p-button-submit" id="enviar" name="enviar" type="submit" value="' . PG_ENVFONDOS_BTN_SIGUIENTE . '" />
                                             <a class="p-button" href="./index.php" onclick="overlay()">' . PG_ENVFONDOS_BTN_CANCELAR . '</a>
-                                        </td>';
-    } else {
-        
-        $msg = PG_ENVFONDOS_LBL_NO_DISPONE_DE_SALDO_SUFICIENTE . '<a href="./index.php?mod=recargo">' . PG_ENVFONDOS_LINK_RECARGAR_SALDO . '</a>';
-        $prinHtml .= '
-                                        <td colspan="3">' . iniCreaMsg($msg) . '</td>';
-    }
-    $prinHtml .= '
-                                    </tr>
-                                </tbody>
-                            </table>
-                            <div id="_alertas" style="color: #FF0000;float:left"></div>
-                            <span id="_fondoCasilla"></span>
-                            <span id="_pais_estados"></span>
-                            <span id="pais_estados_aux"></span>
-                            <input name="tipotr" type="hidden" value="' . $idFormaPgAcrd . '" />
-                            <input name="vp" type="hidden" />
-                        </form>
-                    </td>
-                </tr>
-            </table>
+                                        ';
+							} else {
+								
+								$msg = PG_ENVFONDOS_LBL_NO_DISPONE_DE_SALDO_SUFICIENTE . '<a href="./index.php?mod=recargo">' . PG_ENVFONDOS_LINK_RECARGAR_SALDO . '</a>';
+								$prinHtml .= '
+											' . iniCreaMsg($msg) . '';
+							}
+								
+						$prinHtml .= '		
+							</div>
+							
+						</div><!-- end row -->
+						
+						
+						<span id="_fondoCasilla"></span>
+						<span id="_pais_estados"></span>
+						<span id="pais_estados_aux"></span>
+						<input name="tipotr" type="hidden" value="' . $idFormaPgAcrd . '" />
+						<input name="vp" type="hidden" />
+					</form>
+				</div>
+			</div>
+            
         </div>';
 }
@@ -287,84 +261,82 @@
         $loading = inicShowLoading(PG_ENVFONDOS_LBL_SHOW_LOADING);
         $prinHtml .= $loading . '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_ENVFONDOS_TT_COMPROBACION_ENVIO_FONDOS . '</h1>
-                <table class="cuenta" border="0">
-                    <tr>
-                        <td>' . $mConfirmacion . '</td>
-                    </tr>
-                    <tr>
-                        <td>
-                            <form id="frmEnviarDinero2" name="frmEnviarDinero2" method="post" action="' . $tranPagina . '&hac=cprb" onsubmit="overlay()">
-                                <table class="informacion" style="margin-top: 2px; width: 700px;" border="0">
-                                    <tbody name="tblEnvioDinero" id="tblEnvioDinero">
-                                        <tr>
-                                            <td width="300">' . PG_ENVFONDOS_LBL_CUENTA_MI_PAGADITO_DESTINATARIO . '</td>
-                                            <td colspan="3" width="400">
-                                                ' . $cuenta . '
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td colspan="4">&nbsp;</td>
-                                        </tr>
-                                        <tr>
-                                            <td width="300">' . PG_ENVFONDOS_LBL_MONTO_SOLICITADO_ENVIO . '</td>
-                                            <td width="10">US$&nbsp;</td>
-                                            <td width="90" align="right">
-                                                ' . number_format($monto, 2, '.', ',') . '&nbsp;
-                                            </td>
-                                            <td width="300"></td>
-                                        </tr>
-                                        <tr>
-                                            <td width="300">' . PG_ENVFONDOS_LBL_COMISION_POR_ENVIO . '</td>
-                                            <td width="10">US$&nbsp;</td>
-                                            <td width="90" align="right">
-                                                ' . number_format($cargoTr, 2, '.', ',') . '&nbsp;
-                                            </td>
-                                            <td width="300"></td>
-                                        </tr>
-                                        <tr>
-                                            <td><span style="font-weight: bold;">' . PG_ENVFONDOS_LBL_TOTAL_MONTO_ENVIAR . '</span></td>
-                                            <td width="50"><span style="font-weight: bold;">US$</span></td>
-                                            <td align="right">
-                                                <span style="font-weight: bold;">' . number_format($montoAenviar, 2, '.', ',') . '</span>&nbsp;<span style="font-weight: bold;"></span>
-                                            </td>
-                                            <td></td>
-                                        </tr>
-                                        <tr>
-                                            <td colspan="4">&nbsp;</td>
-                                        </tr>
-                                        <tr>
-                                            <td style="vertical-align: top;">' . PG_ENVFONDOS_LBL_NUMERO_DE_REFERENCIA . '</td>
-                                            <td colspan="3">' . $numero_referencia . '</td>
-                                        </tr>
-                                        <tr>
-                                            <td style="vertical-align: top;">' . PG_ENVFONDOS_LBL_CONCEPTO . '</td>
-                                            <td colspan="3">' . $mensaje . '</td>
-                                        </tr>
-                                        <tr>
-                                            <td>' . PG_ENVFONDOS_LBL_INGRESE_NUEVAMENTE_SU_PASSWORD_PAGADITO . '</td>
-                                            <td colspan="3">
-                                                <input name="clave" id="_clave" autocomplete="off" type="password" class="vl_clave" value="" /><br />
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td></td>
-                                            <td colspan="3">
-                                                <input  class="p-button p-button-submit" id="enviar" name="enviar" type="submit" value="' . PG_ENVFONDOS_BTN_CONFIRMAR_ENVIO_FONDOS . '"/>
-                                                <a class="p-button" href="' . $tranPagina . '&hac=efnd" onclick="overlay()">' . PG_ENVFONDOS_LINK_MODIFICAR . '</a>
-                                                <a class="p-button" href="./index.php" onclick="overlay()">' . PG_ENVFONDOS_BTN_CANCELAR . '</a>
-                                            </td>
-                                        </tr>
-                                    </tbody>
-                                </table>
-                                <div id="_alertas" style="color: #FF0000;float:left"></div>
-                                <span id="_fondoCasilla"></span>
-                                <span id="_pais_estados"></span>
-                                <span id="pais_estados_aux"></span>
-                                <input name="vp" type="hidden" />
-                            </form>
-                        </td>
-                    </tr>
-                </table>
+				<form id="frmEnviarDinero2" name="frmEnviarDinero2" method="post" action="' . $tranPagina . '&hac=cprb" onsubmit="overlay()">
+					<div class="row mt-4 informacion" name="tblEnvioDinero" id="tblEnvioDinero">
+						<div class="col-12 mb-2">
+							' . $mConfirmacion . '
+						</div>
+						<div class="col-12 mb-3">
+							' . PG_ENVFONDOS_LBL_CUENTA_MI_PAGADITO_DESTINATARIO . ' ' . $cuenta . '
+						</div>
+						
+						<div class="col-5 col-sm-4 col-lg-3 mb-2">
+							' . PG_ENVFONDOS_LBL_MONTO_SOLICITADO_ENVIO . '
+						</div>
+						<div class="col-3 col-sm-2 col-lg-1 mb-2">
+							USD $&nbsp;
+						</div>
+						<div class="col-4 col-sm-6 mb-2">
+							' . number_format($monto, 2, '.', ',') . '
+						</div>
+						
+						<div class="col-5 col-sm-4 col-lg-3 mb-2">
+							' . PG_ENVFONDOS_LBL_COMISION_POR_ENVIO . '
+						</div>
+						<div class="col-3 col-sm-2 col-lg-1 mb-2">
+							USD $&nbsp;
+						</div>
+						<div class="col-4 col-sm-6 mb-2">
+							' . number_format($cargoTr, 2, '.', ',') . '
+						</div>
+						
+						<div class="col-5 col-sm-4 col-lg-3 mb-2">
+							<b>' . PG_ENVFONDOS_LBL_TOTAL_MONTO_ENVIAR . '</b>
+						</div>
+						<div class="col-3 col-sm-2 col-lg-1 mb-2">
+							<b>USD $&nbsp;</b>
+						</div>
+						<div class="col-4 col-sm-6 mb-2">
+							<b>' . number_format($montoAenviar, 2, '.', ',') . '</b>
+						</div>
+						
+						<div class="col-12 mt-2 mb-2"></div>
+						
+						<div class="col-5 col-sm-4 col-lg-3 mb-2">
+							' . PG_ENVFONDOS_LBL_NUMERO_DE_REFERENCIA . '
+						</div>
+						<div class="col-7 mb-2">
+							' . $numero_referencia . '
+						</div>
+						
+						<div class="col-5 col-sm-4  col-lg-3 mb-2">
+							' . PG_ENVFONDOS_LBL_CONCEPTO . '
+						</div>
+						<div class="col-7 mb-2">
+							' . $mensaje . '
+						</div>
+						
+						<div class="col-5 col-sm-4 col-lg-3 mb-2">
+							' . PG_ENVFONDOS_LBL_INGRESE_NUEVAMENTE_SU_PASSWORD_PAGADITO . '
+						</div>
+						<div class="col-7 mb-2">
+							<input name="clave" id="_clave" autocomplete="off" type="password" class="vl_clave" value="" />
+						</div>
+						
+						<div class="col-12 mt-3 mb-4">
+							<input  class="p-button p-button-submit" id="enviar" name="enviar" type="submit" value="' . PG_ENVFONDOS_BTN_CONFIRMAR_ENVIO_FONDOS . '"/>
+							<a class="p-button" href="' . $tranPagina . '&hac=efnd" onclick="overlay()">' . PG_ENVFONDOS_LINK_MODIFICAR . '</a>
+							<a class="p-button" href="./index.php" onclick="overlay()">' . PG_ENVFONDOS_BTN_CANCELAR . '</a>
+						</div>
+						
+					</div>
+					<div id="_alertas" style="color: #FF0000;float:left"></div>
+					<span id="_fondoCasilla"></span>
+					<span id="_pais_estados"></span>
+					<span id="pais_estados_aux"></span>
+					<input name="vp" type="hidden" />
+				</form>
+                
             </div>';
         return true;
@@ -523,62 +495,62 @@
                             $nt->enviarNotificaciones("PA-TRS-1002", -1, $destino, $params2);
                             $prinHtml .= '
-                                <div class="detallecuerpo" id="imp000">
+                                <div class="detallecuerpo container-fluid" id="imp000">
                                     <h1>' . PG_ENVFONDOS_TT_TRANSFERENCIA_REALIZADA . '</h1>
-                                    <table class="informacion" style="margin-top: 2px; width: 700px;" border="0">
-                                        <tbody name="tblEnvioDinero" id="tblEnvioDinero">
-                                            <tr>
-                                                <td width="200">' . PG_ENVFONDOS_LBL_MONTO_TRANFERIDO_A . '</td>
-                                                <td colspan="3">
-                                                    ' . $cuenta . '
-                                                </td>
-                                            </tr>
-                                            <tr>
-                                                <td width="200">' . PG_ENVFONDOS_LBL_NUMERO_DE_REFERENCIA . '</td>
-                                                <td colspan="3">
-                                                    ' . $numero_referencia . '
-                                                </td>
-                                            </tr>
-                                            <tr>
-                                                <td colspan="4">&nbsp;</td>
-                                            </tr>
-                                            <tr>
-                                                <td width="200">' . PG_ENVFONDOS_LBL_MONTO_SOLICITADO_ENVIO . '</td>
-                                                <td width="50">US$&nbsp;</td>
-                                                <td width="50" align="right">
-                                                    ' . number_format($monto, 2, '.', ',') . '&nbsp;
-                                                </td>
-                                                <td width="300"></td>
-                                            </tr>
-                                            <tr>
-                                                <td width="200">' . PG_ENVFONDOS_LBL_COMISION_POR_ENVIO . '</td>
-                                                <td width="50">US$&nbsp;</td>
-                                                <td width="50" align="right">
-                                                    ' . number_format($cargoTr, 2, '.', ',') . '&nbsp;
-                                                </td>
-                                                <td width="300"></td>
-                                            </tr>
-                                            <tr>
-                                                <td width="200"><span style="font-weight: bold;">' . PG_ENVFONDOS_LBL_TOTAL_MONTO_ENVIADO . '</span></td>
-                                                <td width="50"><span style="font-weight: bold;">US$</span></td>
-                                                <td width="50" align="right">
-                                                    <span style="font-weight: bold;">' . number_format($montoAenviar, 2, '.', ',') . '</span>
-                                                </td>
-                                                <td width="300"></td>
-                                            </tr>
-                                            <tr>
-                                                <td colspan="4">&nbsp;</td>
-                                            </tr>
-                                            <tr>
-                                                <td colspan="4" style="background: #AAA; padding: 0px; height: 1px;"></td>
-                                            <tr>
-                                            <tr>
-                                                <td></td>
-                                                <td colspan="3">
-                                                    <input class="p-button p-button-submit" id="enviar" name="enviar" type="button" value="' . PG_ENVFONDOS_BTN_IMPRIMIR . '" onclick="prtcnt(\'imp000\')" />
-                                                    <a class="p-button" href="./index.php" onclick="overlay()">' . PG_ENVFONDOS_LINK_CONTINUAR . '</a>
-                                                </td>
-                                            </tr>
-                                        </tbody>
-                                    </table>
+									<div class="row mt-4 informacion" name="tblEnvioDinero" id="tblEnvioDinero">
+																				
+										<div class="col-4 mb-2">
+											' . PG_ENVFONDOS_LBL_MONTO_TRANFERIDO_A . '
+										</div>
+										<div class="col-8 mb-2">
+											' . $cuenta . '
+										</div>
+										
+										<div class="col-4 mb-2">
+											' . PG_ENVFONDOS_LBL_NUMERO_DE_REFERENCIA . '
+										</div>
+										<div class="col-8 mb-2">
+											' . $numero_referencia . '
+										</div>
+										
+										<div class="col-12 mt-3 mb-3"></div>
+										
+										<div class="col-4 mb-2">
+											' . PG_ENVFONDOS_LBL_MONTO_SOLICITADO_ENVIO . '
+										</div>
+										<div class="col-3 mb-2">
+											USD $&nbsp;
+										</div>
+										<div class="col-5 mb-2">
+											' . number_format($monto, 2, '.', ',') . '
+										</div>
+										
+										<div class="col-4 mb-2">
+											' . PG_ENVFONDOS_LBL_COMISION_POR_ENVIO . '
+										</div>
+										<div class="col-3 mb-2">
+											USD $&nbsp;
+										</div>
+										<div class="col-5 mb-2">
+											' . number_format($cargoTr, 2, '.', ',') . '
+										</div>
+										
+										<div class="col-4 mb-2">
+											<b>' . PG_ENVFONDOS_LBL_TOTAL_MONTO_ENVIADO . '</b>
+										</div>
+										<div class="col-3 mb-2">
+											<b>USD $&nbsp;</b>
+										</div>
+										<div class="col-5 mb-2">
+											<b>' . number_format($montoAenviar, 2, '.', ',') . '</b>
+										</div>
+										
+										<div class="col-12 mt-2 mb-2">
+											<input class="p-button p-button-submit" id="enviar" name="enviar" type="button" value="' . PG_ENVFONDOS_BTN_IMPRIMIR . '" onclick="printDiv(\'imp000\')" />
+                                            <a class="p-button" href="./index.php" onclick="overlay()">' . PG_ENVFONDOS_LINK_CONTINUAR . '</a>
+										</div>
+										
+										
+									</div>
+                                    
                                 </div>';
                             if (isset($_SESSION['transferencia'])) {
Index: branches/b-20180319.02/modulos/home/funciones.php
===================================================================
--- trunk/modulos/home/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/home/funciones.php	(revision 3579)
@@ -10,5 +10,5 @@
  * se prohibe su uso no autorizado, asi como cualquier aleteracion
  * o agregar sin previa autorizacion.
- * 
+ *  
  * @author Edgard Rodas <edgard@intermall.com>
  * @version 1.0
@@ -16,7 +16,7 @@
  * @since
  */
-
+ 
 function homMostrar() {
-    global $ingresoAlea, $varCache, $idioma, $id_pais;
+    global $ingresoAlea, $varCache, $idioma, $id_pais, $tipoDispositivo;
     
     $verif = generarVerificacion($ingresoAlea);
@@ -45,4 +45,5 @@
             <title><?php echo PG_HOME_TITLE; ?></title>
             <meta charset="UTF-8">
+			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
             <meta name="description" content="<?php echo PG_HOME_DESCRIPTION; ?>" />
             <meta name="keywords" content="<?php echo PG_HOME_KEYWORDS; ?>" />
@@ -62,5 +63,7 @@
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/javascript/FancySelect/FancySelect.css<?= $varCache ?>">
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/simple-modal/css/simplemodal.css<?= $varCache ?>">
-            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/home.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/home_r.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/grid.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/pagadito_responsive.css<?= $varCache ?>">
             <?= getLinkHREFLANG('home'); ?>
             
@@ -78,137 +81,214 @@
             <div id="div_wrapper" class="country_<?= getNombrePaisByIDPais($id_pais, $idioma); ?>">
                 <div id="div_content">
-                    <header id="header">
-                        <a href="<?= getURLSEF('home'); ?>" id="a_logo">
-                            <h2>
-                                <img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagadito.jpg" alt="<?= PG_HOME_ALT_IMG_LOGO_PG; ?>" />
-                            </h2>
-                        </a>
-                        <div id="div_header_right">
-                            <nav id="nav_language">
-                                <a href="javascript:void(0);"><?= PG_GEN_LENGUAJE; ?></a>
-                                <div class="clear"></div>
-                                <ul>
-                                    <li>
-                                        <a id="es" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_CASTELLANO; ?></a>
-                                    </li>
-                                    <li>
-                                        <a id="en" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_ENGLISH; ?></a>
-                                    </li>
-                                </ul>
-                            </nav>
-                            <?php
-                             if ($id_pais == 2) {
-                            ?>
-                            <a href="<?= URL_SITIO; ?>/npe-numero-de-pago-electronico-en-linea">
-                                <div class="btn_pago_npe">
-                                    
-                                    <h2><?= PG_HOME_PAGUE_IMPUESTOS_NPE; ?></h2>
-                                    <h3 class="btn_npe_aqui"><?= PG_HOME_PAGUE_AQUI ?></h3>
-                                </div>
-                            </a>
-                            <?php
-                             }
-                            ?>
-                            
-                            <div class="clear"></div>
-                            <div id="div_login">
-                                <form id="frm-login" action="<?= isset($_COOKIE['lock']) ? "" : URL_SITIO . '/index.php?mod=usuarios&hac=iusu' ?>" method="post">
-                                    <div id="inputs">
-                                        <input type="input" name="correo" value="<?= isset($_SESSION["correo_login"]) ? $_SESSION["correo_login"] : ""; ?>" placeholder="<?= PG_HOME_LOGIN_CORREO; ?>" />
-                                        <input type="password" name="clave" value="" placeholder="<?= PG_HOME_LOGIN_PASSWORD; ?>" autocomplete="off" />
-                                        <?php if (isset($msg_lock) && $msg_lock != ""): ?>
-                                        <div id="globo-msg">
-                                            <p><?= $msg_lock ?></p>
-                                        </div>
-                                        <?php endif; ?>
-                                        <a id="link_recuperar_password" href="<?= URL_SITIO; ?>/index.php?mod=recuperar" title="<?= PG_HOME_LOGIN_RECUPERAR_PASSWORD_TITLE; ?>"><?= PG_HOME_LOGIN_RECUPERAR_PASSWORD; ?></a>
-                                    </div>
-                                    <div id="botones">
-                                        <input type="submit" class="pg_btn_gris" id="btn-iniciar-sesion" name="btn-iniciar-sesion" value="<?= PG_HOME_BTN_LOGIN; ?>" />
-                                        <input type="button" class="pg_btn_verde" id="btn-abra-su-billetera" name="btn-abra-su-billetera" value="<?= PG_HOME_BTN_ABRA_SU_BILLETERA; ?>" onClick="location.href = '<?= getURLSEF('acp'); ?>'" />
-                                    </div>
-                                    <input type="hidden" name="verif" value="<?= $verif ?>" />
-                                </form>
-                            </div>
-                        </div>
+                    <header id="header" class="container-fluid mb-sm-2 mb-md-0">
+						<div class="align-items-center d-flex justify-content-between row"><!-- start row -->
+							<div class="col-6 col-sm-5 col-md-3">
+								<a href="<?= getURLSEF('home'); ?>" id="a_logo">
+									<h2>
+										<img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagadito.jpg" alt="<?= PG_HOME_ALT_IMG_LOGO_PG; ?>" class="img-fluid" />
+									</h2>
+								</a>
+							</div>
+							<div class="col-6 col-sm-1 col-md-1">
+								<!-- start menu mobile -->
+								<div id="pg-nav-icon" onclick="pg_open_menu();">
+								  <span></span>
+								  <span></span>
+								  <span></span>
+								</div>
+							</div>
+							<div class="col-12 col-sm-6 col-md-8">
+								<div id="div_header_right">
+									<div class="row justify-content-end"><!-- start row -->
+										<div class="col-auto idioma">
+											<nav id="nav_language">
+												<a href="javascript:void(0);"><?= PG_GEN_LENGUAJE; ?></a>
+												<div class="clear"></div>
+												<ul>
+													<li>
+														<a id="es" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_CASTELLANO; ?></a>
+													</li>
+													<li>
+														<a id="en" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_ENGLISH; ?></a>
+													</li>
+												</ul>
+											</nav>
+										</div>
+										
+									</div><!-- end row -->
+									
+									
+										<div id="div_login" class="align-items-end">
+                                                                                   
+											<form id="frm-login" action="<?= isset($_COOKIE['lock']) ? "" : URL_SITIO . '/index.php?mod=usuarios&hac=iusu' ?>" method="post">
+												<div class="row justify-content-end"><!-- start row -->
+                                                                                                    <?php
+                                                                                                        if ($id_pais == 2) {
+                                                                                                       ?>
+                                                                                                       <div class="col-sm-12 col-lg-6">
+                                                                                                               <a href="<?= URL_SITIO; ?>/npe-numero-de-pago-electronico-en-linea">
+                                                                                                                       <div class="btn_pago_npe">
+
+                                                                                                                               <h2><?= PG_HOME_PAGUE_IMPUESTOS_NPE; ?></h2>
+                                                                                                                               <h3 class="btn_npe_aqui"><?= PG_HOME_PAGUE_AQUI ?></h3>
+                                                                                                                       </div>
+                                                                                                               </a>
+                                                                                                       </div>
+                                                                                                       <?php
+                                                                                                        }
+                                                                                                       ?>
+													<div id="inputs" class="col-12 col-sm-12 col-lg-6">
+														<input type="input" name="correo" value="<?= isset($_SESSION["correo_login"]) ? $_SESSION["correo_login"] : ""; ?>" placeholder="<?= PG_HOME_LOGIN_CORREO; ?>" />
+														<input type="password" name="clave" value="" placeholder="<?= PG_HOME_LOGIN_PASSWORD; ?>" autocomplete="off" />
+														<?php if (isset($msg_lock) && $msg_lock != ""): ?>
+														<div id="globo-msg">
+															<p><?= $msg_lock ?></p>
+														</div>
+														<?php endif; ?>
+                                                                                                                <br>
+                                                                                                            <div id="botones" class="">
+                                                                                                                <input type="submit" class="pg_btn_gris" id="btn-iniciar-sesion" name="btn-iniciar-sesion" value="<?= PG_HOME_BTN_LOGIN; ?>" />
+                                                                                                                <a class="recuperar_pass" href="<?= URL_SITIO; ?>/index.php?mod=recuperar" title="<?= PG_HOME_LOGIN_RECUPERAR_PASSWORD_TITLE; ?>"><?= PG_HOME_LOGIN_RECUPERAR_PASSWORD; ?></a>
+                                                                                                                <input type="button" class="pg_btn_verde" id="btn-abra-su-billetera" name="btn-abra-su-billetera" value="<?= PG_HOME_BTN_ABRA_SU_BILLETERA; ?>" onClick="location.href = '<?= getURLSEF('acp'); ?>'" />
+                                                                                                            </div>
+													</div>
+													
+													<input type="hidden" name="verif" value="<?= $verif ?>" />
+												</div><!-- end row -->
+											</form>
+										</div>
+									
+								</div>
+							</div>
+						</div><!-- end row -->
+						
+                        <div class="row justify-content-between pg-menu-desktop"><!-- start row -->
+							<nav id="nav_main_menu" class="col-10">
+								<ul>
+									<li>
+										<a href="<?= getURLSEF('pdp'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PASARELA_PAGO; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('pel'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PAGOS_LINEA; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('fe'); ?>">
+											<h2><?= PG_GEN_NAV_MM_FACTURACION_ELECTRONICA; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('ryt'); ?>">
+											<h2><?= PG_GEN_NAV_MM_RETIROS_BANCARIOS; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('ct'); ?>">
+											<h2><?= PG_GEN_NAV_MM_CONTACTENOS; ?></h2>
+										</a>
+									</li>
+								</ul>
+							</nav>
+							<nav id="nav_countries" class="col-auto">
+								<?= getSelectPaises($id_pais, $idioma); ?>
+							</nav>
+						</div><!-- end row -->
                         <div class="clear"></div>
-                        <nav id="nav_main_menu">
-                            <ul>
-                                <li>
-                                    <a href="<?= getURLSEF('pdp'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_PASARELA_PAGO; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('pel'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_PAGOS_LINEA; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('fe'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_FACTURACION_ELECTRONICA; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('ryt'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_RETIROS_BANCARIOS; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('ct'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_CONTACTENOS; ?></h2>
-                                    </a>
-                                </li>
-                            </ul>
-                        </nav>
-                        <nav id="nav_countries">
-                            <?= getSelectPaises($id_pais, $idioma); ?>
-                        </nav>
-                        <div class="clear"></div>
+						<!-- start menu mobile -->
+						
+						<div id="pg-menu-mobile-screen" class="">
+							<div>
+								
+								<ul>
+									<li>
+										<a href="<?= getURLSEF('pdp'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PASARELA_PAGO; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('pel'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PAGOS_LINEA; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('fe'); ?>">
+											<h2><?= PG_GEN_NAV_MM_FACTURACION_ELECTRONICA; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('ryt'); ?>">
+											<h2><?= PG_GEN_NAV_MM_RETIROS_BANCARIOS; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('ct'); ?>">
+											<h2><?= PG_GEN_NAV_MM_CONTACTENOS; ?></h2>
+										</a>
+									</li>
+								</ul>
+								
+							</div>
+							
+						</div>
+						<!-- end menu mobile -->
+						
                     </header>
                     <div id="div_secctions">
                         <section class="sec_pg" id="sec_pagos">
-                            <div class="div_section_content">
-                                <article class="art_pg" id="art_pagos">
-                                    <p id="p_texto"><?= str_replace('[LINK_RYT]', getURLSEF('ryt'), PG_HOME_ART_PAGOS_TEXTO); ?></p>
-                                    <div id="div_paises">
-                                        <h3 id="h3_paises"><?= PG_HOME_ART_PAGOS_PAISES; ?></h3>
-                                    </div>
-                                    <div class="div_links">
-                                        <a class="pg_btn_verde_home" id="a_abra_su_cuenta" href="<?= getURLSEF('acp'); ?>">
-                                            <h3><?= PG_HOME_ART_PAGOS_LINK; ?></h3>
-                                        </a>
-                                    </div>
-                                    <div id="div_premios">
-                                        <div class="logos mover_<?= getNombrePaisByIDPais($id_pais, $idioma); ?>">
-                                            <img src="<?= URL_SITIO;?>/img/pagadito-premio-coretic.png" alt="PREMIO A LA INNOVACIÓN CORETIC 2015. The Pagadito Group Complete e-commerce solutions"/>
-                                            <img src="<?= URL_SITIO;?>/img/pagadito-premio-innovacion-exportadora.png" alt="PREMIO A LA INNOVACIÓN CORETIC 2015. The Pagadito Group Complete e-commerce solutions"/>
-                                        </div>
-                                    </div>
-                                    <nav id="nav_sites">
-                                        <ul>
-                                            <li>
-                                                <a title="<?= PG_HOME_NAV_S_PERSONAS_TITLE; ?>" alt="<?= PG_HOME_NAV_S_PERSONAS_TITLE; ?>" class="a_nav_sites" id="a_personas" href="<?= getURLSEF('pp'); ?>">
-                                                    <h3><?= PG_HOME_NAV_S_PERSONAS; ?></h3>
-                                                </a>
-                                            </li>
-                                            <li class="li_separator"></li>
-                                            <li>
-                                                <a title="<?= PG_HOME_NAV_S_COMERCIOS_TITLE; ?>" alt="<?= PG_HOME_NAV_S_COMERCIOS_TITLE; ?>" class="a_nav_sites" id="a_comercios" href="<?= getURLSEF('homecom'); ?>">
-                                                    <h3><?= PG_HOME_NAV_S_COMERCIOS; ?></h3>
-                                                </a>
-                                            </li>
-                                            <li class="li_separator"></li>
-                                            <li>
-                                                <a title="<?= PG_HOME_NAV_S_DEVELOPERS_TITLE; ?>" alt="<?= PG_HOME_NAV_S_DEVELOPERS_TITLE; ?>" class="a_nav_sites" id="a_developers" href="<?= getURLSEF('homedev'); ?>">
-                                                    <h3><?= PG_HOME_NAV_S_DEVELOPERS; ?></h3>
-                                                </a>
-                                            </li>
-                                        </ul>
-                                    </nav>
+                            <div class="container-fluid div_section_content">
+                                <article class="art_pg row" id="art_pagos"><!-- start row -->
+									<div class="col-sm-12 col-lg-12">
+                                                                            <p id="p_texto"><?= PG_HOME_ART_PAGOS_TEXTO; ?></p>
+                                                                            <br>
+                                                                                    <a class="pg_btn_verde_home" id="a_abra_su_cuenta" href="<?= getURLSEF('homecom'); ?>">
+                                                                                            <h3><?= PG_HOME_ART_PAGOS_AFILIATE; ?></h3>
+                                                                                    </a>
+                                                                            <br><br><br>
+                                                                            <p id="retira-fondos"><?= PG_HOME_ART_PAISES; ?></p>
+										<div id="div_paises">
+											<h3 id="h3_paises"><?= PG_HOME_ART_PAGOS_PAISES; ?></h3>
+										</div>
+										
+										<div class="row"><!-- start row -->
+											<div class="col-sm-auto div_links mr-sm-auto text-center">
+                                                                                        </div>
+											<div id="div_premios" class="col-sm-auto text-center">
+												<div class="logos mover_<?= getNombrePaisByIDPais($id_pais, $idioma); ?>">
+													<ul class="list-inline"><!-- end ul-inline -->
+														<li class="list-inline-item"><img src="<?= URL_SITIO;?>/img/pagadito-premio-coretic.png" alt="PREMIO A LA INNOVACIÓN CORETIC 2015. The Pagadito Group Complete e-commerce solutions" class="img-fluid"/></li>
+														<li class="list-inline-item"><img src="<?= URL_SITIO;?>/img/pagadito-premio-innovacion-exportadora.png" alt="PREMIO A LA INNOVACIÓN CORETIC 2015. The Pagadito Group Complete e-commerce solutions" class="img-fluid"/></li>
+													</ul><!-- end list-inline -->
+												</div>
+											</div>
+										</div><!-- end row -->
+										<div class="row"><!-- start row -->
+											<nav id="nav_sites" class="col">
+												<ul class="list-inline"><!-- end ul-inline -->
+													<li class="list-inline-item">
+														<a title="<?= PG_HOME_NAV_S_PERSONAS_TITLE; ?>" alt="<?= PG_HOME_NAV_S_PERSONAS_TITLE; ?>" class="a_nav_sites" id="a_personas" href="<?= getURLSEF('pp'); ?>">
+															<h3><?= PG_HOME_NAV_S_PERSONAS; ?></h3>
+														</a>
+													</li>
+													
+													<li class="list-inline-item">
+														<a title="<?= PG_HOME_NAV_S_DEVELOPERS_TITLE; ?>" alt="<?= PG_HOME_NAV_S_DEVELOPERS_TITLE; ?>" class="a_nav_sites" id="a_developers" href="<?= getURLSEF('homedev'); ?>">
+															<h3><?= PG_HOME_NAV_S_DEVELOPERS; ?></h3>
+														</a>
+													</li>
+												</ul><!-- end list-inline -->
+											</nav>
+										</div><!-- end row -->
+									</div><!-- end row -->
                                 </article>
                             </div>
@@ -216,7 +296,7 @@
                         <div class="div_section_sep"></div>
                         <section class="sec_pg" id="sec_retiros">
-                            <div class="div_section_content">
-                                <article class="art_pg" id="art_retiros">
-                                    <div class="div_art_right">
+                            <div class="div_section_content container-fluid">
+                                <article class="art_pg row" id="art_retiros"><!-- start row -->
+                                    <div class="col-lg-6 col-md-6 col-sm-12 div_art_right offset-lg-6 offset-md-6 text-lg-left text-sm-right text-center">
                                         <img id="img_icono_retiros" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-retiros.png" alt="<?= PG_HOME_ALT_IMG_ICONO_RETIROS_BANCARIOS; ?>" />
                                         <h2 id="h2_retiros"><?= PG_HOME_ART_RETIROS_TITULO; ?></h2>
@@ -239,7 +319,7 @@
                         <div class="div_section_sep"></div>
                         <section class="sec_pg" id="sec_pago_seguro">
-                            <div class="div_section_content">
-                                <article class="art_pg" id="art_pago_seguro">
-                                    <div class="div_art_right">
+                            <div class="div_section_content container-fluid">
+                                <article class="art_pg row" id="art_pago_seguro"><!-- start row -->
+                                    <div class="col-md-6 col-sm-12 div_art_right offset-md-6 text-center text-sm-left">
                                         <img id="img_icono_pago_seguro" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-pago-seguro.png" alt="<?= PG_HOME_ALT_IMG_ICONO_PAGO_SEGURO; ?>" />
                                         <h2 id="h2_pago_seguro"><?= PG_HOME_ART_PAGO_SEGURO_TITULO; ?></h2>
@@ -272,13 +352,15 @@
                         <div class="div_section_sep"></div>
                         <section class="sec_pg" id="sec_facturacion">
-                            <div class="div_section_content">
-                                <article class="art_pg" id="art_facturacion">
-                                    <img id="img_icono_facturacion_electronica" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-facturacion-electronica.png" alt="<?= PG_HOME_ALT_IMG_ICONO_FACTURACION_ELECTRONICA; ?>" />
-                                    <h2 id="h2_facturacion"><?= PG_HOME_ART_FACTURACION_TEXTO1; ?></h2>
-                                    <p><?= PG_HOME_ART_FACTURACION_TEXTO2; ?></p>
-                                    <div class="div_links">
-                                        <a href="<?= getURLSEF('fe'); ?>">
-                                            <h2><?= PG_HOME_ART_FACTURACION_LINK; ?></h2>
-                                        </a>
+                            <div class="div_section_content container-fluid">
+                                <article class="art_pg row" id="art_facturacion"><!-- start row -->
+									<div class="col-md-6 col-sm-12 mr-auto text-center text-sm-left">
+										<img id="img_icono_facturacion_electronica" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-facturacion-electronica.png" alt="<?= PG_HOME_ALT_IMG_ICONO_FACTURACION_ELECTRONICA; ?>" />
+										<h2 id="h2_facturacion"><?= PG_HOME_ART_FACTURACION_TEXTO1; ?></h2>
+										<p><?= PG_HOME_ART_FACTURACION_TEXTO2; ?></p>
+										<div class="div_links">
+											<a href="<?= getURLSEF('fe'); ?>">
+												<h2><?= PG_HOME_ART_FACTURACION_LINK; ?></h2>
+											</a>
+										</div>
                                     </div>
                                 </article>
@@ -287,40 +369,42 @@
                         <div class="div_section_sep"></div>
                         <section class="sec_pg" id="sec_caracteristicas">
-                            <div class="div_section_content">
-                                <article class="art_pg" id="art_caracteristicas">
-                                    <ul id="ul_caracteristicas">
-                                        <li>
-                                            <h3>
-                                                <img id="img_facil_y_amigable" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-facil_y_amigable.png" alt="<?= PG_HOME_ALT_IMG_ICONO_FACIL_Y_AMIGABLE; ?>" />
-                                            </h3>
-                                            <div class="div_texto_caracteristicas">
-                                                <h2><?= PG_HOME_ART_CARACTTS_FACIL_TITULO; ?></h2>
-                                                <p><?= PG_HOME_ART_CARACTTS_FACIL_TEXTO; ?></p>
-                                            </div>
-                                            <div class="clear"></div>
-                                        </li>
-                                        <li class="li_separator"></li>
-                                        <li>
-                                            <h3>
-                                                <img id="img_seguro" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-seguro.png" alt="<?= PG_HOME_ALT_IMG_ICONO_SEGURO; ?>" />
-                                            </h3>
-                                            <div class="div_texto_caracteristicas">
-                                                <h2><?= PG_HOME_ART_CARACTTS_SEGURO_TITULO; ?></h2>
-                                                <p><?= PG_HOME_ART_CARACTTS_SEGURO_TEXTO; ?></p>
-                                            </div>
-                                            <div class="clear"></div>
-                                        </li>
-                                        <li class="li_separator"></li>
-                                        <li>
-                                            <h3>
-                                                <img id="img_versatil" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-versatil.png" alt="<?= PG_HOME_ALT_IMG_ICONO_VERSATIL; ?>" />
-                                            </h3>
-                                            <div class="div_texto_caracteristicas">
-                                                <h2><?= PG_HOME_ART_CARACTTS_VERSATIL_TITULO; ?></h2>
-                                                <p><?= PG_HOME_ART_CARACTTS_VERSATIL_TEXTO; ?></p>
-                                            </div>
-                                            <div class="clear"></div>
-                                        </li>
-                                    </ul>
+                            <div class="div_section_content container-fluid">
+                                <article class="art_pg row" id="art_caracteristicas"><!-- start row -->
+									<div class="col mr-auto">
+										<ul id="ul_caracteristicas">
+											<li>
+												<h3>
+													<img id="img_facil_y_amigable" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-facil_y_amigable.png" alt="<?= PG_HOME_ALT_IMG_ICONO_FACIL_Y_AMIGABLE; ?>" />
+												</h3>
+												<div class="div_texto_caracteristicas">
+													<h2><?= PG_HOME_ART_CARACTTS_FACIL_TITULO; ?></h2>
+													<p><?= PG_HOME_ART_CARACTTS_FACIL_TEXTO; ?></p>
+												</div>
+												<div class="clear"></div>
+											</li>
+											<li class="li_separator"></li>
+											<li>
+												<h3>
+													<img id="img_seguro" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-seguro.png" alt="<?= PG_HOME_ALT_IMG_ICONO_SEGURO; ?>" />
+												</h3>
+												<div class="div_texto_caracteristicas">
+													<h2><?= PG_HOME_ART_CARACTTS_SEGURO_TITULO; ?></h2>
+													<p><?= PG_HOME_ART_CARACTTS_SEGURO_TEXTO; ?></p>
+												</div>
+												<div class="clear"></div>
+											</li>
+											<li class="li_separator"></li>
+											<li>
+												<h3>
+													<img id="img_versatil" src="<?= URL_SITIO; ?>/img/vw_home/pg-icono-versatil.png" alt="<?= PG_HOME_ALT_IMG_ICONO_VERSATIL; ?>" />
+												</h3>
+												<div class="div_texto_caracteristicas">
+													<h2><?= PG_HOME_ART_CARACTTS_VERSATIL_TITULO; ?></h2>
+													<p><?= PG_HOME_ART_CARACTTS_VERSATIL_TEXTO; ?></p>
+												</div>
+												<div class="clear"></div>
+											</li>
+										</ul>
+                                    </div>
                                 </article>
                             </div>
@@ -328,10 +412,10 @@
                         <div class="div_section_sep"></div>
                         <section class="sec_pg" id="sec_developers">
-                            <div class="div_section_content">
-                                <article class="art_pg" id="art_developers">
-                                    <div id="div_layer_transparente"></div>
-                                    <div id="div_layer_normal">
+                            <div class="div_section_content container-fluid">
+                                <article class="art_pg row" id="art_developers"><!-- start row -->
+                                    
+                                    <div id="div_layer_normal" class="col-md-6 col-sm-12 mr-auto text-center text-sm-center">
                                         <h2 id="h2_developers">
-                                            <img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-developers.png" alt="<?= PG_HOME_ART_DEVELOPERS_TITULO; ?>" />
+                                            <img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-developers.png" alt="<?= PG_HOME_ART_DEVELOPERS_TITULO; ?>" class="img-fluid"/>
                                         </h2>
                                         <p><?= PG_HOME_ART_DEVELOPERS_TEXTO; ?></p>
@@ -347,106 +431,113 @@
                     </div>
                     <footer id="footer">
-                        <section id="sec_pagadito_footer">
-                            <div class="column" id="column_1">
-                                <h2><?= PG_GEN_FOOTER_CENTRO_DE_AYUDA; ?></h2>
-                                <ul class="optionsList">
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=FAQ">
-                                            <h3><?= PG_GEN_FOOTER_PREGUNTAS_FRECUENTES; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= getURLSEF('ct'); ?>">
-                                            <h3><?= PG_GEN_FOOTER_CONTACTENOS; ?></h3>
-                                        </a>
-                                    </li>
-                                </ul>
-                                <h2><?= PG_GEN_FOOTER_SEGURIDAD; ?></h2>
-                                <ul class="optionsList">
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ZS">
-                                            <h3><?= PG_GEN_FOOTER_ZONA_SEGURA; ?></h3>
-                                        </a>
-                                    </li>
-                                </ul>
-                                <h2><?= PG_GEN_FOOTER_POLITICAS; ?></h2>
-                                <ul class="optionsList">
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO">
-                                            <h3><?= PG_GEN_FOOTER_ACUERDOS_Y_CONDICIONES; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_RESERVA_INFO">
-                                            <h3><?= PG_GEN_FOOTER_POLITICAS_DE_RESERVA_DE_LA_INFORMACION; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_COMERCIOS">
-                                            <h3><?= PG_GEN_FOOTER_POLITICAS_DE_USO_DE_PAGADITO_COMERCIOS; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= getURLSEF('tyc'); ?>">
-                                            <h3><?= PG_GEN_FOOTER_TARIFAS; ?></h3>
-                                        </a>
-                                    </li>
-                                </ul>
-                            </div>
-                            <div class="column" id="column_2">
-                                <h2><?= PG_GEN_FOOTER_SUSCRIBETE; ?></h2>
-                                <form id="frm_suscribete" name="frm_suscribete" action="javascript: guardarSuscripcion();">
-                                    <label for="txt_suscribete_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE; ?></label>
-                                    <input type="text" id="txt_suscribete_email" name="txt_suscribete_email" value="" placeholder="<?= PG_GEN_FOOTER_VALUE_INPUT_SUSCRIBETE; ?>" />
-                                    <input type="button" id="btn_suscribete_ok" name="btn_suscribete_ok" value="<?= PG_GEN_FOOTER_VALUE_BTN_SUSCRIBETE; ?>" onclick="javascript: guardarSuscripcion();" />
-                                    <div class="clear"></div>
-                                    <label id="msj_suscribete_no_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE_NO_EMAIL; ?></label>
-                                    <label id="msj_suscribete"></label>
-                                    <div class="clear"></div>
-                                </form>
-                            </div>
-                            <div class="column" id="column_3">
-                                <h2><?= PG_GEN_FOOTER_CERTIFICACION_DE_TRANSACCIONES; ?></h2>
-                                <div id="certificados">
-                                    <div id="verisign">
-                                        <img id="sello1" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_ssl_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_SSL; ?>" />
-                                    </div>
-                                    <div id="pci">
-                                        <img id="sello2" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_pci_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_PCI; ?>" />
-                                    </div>
-                                    <div class="clear"></div>
-                                    <div id="div_tarjetas">
-                                        <img id="img_tarjetas_footer" src="<?= URL_SITIO; ?>/img/vw_home/pg-iconos-tarjetas-2.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TARJETAS; ?>" />
-                                    </div>
-                                    <div class="clear"></div>
-                                </div>
-                            </div>
-                            <div class="column" id="column_4">
-                                <h2><?= PG_GEN_FOOTER_BUSQUENOS_EN; ?></h2>
-                                <div id="redes_sociales">
-                                    <a class="pg_redes_sociales btn_social_facebook" href="<?= URL_PG_FACEBOOK;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_FACEBOOK; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_twitter" href="<?= URL_PG_TWITTER;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_TWITTER; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_youtube" href="<?= URL_PG_YOUTUBE;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_YOUTUBE; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_google_plus" href="<?= URL_PG_GOOGLE_PLUS;?>" rel="publisher" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_GOOGLE_PLUS; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_wordpress" href="<?= URL_PG_WORDPRESS;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_WORDPRESS; ?>" target="_blank">&nbsp;</a>
-                                    <div class="clear"></div>
-                                </div>
-                            </div>
+                        <section id="sec_pagadito_footer" class="container-fluid">
+							<div class="row"><!-- start row -->
+								<div class="column col-sm-6 col-md col-lg-3" id="column_1">
+									<h2><?= PG_GEN_FOOTER_CENTRO_DE_AYUDA; ?></h2>
+									<ul class="optionsList">
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=FAQ">
+												<h3><?= PG_GEN_FOOTER_PREGUNTAS_FRECUENTES; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= getURLSEF('ct'); ?>">
+												<h3><?= PG_GEN_FOOTER_CONTACTENOS; ?></h3>
+											</a>
+										</li>
+									</ul>
+									<h2><?= PG_GEN_FOOTER_SEGURIDAD; ?></h2>
+									<ul class="optionsList">
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ZS">
+												<h3><?= PG_GEN_FOOTER_ZONA_SEGURA; ?></h3>
+											</a>
+										</li>
+									</ul>
+									<h2><?= PG_GEN_FOOTER_POLITICAS; ?></h2>
+									<ul class="optionsList">
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO">
+												<h3><?= PG_GEN_FOOTER_ACUERDOS_Y_CONDICIONES; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_RESERVA_INFO">
+												<h3><?= PG_GEN_FOOTER_POLITICAS_DE_RESERVA_DE_LA_INFORMACION; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_COMERCIOS">
+												<h3><?= PG_GEN_FOOTER_POLITICAS_DE_USO_DE_PAGADITO_COMERCIOS; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= getURLSEF('tyc'); ?>">
+												<h3><?= PG_GEN_FOOTER_TARIFAS; ?></h3>
+											</a>
+										</li>
+									</ul>
+								</div>
+								<div class="column col-sm-6 col-md col-lg-3" id="column_2">
+									<h2><?= PG_GEN_FOOTER_SUSCRIBETE; ?></h2>
+									<form id="frm_suscribete" name="frm_suscribete" action="javascript: guardarSuscripcion();">
+										<label for="txt_suscribete_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE; ?></label>
+										<input type="text" id="txt_suscribete_email" name="txt_suscribete_email" value="" placeholder="<?= PG_GEN_FOOTER_VALUE_INPUT_SUSCRIBETE; ?>" />
+										<input type="button" id="btn_suscribete_ok" name="btn_suscribete_ok" value="<?= PG_GEN_FOOTER_VALUE_BTN_SUSCRIBETE; ?>" onclick="javascript: guardarSuscripcion();" />
+										<div class="clear"></div>
+										<label id="msj_suscribete_no_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE_NO_EMAIL; ?></label>
+										<label id="msj_suscribete"></label>
+										<div class="clear"></div>
+									</form>
+								</div>
+								<div class="col-lg-3 col-md col-sm-6 column text-center text-sm-left" id="column_3">
+									<h2><?= PG_GEN_FOOTER_CERTIFICACION_DE_TRANSACCIONES; ?></h2>
+									<div id="certificados">
+										<div id="verisign">
+											<img id="sello1" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_ssl_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_SSL; ?>" />
+										</div>
+										<div id="pci">
+											<img id="sello2" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_pci_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_PCI; ?>" />
+										</div>
+										<div class="clear"></div>
+										<div id="div_tarjetas">
+											<img id="img_tarjetas_footer" src="<?= URL_SITIO; ?>/img/vw_home/pg-iconos-tarjetas-2.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TARJETAS; ?>" />
+										</div>
+										<div class="clear"></div>
+									</div>
+								</div>
+								<div class="col-12 col-lg-3 col-md-12 col-sm-6 column text-center text-lg-left text-md-center" id="column_4">
+									<h2><?= PG_GEN_FOOTER_BUSQUENOS_EN; ?></h2>
+									<div id="redes_sociales">
+										<a class="pg_redes_sociales btn_social_facebook" href="<?= URL_PG_FACEBOOK;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_FACEBOOK; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_twitter" href="<?= URL_PG_TWITTER;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_TWITTER; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_youtube" href="<?= URL_PG_YOUTUBE;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_YOUTUBE; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_google_plus" href="<?= URL_PG_GOOGLE_PLUS;?>" rel="publisher" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_GOOGLE_PLUS; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_wordpress" href="<?= URL_PG_WORDPRESS;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_WORDPRESS; ?>" target="_blank">&nbsp;</a>
+										<div class="clear"></div>
+									</div>
+								</div>
+							</div><!-- end row -->
+                            <div class="row"><!-- start row -->
+								<div class="col-12">
+									<h1 id="h1_pague_seguro">
+										<strong><?= PG_GEN_FOOTER_SLOGAN; ?></strong>
+									</h1>
+								</div>
+							</div><!-- end row -->
                             <div class="clear"></div>
-                            <h1 id="h1_pague_seguro">
-                                <strong><?= PG_GEN_FOOTER_SLOGAN; ?></strong>
-                            </h1>
-                            <div class="clear"></div>
                         </section>
                         <section id="sec_pagaditogroup_footer">
-                            <div id="center">
-                                <div id="copys"><?= PG_GEN_FOOTER_COPY; ?></div>
-                                <div id="link-group">
-                                    <a href="http://www.pagaditogroup.com/" target="_blank">
-                                        <h3>
-                                            <img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagaditogroup.jpg" alt="<?= PG_HOME_ALT_IMG_ICONO_PG_GROUP; ?>" />
-                                        </h3>
-                                    </a>
-                                </div>
+                            <div id="center" class="container-fluid">
+								<div class="row"><!-- start row -->
+									<div id="copys" class="col-md-8 col-sm-12"><?= PG_GEN_FOOTER_COPY; ?></div>
+									<div id="link-group" class="col-md-4 col-sm-12 text-center">
+										<a href="http://www.pagaditogroup.com/" target="_blank">
+											<h3>
+												<img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagaditogroup.jpg" alt="<?= PG_HOME_ALT_IMG_ICONO_PG_GROUP; ?>" class="img-fluid"/>
+											</h3>
+										</a>
+									</div>
+								</div><!-- end row -->
                                 <div class="clear"></div>
                             </div>
@@ -455,4 +546,21 @@
                 </div>
             </div>
+            <?php
+            if (MOSTRAR_POPUP){
+                $imagen = URL_SITIO . '/imagenes/pg-popup-movil-' . $idioma . '.jpg';
+                $ancho = '300';
+                if($tipoDispositivo == DEVICE_DESKTOP || $tipoDispositivo == DEVICE_TABLET){
+                   $imagen = URL_SITIO . '/imagenes/pg-popup-' . $idioma . '.png';
+                   $ancho = '1000';
+                }
+            ?>
+            <div id="popup" data-ancho="<?= $ancho; ?>">  
+ 	  	<a href="<?= URL_PG; ?>/index.php?mod=user&hac=vregfC" id="link-popup">  
+ 	  	    <img src="<?= $imagen ?>">  
+ 	  	</a>  
+            </div>
+            <?php
+            }
+            ?>
             <script type="text/javascript" src="<?= URL_SITIO; ?>/javascript/mootools-core-1.4.5-full-compat-yc.js<?= $varCache ?>"></script>
             <script type="text/javascript" src="<?= URL_SITIO; ?>/javascript/mootools-more-1.4.0.1_1.js<?= $varCache ?>"></script>
@@ -466,5 +574,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            } 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
Index: branches/b-20180319.02/modulos/home_sandbox/funciones.php
===================================================================
--- trunk/modulos/home_sandbox/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/home_sandbox/funciones.php	(revision 3579)
@@ -388,5 +388,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
Index: branches/b-20180319.02/modulos/inv/funciones.php
===================================================================
--- trunk/modulos/inv/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/inv/funciones.php	(revision 3579)
@@ -1,7 +1,8 @@
 <?php
-function listarInvoice(){
+function listarInvoice() {
+    global $db, $prinHtml, $usuaPagina, $status_code, $idioma;
+
     include_once("./librerias/class.Invoice.php");
     include_once("./librerias/paginator.class.php");
-    global $db, $prinHtml, $usuaPagina, $status_code, $idioma;
     $Invoice = new Invoice($db);
     $fechaInicio = isset($_POST["fechaInicio"])?$_POST["fechaInicio"]:"";
@@ -12,11 +13,12 @@
     unset($_SESSION["Invoice"]);
     $prinHtml .= '
-        <div class="detallecuerpo">
-            <h1>'.PG_TITULO_INVOICE.'</h1>
+        <div class="detallecuerpo container-fluid">
+            <h1>' . PG_TITULO_INVOICE . '</h1>
     ';
-    if($InvoiceActual->mensaje->texto != ""){
+    if ($InvoiceActual->mensaje->texto != "") {
+
         $prinHtml .= '
-            <p class="_info" id="'.$InvoiceActual->mensaje->tipo.'">
-                <span class="info_inner">'.$InvoiceActual->mensaje->texto.'</span>
+            <p class="_info" id="' . $InvoiceActual->mensaje->tipo . '">
+                <span class="info_inner">' . $InvoiceActual->mensaje->texto . '</span>
             </p>
         ';
@@ -24,13 +26,14 @@
     //Si no ha cargado el logo, mostrar un mensaje para invitarlo a que lo suba
     if (!verificarLogoInvoices($_SESSION['usuaPagaditoUsuario'])) {
+
         $prinHtml .= iniCreaMsg(PG_MENSAJE_INVITACION_CARGAR_LOGO, 'in', array('ne' => 1));
     }
     $prinHtml .= '
             <div id="botones">
-                <a class="p-button p-button-submit" href="index.php?mod=inv&hac=new" title="'.PG_TITULO_NUEVO.'" alt="'.PG_TITULO_NUEVO.'">'.PG_TITULO_NUEVO.'</a>';
+                <a class="p-button p-button-submit" href="index.php?mod=inv&hac=new" title="' . PG_TITULO_NUEVO . '" alt="' . PG_TITULO_NUEVO . '">' . PG_TITULO_NUEVO . '</a>';
 
     if (verificarPermisoBatchInvoices($_SESSION['usuaPagaditoUsuario'])) {
         $prinHtml .= '
-                <a class="p-button p-button-submit" href="index.php?mod=inv&hac=new_batch" title="'.PG_TITULO_NUEVO_BATCH.'" alt="'.PG_TITULO_NUEVO_BATCH.'">'.PG_TITULO_NUEVO_BATCH.'</a>';
+                <a class="p-button p-button-submit" href="index.php?mod=inv&hac=new_batch" title="' . PG_TITULO_NUEVO_BATCH . '" alt="' . PG_TITULO_NUEVO_BATCH . '">' . PG_TITULO_NUEVO_BATCH . '</a>';
     }
 
@@ -40,102 +43,115 @@
     ';
     $prinHtml .= '
-            <form action="index.php?mod=inv" method="POST" name="frmDetalle">
-                '.PG_INV_FECHA_DESDE.'
-                <input type="text" class="vl_texto" value="' . $fechaInicio . '" readonly name="fechaInicio">
+		<div class="container-fluid">
+            <form action="index.php?mod=inv" method="POST" name="frmDetalle" class="mt-3 mb-3">
+                <div class="form-group-icon">
+				<span>' . PG_INV_FECHA_DESDE . '</span>
+                <input type="text" class="vl_texto form-control" value="' . $fechaInicio . '" readonly name="fechaInicio">
                 <a id="calFechaInicio" onclick="displayCalendar(document.frmDetalle.fechaInicio,\'dd-mm-yyyy\',this)"><img src="imagenes/cal2.png" border="0" /></a>
-                '.PG_INV_FECHA_HASTA.'
-                <input type="text" class="vl_texto" value="' . $fechaFinal . '" readonly name="fechaFinal">
+                </div>
+				<div class="form-group-icon">
+				<span>' . PG_INV_FECHA_HASTA . '</span>
+                <input type="text" class="vl_texto form-control" value="' . $fechaFinal . '" readonly name="fechaFinal">
                 <a id="calFechaFinal" onclick="displayCalendar(document.frmDetalle.fechaFinal,\'dd-mm-yyyy\',this)"><img src="imagenes/cal2.png" border="0" /></a>
-                '.PG_INV_ESTADO.'
-                <select name="estado">
-                    <option value="" '.($estado==""?"selected=selected":"").'>('.PG_INV_ESTADO.')</option>';
-    foreach($estados as $estado_tmp){
+                </div>
+				<div class="form-group">
+				<span>' . PG_INV_ESTADO . '</span>
+                <select name="estado" class="form-control">
+                    <option value="" ' . ($estado==""?"selected=selected":"") . '>(' . PG_INV_ESTADO . ')</option>';
+    foreach ($estados as $estado_tmp) {
+
         $prinHtml .= '
-                    <option value="'.$estado_tmp["id_transaction_status"].'" '.($estado==$estado_tmp["id_transaction_status"]?"selected=selected":"").'>
-                        '. $estado_tmp["status"] . '
-                    </option>
-        ';
+                    <option value="' . $estado_tmp["id_transaction_status"] . '" ' . ($estado == $estado_tmp["id_transaction_status"] ? "selected=selected" : "") . '>
+                        ' . $estado_tmp["status"] . '
+                    </option>';
     }
     $prinHtml .= '
                 </select>
-                <input type="submit" class="p-button p-button-submit" value="'.PG_INV_IR.'">
+				</div>
+				<div>
+					<input type="submit" class="p-button p-button-submit" value="'.PG_INV_IR.'">
+				</div>
             </form>
-            <table id="tblListado">
-                <thead>
-                    <tr>
-                        <th>'.PG_INV_NUMERO.'</th>
-                        <th>'.PG_MONTO2.' US$</th>
-                        <th>'.PG_INV_CORREO.'</th>
-                        <th>'.PG_INV_FECHA_COBRO.'</th>
-                        <th>'.PG_INV_FECHA_VENCIMIENTO.'</th>
-                        <!-- <th>'.PG_FECHA_CREACION.'</th> -->
-                        <th>'.PG_INV_ESTADO.'</th>
-                        <th>'.PG_RECURRENCIA.'</th>
-                        <th>'.PG_ACCIONES.'</th>
-                    </tr>
-                </thead>
-                <tbody>
-    ';
-    $filtros = array(
-        "fechaInicio"   => $fechaInicio,
-        "fechaFinal"    => $fechaFinal,
-        "estado"        => $estado
-    );
-    
-    $url_paginator = URL_SITIO . '/index.php';
-    $num_invoices = $Invoice->getCountInvoice($_SESSION["usuaPagaditoUsuario"], $filtros);
-    if($num_invoices > 0){
-        $ObjPaginator = new Paginator($num_invoices, 7, array(25), $url_paginator);
-
-        $filtros['limit_inic'] = $ObjPaginator->limit_start;
-        $filtros['limit_fin'] = $ObjPaginator->limit_end;
-    }
-    $invoices = $Invoice->obtenerTodosPorUsuario($_SESSION["usuaPagaditoUsuario"], $filtros);
-    $i = 1;
-    foreach($invoices as $invoice){
-        $prinHtml .= '
-                    <tr class="'.($i%2==0?"even":"odd").'">
-                        <td>'.($invoice["id_suscripcion"] != '' ? $invoice["identificador"] : $invoice["ern"]).'</td>
-                        <td>'.$invoice["amount"].'</td>
-                        <td>'.$invoice["correo"].'</td>
-                        <td>'.$invoice["fecha_cobro"].'</td>
-                        <td>'.$invoice["fecha_vencimiento"].'</td>
-                        <!-- <td>'.$invoice["fecha_creacion"].'</td> -->
-                        <td>'.ucfirst($invoice["status"]).'</td>';
-        $separador = '';
-        $accion = '';
-        If($invoice["envios"] < LIB_CFG_INVOICE_MAX_ENVIOS 
-                && $invoice["id_transaction_status"] == $status_code['registered']
-                && $invoice['id_invoice_estado_contacto'] != $Invoice->constantes['CON_BLOCKED']
-                && !($invoice['id_invoice_estado_contacto'] == $Invoice->constantes['CON_REGISTERED'] 
-                        && $invoice['envios_no_autorizados'] >= LIB_CFG_INVOICE_MAX_AUTH_REQUEST)
-                && !($invoice['id_invoice_estado_contacto'] == $Invoice->constantes['CON_DECLINED'] 
-                        && $invoice['envios_no_autorizados'] >= LIB_CFG_INVOICE_MAX_AUTH_REQUEST)
-        ){
-            $accion = '  <a href="' . $usuaPagina . '&hac=inv&hac=send&idi=' . encriptar(1, $invoice['id_invoice_transaction']) . '" title="' . PG_REENVIAR_INVOICE . '">' 
-                            . PG_REENVIAR .
-                            '</a>';
-        $separador = ' | ';
-        }
-        
-        $recurrencia = '<td>' . PG_INV_NO . '</td>';
-        if($invoice['id_suscripcion']){
-            $recurrencia= '<td>' . PG_INV_SI . '</td>';
-            $accion .= $separador . '<a href="?mod=inv&hac=rec&ids=' . encriptar(1, $invoice['id_suscripcion']) . '">' . PG_INV_REC_MAS_DETALLES . '</a>';
-        }
-        
-        $prinHtml .= $recurrencia . '
-                        <td>' . $accion . '</td>
-                     </tr>
-        ';
-        $i++;
-    }
-    $prinHtml .= '
-                </tbody>
-            </table>';
-    if($num_invoices > 0){
-        $prinHtml .= '<div class="pagination">'. $ObjPaginator->display_pages() . '</div>';
-    }
-    
+			<div class="table-responsive-md">
+				<table id="tblListado" class="table">
+					<thead>
+						<tr>
+							<th>' . PG_INV_TH_NUMERO . '</th>
+							<th>' . PG_INV_TH_CORREO . '</th>
+							<th>' . PG_INV_TH_NOMBRE . '</th>
+							<th>' . PG_MONTO2 . ' US$</th>
+							<th>' . PG_INV_TH_FECHA_COBRO . '</th>
+							<th>' . PG_INV_TH_FECHA_VENCIMIENTO . '</th>
+                            <th>' . PG_INV_TH_ESTADO_TRANSACCION . '</th>
+							<th>' . PG_RECURRENCIA . '</th>
+							<th>' . PG_ACCIONES . '</th>
+						</tr>
+					</thead>
+					<tbody>';
+		$filtros = array(
+			"fechaInicio"   => $fechaInicio,
+			"fechaFinal"    => $fechaFinal,
+			"estado"        => $estado
+		);
+		
+		$url_paginator = URL_SITIO . '/index.php';
+		$num_invoices = $Invoice->getCountInvoice($_SESSION["usuaPagaditoUsuario"], $filtros);
+		if ($num_invoices > 0) {
+			$ObjPaginator = new Paginator($num_invoices, 7, array(25), $url_paginator);
+
+			$filtros['limit_inic'] = $ObjPaginator->limit_start;
+			$filtros['limit_fin'] = $ObjPaginator->limit_end;
+		}
+		$invoices = $Invoice->obtenerTodosPorUsuario($_SESSION["usuaPagaditoUsuario"], $filtros);
+		$i = 1;
+		foreach ($invoices as $invoice) {
+			$prinHtml .= '
+						<tr class="' . ($i%2 == 0 ? "even" : "odd") . '">
+							<td>' . ($invoice["id_suscripcion"] != '' ? $invoice["identificador"] : $invoice["ern"]) . '</td>
+                            <td>' . $invoice["correo"] . '</td>
+                            <td>' . $invoice["nombre"] . '</td>
+                            <td>' . $invoice["amount"] . '</td>
+							<td>' . $invoice["fecha_cobro"] . '</td>
+							<td>' . $invoice["fecha_vencimiento"] . '</td>
+							<td>' . ucfirst($invoice["status"]) . '</td>';
+			$separador = '';
+			$accion = '';
+			if ($invoice["envios"] < LIB_CFG_INVOICE_MAX_ENVIOS 
+					&& $invoice["id_transaction_status"] == $status_code['registered']
+					&& $invoice['id_invoice_estado_contacto'] != $Invoice->constantes['CON_BLOCKED']
+					&& !($invoice['id_invoice_estado_contacto'] == $Invoice->constantes['CON_REGISTERED'] 
+							&& $invoice['envios_no_autorizados'] >= LIB_CFG_INVOICE_MAX_AUTH_REQUEST)
+					&& !($invoice['id_invoice_estado_contacto'] == $Invoice->constantes['CON_DECLINED'] 
+							&& $invoice['envios_no_autorizados'] >= LIB_CFG_INVOICE_MAX_AUTH_REQUEST)
+			) {
+				$accion = '  <a href="' . $usuaPagina . '&hac=inv&hac=send&idi=' . encriptar(1, $invoice['id_invoice_transaction']) . '" title="' . PG_REENVIAR_INVOICE . '">' 
+								. PG_REENVIAR .
+								'</a>';
+                $separador = ' | ';
+			}
+			
+			$recurrencia = '<td>' . PG_INV_NO . '</td>';
+			if ($invoice['id_suscripcion']) {
+
+				$recurrencia= '<td>' . PG_INV_SI . '</td>';
+				$accion .= $separador . '<a href="?mod=inv&hac=rec&ids=' . encriptar(1, $invoice['id_suscripcion']) . '">' . PG_INV_REC_MAS_DETALLES . '</a>';
+			}
+			
+			$prinHtml .= $recurrencia . '
+							<td>' . $accion . '</td>
+						 </tr>';
+			$i++;
+		}
+		$prinHtml .= '
+					</tbody>
+				</table>
+			</div>';
+    if ($num_invoices > 0) {
+
+        $prinHtml .= '<div class="pagination w-100">'. $ObjPaginator->display_pages() . '</div>';
+    }
+    $prinHtml .= '
+			<div class="clear"></div>
+            </div><!-- container-fluid -->';
 }
 
@@ -218,5 +234,5 @@
     }
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>'.PG_TITULO_NUEVO.'</h1>
     ';
@@ -230,36 +246,32 @@
     $prinHtml .= '
             <form id="frmNewInvoice" name="frmNewInvoice" method="POST" action="index.php?mod=inv&hac=check">
-                <div class="left">
-                    <table class="tblInvoiceFields">
-                        <tbody>
-                            <tr>
-                                <td colspan="2">'.PG_INV_NUMERO.'</td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <input type="text" name="txtNumero" id="txtNumeroERN" value="'.($InvoiceActual->numero!=""?$InvoiceActual->numero:count($invoices)+1).'" />
-                                    <span class="ern_warning" id="ern_warning">' . PG_ERROR_NUMERO_EXISTE . '</span>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>'.PG_INV_CORREO.'</td>
-                                <td>'.PG_NOMBRE.'</td>
-                            </tr>
-                            <tr>
-                                <td><input type="text" id="txtCorreo" name="txtCorreo" value="'.$InvoiceActual->email.'" /></td>
-                                <td><input type="text" id="txtNombre" name="txtNombre" value="'.$InvoiceActual->name.'" /></td>
-                            </tr>
-                        </tbody>
-                    </table>
+                <div class="left pt-0 pb-0">
+					<div class="tblInvoiceFields row  pt-0 pb-0">
+						<div class="form-group col-md-3 col-sm-12 pt-0 pb-0">
+							<label>'.PG_INV_NUMERO.'</label>
+							<input type="text" name="txtNumero" id="txtNumeroERN" class="form-control" value="'.($InvoiceActual->numero!=""?$InvoiceActual->numero:count($invoices)+1).'" />
+							<small class="ern_warning" id="ern_warning">' . PG_ERROR_NUMERO_EXISTE . '</small>
+						</div>
+						<div class="clearfix"></div>
+						<div class="form-group col-md-4 col-sm-6 pt-0 pb-0">
+							<label>'.PG_INV_CORREO.'</label>
+							<input type="text" id="txtCorreo" name="txtCorreo" class="form-control" value="'.$InvoiceActual->email.'" />
+						</div>
+						<div class="form-group col-md-4 col-sm-6 pt-0 pb-0">
+							<label>'.PG_NOMBRE.'</label>
+							<input type="text" id="txtNombre" name="txtNombre" class="form-control" value="'.$InvoiceActual->name.'" />
+						</div>
+					</div>
+                    
                 </div>
-                <div class="clear"></div>
-                <div id="items">
-                    <table id="tblItems">
+                
+                <div id="items" class="table-responsive-md pt-0 pb-0">
+                    <table id="tblItems" class="table pg-table-fixed">
                         <thead>
                             <tr>
-                                <th>'.PG_CONCEPTO.'</th>
-                                <th>'.PG_PRECIO.'</th>
-                                <th>'.PG_CANTIDAD.'</th>
-                                <th>'.PG_TOTAL.'</th>
+                                <th style="width: 40%">'.PG_CONCEPTO.'</th>
+                                <th style="width: 20%">'.PG_PRECIO.'</th>
+                                <th style="width: 14%">'.PG_CANTIDAD.'</th>
+                                <th style="width: 16%">'.PG_TOTAL.'</th>
                             </tr>
                         </thead>
@@ -295,86 +307,63 @@
                         </tbody>
                     </table>
-                    <label id="lbTotal">$ '.(isset($total_items) && $total_items > 0?number_format($total_items, 2):"0.00").'</label>
-                    <input type="button" name="btnAgregar" id="btnAgregar" value="+" />
-                    <input type="button" name="btnEliminar" id="btnEliminar" value="-" />
-                    <div class="clear"></div>
                 </div>
-                <div class="left">
-                    <table class="tblInvoiceFields">
-                        <tbody>
-                            <tr>
-                                <!-- <td>'.PG_INV_FECHA_COBRO.'</td> -->
-                                <td colspan="2">'.PG_INV_FECHA_VENCIMIENTO.'</td>
-                            </tr>
-                            <tr>
-                                <!-- <td><input type="text" name="txtFechaCobro" readonly value="'.($InvoiceActual->fecha_cobro!=""?$InvoiceActual->fecha_cobro:date("d-m-Y")).'" /></td> -->
-                                <td colspan="2">
-                                    <input type="text" class="vl_texto" name="txtFechaVencimiento" readonly value="'.$InvoiceActual->fecha_vencimiento.'" />
-                                    <a id="calFechaFinal" onclick="displayCalendar(document.frmNewInvoice.txtFechaVencimiento,\'dd-mm-yyyy\',this)"><img src="imagenes/cal2.png" border="0" /></a>
-                                    <br /><br />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">'.PG_NOTAS_COMPRADOR.'</td>
-                            </tr>
-                            <tr>
-                                <td colspan="2"><textarea name="txtNotasComprador" placeholder="' . PG_NOTAS_COMPRADOR_IMPORTANCIA . '" maxlength="200">'.$InvoiceActual->notas_comprador.'</textarea>
-                                <br><small>' . PG_INV_AVISO_CARACTERES . '</small></td>
-                            </tr>
-                        </tbody>
-                    </table>
-                </div>
-                <div class="right">
-                    <table class="tblInvoiceFields">
-                        <tbody>
-                            <tr>
-                                <td>'.PG_MEMO.'</td>
-                            </tr>
-                            <tr>
-                                <td><textarea name="txtNotasVendedor" placeholder="' . PG_MEMO_IMPORTANCIA . '" maxlength="200">'.$InvoiceActual->notas_vendedor.'</textarea>
-                                <br><small>' . PG_INV_AVISO_CARACTERES . '</small></td>
-                            </tr>
-                        </tbody>
-                    </table>
-                </div>
-                <div class="clear"></div>
-                <div id="recurrencia">
-                    <table>
-                        <tr>
-                            <td><input type="checkbox" name="recurrencia" id="chk_recurrencia" ' . $attr_checkbox . '>
-                            <label for="recurrencia">' . PG_RECURRENCIA . '</label></td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label for="periodo">' . PG_RECURRENCIA_PERIODO . '</label>
-                            </td>
-                            
-                        </tr>
-                        <tr>
-                            <td>
-                                <select name="periodo" id="periodo" ' . $attr_disabled . '>
-                                ' . $opcion_periodicidad . '
-                                </select>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <label for="periodo">' . PG_RECURRENCIA_NUMERO_PERIODOS . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <input type="text" name="numero_periodos" id="numero_periodos" maxlength="2" '
-                                . $attr_disabled . ' value="'.$InvoiceActual->numero_periodos.'" onKeyPress="return soloNumeros(event)" />
-                                <br />
-                                <span class="texto_ayuda">' . PG_RECURRENCIA_NUMERO_PERIODOS_AVISO . '</span>
-                                
-                            </td>
-                        </tr>
-                    </table>
-                </div>
-                <div id="botones">
-                    <input type="submit" name="btnSiguiente" id="btnSiguiente" class="p-button p-button-submit" value="'.PG_VERIFICAR.'" />
-                </div>
+				<div class="text-right w-100 pt-0 pb-0">
+					<input type="button" name="btnAgregar" id="btnAgregar" value="+" />
+					<input type="button" name="btnEliminar" id="btnEliminar" value="-" />
+					<label id="lbTotal">$ '.(isset($total_items) && $total_items > 0?number_format($total_items, 2):"0.00").'</label>
+					
+				</div>
+				
+				<div class="row pt-0"><!-- start row -->
+					<div class="left col-md-12  pt-0">
+						<div class="form-group-icon pg-block">
+							<label>'.PG_INV_FECHA_VENCIMIENTO.'</label>
+							<input type="text" class="vl_texto form-control" name="txtFechaVencimiento" readonly value="'.$InvoiceActual->fecha_vencimiento.'" />
+							<a id="calFechaFinal" onclick="displayCalendar(document.frmNewInvoice.txtFechaVencimiento,\'dd-mm-yyyy\',this)"><img src="imagenes/cal2.png" border="0" /></a>
+						</div>
+						
+					</div>
+					<div class="left col-md-6">
+						<div class="form-group pg-block">
+							<label>'.PG_NOTAS_COMPRADOR.'</label>
+							<textarea class="form-control" name="txtNotasComprador" placeholder="' . PG_NOTAS_COMPRADOR_IMPORTANCIA . '" maxlength="200">'.$InvoiceActual->notas_comprador.'</textarea>
+							<small class="form-text text-muted">' . PG_INV_AVISO_CARACTERES . '</small>
+						</div>
+						
+					</div>
+					<div class="right col-md-6">
+						<div class="form-group pg-block">
+							<label>'.PG_MEMO.'</label>
+							<textarea class="form-control" name="txtNotasVendedor" placeholder="' . PG_MEMO_IMPORTANCIA . '" maxlength="200">'.$InvoiceActual->notas_vendedor.'</textarea>
+							<small class="form-text text-muted">' . PG_INV_AVISO_CARACTERES . '</small>
+						</div>
+						
+					</div>
+				
+					<div class="clear"></div>
+					<div id="recurrencia" class="col-md-6">
+						<div class=" pg-block">
+							<input type="checkbox" name="recurrencia" id="chk_recurrencia" ' . $attr_checkbox . '>
+							<label for="recurrencia">' . PG_RECURRENCIA . '</label></td>
+						</div>
+						<div class="form-group pg-block">
+							<label for="periodo">'.PG_RECURRENCIA_PERIODO.'</label>
+							<select name="periodo" id="periodo" ' . $attr_disabled . ' class="form-control">
+								' . $opcion_periodicidad . '
+							</select>
+						</div>
+						<div class="form-group pg-block">
+							<label for="periodo">'.PG_RECURRENCIA_NUMERO_PERIODOS.'</label>
+							<input class="form-control" type="text" name="numero_periodos" id="numero_periodos" maxlength="2" '
+							. $attr_disabled . ' value="'.$InvoiceActual->numero_periodos.'" onKeyPress="return soloNumeros(event)" />
+							
+							<small class="texto_ayuda form-text text-muted">' . PG_RECURRENCIA_NUMERO_PERIODOS_AVISO . '</small>
+						</div>
+						
+					</div>
+					<div id="botones" class="col-12">
+						<input type="submit" name="btnSiguiente" id="btnSiguiente" class="p-button p-button-submit" value="'.PG_VERIFICAR.'" />
+					</div>
+				</div><!-- end row -->
             </form>
         </div>
@@ -399,5 +388,5 @@
     $loading = inicShowLoading('Validando Datos.');
     $prinHtml .= $loading . '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>'.PG_TITULO_VERIFICAR.'</h1>
             <div id="verNewInvoice" method="POST" action="index.php?mod=inv&hac=proc">
@@ -421,6 +410,6 @@
                 </div>
                 <div class="clear"></div>
-                <div id="items">
-                    <table id="tblItems">
+                <div id="items" class="mt-3 mb-3">
+                    <table id="tblItems" class=" w-100">
                         <thead>
                             <tr>
@@ -452,9 +441,11 @@
                         </tbody>
                     </table>
-                    <label id="lbTotal">$ '.number_format($total, 2).'</label>
+					<div class="text-right w-100">
+						<label id="lbTotal">$ '.number_format($total, 2).'</label>
+					</div>
                     <div class="clear"></div>
                 </div>
                 <div class="left">
-                    <table class="tblInvoiceFieldsVerify">
+                    <table class="tblInvoiceFieldsVerify ">
                         <tbody>
                             <tr>
@@ -487,5 +478,5 @@
                     <br />
                     <div class="left">
-                        <table class="tblInvoiceFieldsVerify">
+                        <table class="tblInvoiceFieldsVerify ">
                             <tbody>
                                 <tr>
@@ -776,5 +767,5 @@
 
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>' . PG_TITULO_NUEVO_BATCH . '</h1>
             <div class="instrucciones_batch">
@@ -803,23 +794,23 @@
             <div class="formulario" >
                 <form id="frmNewBatchInvoice" name="frmNewBatchInvoice" method="POST" action="index.php?mod=inv&hac=check_batch" enctype="multipart/form-data">
-                    <table>
-                        <tr>
-                            <td>
-                                <input type="file" name="fileBatchInvoice" id="fileBatchInvoice" class="fileBatchInvoice" class="inputfile inputfile-1"/>
-                                <label for="fileBatchInvoice">
-                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17">
-                                    <path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"></path>
-                                    </svg>
-                                    <span>'. PG_BTN_SELECCIONAR_ARCHIVO .'</span>
-                                </label>
-                            <td>
-                                <span id="fileName"></span>
-                            </td>
-                            </td>
-                            <td>
-                                <input type="submit" name="btnImportarArchivo" id="btnImportarArchivo" class="p-button p-button-submit" value="    ' . PG_BTN_IMPORTAR_LOTE . '    " />
-                            </td>
-                        </tr>
-                    </table>
+                    <div class="form-group row align-items-center p-2 pb-0 mb-0">
+						
+						<div class="col-12 col-md-4 col-lg-3">
+							<input type="file" name="fileBatchInvoice" id="fileBatchInvoice" class="fileBatchInvoice" class="inputfile inputfile-1"/>
+							<label for="fileBatchInvoice">
+								<svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17">
+								<path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"></path>
+								</svg>
+								<span>'. PG_BTN_SELECCIONAR_ARCHIVO .'</span>
+							</label>
+						</div>
+						<div class="col-12 col-md-auto">
+							<span id="fileName"></span>
+						</div>
+						<div class="col-12 col-md-auto">
+							<input type="submit" name="btnImportarArchivo" id="btnImportarArchivo" class="p-button p-button-submit" value="    ' . PG_BTN_IMPORTAR_LOTE . '    " />
+						</div>
+					</div>
+					
                 </form>
             </div>
@@ -828,34 +819,36 @@
                 <h1>'. PG_INDICACIONES_SOBRE_ARCHIVO .'</h1>
                 <p>'. PG_INDICACIONES_SOBRE_ARCHIVO_1 .'<br/>'. PG_INDICACIONES_SOBRE_ARCHIVO_2 .'</p>
-                <table id="tabla_csv" class="ColsCSV" cellspacing="0" cellpadding="0" border="0" width="100%">
-                    <tbody>
-                        <tr>
-                            <th>'. PG_INDICACIONES_COL_NUMERO_COMPROBANTE .'</th>
-                            <th>'. PG_INDICACIONES_COL_CORREO .'</th>
-                            <th>'. PG_INDICACIONES_COL_NOMBRE_DESTINATARIO .'</th>
-                            <th>'. PG_INDICACIONES_COL_CONCEPTO .'</th>
-                            <th>'. PG_INDICACIONES_COL_PRECIO .'</th>
-                            <th>'. PG_INDICACIONES_COL_CANTIDAD .'</th>
-                            <th>'. PG_INDICACIONES_COL_FVENCIMIENTO .'</th>
-                            <th>'. PG_INDICACIONES_COL_NOTAS .'</th>
-                            <th>'. PG_INDICACIONES_COL_MEMO .'</th>
-                            <th>'. PG_INDICACIONES_COL_PERIODO .'</th>
-                            <th style="border-right:none;">'. PG_INDICACIONES_COL_NUM_PAGOS .'</th>
-                        </tr>
-                        <tr>
-                            <td valign="top">'. PG_INDICACIONES_COL_NUMERO_COMPROBANTE_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_CORREO_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_NOMBRE_DESTINATARIO_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_CONCEPTO_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_PRECIO_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_CANTIDAD_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_FVENCIMIENTO_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_NOTAS_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_MEMO_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_PERIODO_DES .'</td>
-                            <td valign="top">'. PG_INDICACIONES_COL_NUM_PAGOS_DES .'</td>
-                        </tr>
-                    </tbody>
-                </table>
+                <div class="table-responsive-lg">
+					<table id="tabla_csv" class="ColsCSV table pg-table-fixed-2" cellspacing="0" cellpadding="0" border="0" width="100%">
+						<tbody>
+							<tr>
+								<th>'. PG_INDICACIONES_COL_NUMERO_COMPROBANTE .'</th>
+								<th>'. PG_INDICACIONES_COL_CORREO .'</th>
+								<th>'. PG_INDICACIONES_COL_NOMBRE_DESTINATARIO .'</th>
+								<th>'. PG_INDICACIONES_COL_CONCEPTO .'</th>
+								<th>'. PG_INDICACIONES_COL_PRECIO .'</th>
+								<th>'. PG_INDICACIONES_COL_CANTIDAD .'</th>
+								<th>'. PG_INDICACIONES_COL_FVENCIMIENTO .'</th>
+								<th>'. PG_INDICACIONES_COL_NOTAS .'</th>
+								<th>'. PG_INDICACIONES_COL_MEMO .'</th>
+								<th>'. PG_INDICACIONES_COL_PERIODO .'</th>
+								<th style="border-right:none;">'. PG_INDICACIONES_COL_NUM_PAGOS .'</th>
+							</tr>
+							<tr>
+								<td valign="top">'. PG_INDICACIONES_COL_NUMERO_COMPROBANTE_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_CORREO_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_NOMBRE_DESTINATARIO_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_CONCEPTO_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_PRECIO_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_CANTIDAD_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_FVENCIMIENTO_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_NOTAS_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_MEMO_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_PERIODO_DES .'</td>
+								<td valign="top">'. PG_INDICACIONES_COL_NUM_PAGOS_DES .'</td>
+							</tr>
+						</tbody>
+					</table>
+				</div>
                 <p>'. PG_INDICACIONES_SOBRE_ARCHIVO_3 .'</p>
                 <p>'. PG_INDICACIONES_SOBRE_ARCHIVO_4 .'</p>
@@ -992,5 +985,5 @@
         // imprimir pasos
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_INV_TITULO_PROCESO_IMPORTACION . '</h1>
                 <p>' . PG_INV_INDICACIONES_PROCESO_IMPORTACION . '</p>
@@ -1178,5 +1171,5 @@
     global $db, $prinHtml;
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>'.PG_TITULO_INVOICE_RECURRENCIA.'</h1>
     ';
@@ -1192,42 +1185,61 @@
     }
     
-    $prinHtml .= '<table class="informacion" width="400px">
-                    <tr>
-                        <td><b>' . PG_INV_FECHA_CREACION . '</b></td>
-                        <td>' . $suscripcion['fecha_inicio'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_REC_IDENTIFICADOR . '</b></td>
-                        <td>' . $suscripcion['ern'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_DESTINATARIO . '</b></td>
-                        <td>' . $suscripcion['nombre'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_CORREO_DESTINATARIO . '</b></td>
-                        <td>' . $suscripcion['correo'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_MONTO_TOTAL . '</b></td>
-                        <td>' . $suscripcion['monto'] . '</td>
-                    </tr> 
-                    <tr>
-                        <td><b>' . PG_INV_DESCRIPCION . '</b></td>
-                        <td>' . $suscripcion['descripcion'] . '</td>
-                    </tr> 
-                    <tr>
-                        <td><b>' . PG_INV_TIPO_SUSCRIPCION . '</b></td>
-                        <td>' . $suscripcion['periodo'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_NUM_PAGOS . '</b></td>
-                        <td>' . ($suscripcion['cobros_total'] > 0 ? $suscripcion['cobros_total'] : PG_RECURRENCIA_INDEFINIDO) . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_REC_ESTADO . '</b></td>
-                        <td>' . ($suscripcion['activa'] == 0 ? PG_REC_INACTIVA : PG_REC_ACTIVA) . '</td>
-                    </tr>                    
-                  </table>';
+    $prinHtml .= '
+			<div class="informacion row align-items-center">
+				<div class="col-5 col-sm-4"><b>' . PG_INV_FECHA_CREACION . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . $suscripcion['fecha_inicio'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_REC_IDENTIFICADOR . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . $suscripcion['ern'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_DESTINATARIO . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . $suscripcion['nombre'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_CORREO_DESTINATARIO . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . $suscripcion['correo'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_MONTO_TOTAL . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . $suscripcion['monto'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_DESCRIPCION . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . $suscripcion['descripcion'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_TIPO_SUSCRIPCION . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . $suscripcion['periodo'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_NUM_PAGOS . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . ($suscripcion['cobros_total'] > 0 ? $suscripcion['cobros_total'] : PG_RECURRENCIA_INDEFINIDO) . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-5 col-sm-4"><b>' . PG_INV_REC_ESTADO . '</b></div>
+				<div class="col-7 col-sm-8">
+					' . ($suscripcion['activa'] == 0 ? PG_REC_INACTIVA : PG_REC_ACTIVA) . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+			</div>
+		';
     
     //obteniendo los pagos
@@ -1244,34 +1256,36 @@
     $prinHtml .= '
             <h3>' . PG_INV_LISTADO_RECURRENCIA . '</h3>
-            <table id="tblListado_cobros">
-                <thead>
-                    <tr>
-                        <th>'.PG_INV_NUMERO.'</th>
-                        <th>'.PG_MONTO2.' US$</th>
-                        <th>'.PG_FECHA_COBRO2.'</th>
-                        <th>'.PG_INV_REFERENCIA.'</th>
-                    </tr>
-                </thead>
-                <tbody>
-    ';
-    
-    $pagos = obtenerDetallesCobrosSuscripcion($id_suscripcion);
-    
-    if(count($pagos) > 0){ 
-        foreach($pagos as $pago){
-            $prinHtml .= '<tr>
-                            <td>' . $pago['ern'] . '</td>
-                            <td>' . $pago['amount'] . '</td>
-                            <td>' . $pago['fecha_pago'] . '</td>
-                            <td>' . $pago['referencia_corta'] . '</td>
-                          </tr> '; 
-        }
-    } else {
-        $prinHtml .= '<tr><td colspan="4">' . PG_INVOICE_SIN_PAGOS . '</td></tr>';
-    }
-    $prinHtml .= '
-                </tbody>
-            </table>
-            </div>';
+            <div class="table-responsive">
+				<table id="tblListado_cobros" class="table">
+					<thead>
+						<tr>
+							<th>'.PG_INV_NUMERO.'</th>
+							<th>'.PG_MONTO2.' US$</th>
+							<th>'.PG_FECHA_COBRO2.'</th>
+							<th>'.PG_INV_REFERENCIA.'</th>
+						</tr>
+					</thead>
+					<tbody>
+		';
+		
+		$pagos = obtenerDetallesCobrosSuscripcion($id_suscripcion);
+		
+		if(count($pagos) > 0){ 
+			foreach($pagos as $pago){
+				$prinHtml .= '<tr>
+								<td>' . $pago['ern'] . '</td>
+								<td>' . $pago['amount'] . '</td>
+								<td>' . $pago['fecha_pago'] . '</td>
+								<td>' . $pago['referencia_corta'] . '</td>
+							  </tr> '; 
+			}
+		} else {
+			$prinHtml .= '<tr><td colspan="4">' . PG_INVOICE_SIN_PAGOS . '</td></tr>';
+		}
+		$prinHtml .= '
+					</tbody>
+				</table>
+            </div>
+		</div>';
 }
 
@@ -1430,41 +1444,59 @@
     }
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>'.PG_TITULO_CANCELAR_INVOICE_RECURRENCIA.'</h1>
     ';
-    $prinHtml .= '<table class="informacion" width="400px">
-                    <tr>
-                        <td><b>' . PG_INV_FECHA_CREACION . '</b></td>
-                        <td>' . $suscripcion['fecha_inicio'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_DESTINATARIO . '</b></td>
-                        <td>' . $suscripcion['nombre'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_CORREO_DESTINATARIO . '</b></td>
-                        <td>' . $suscripcion['correo'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_MONTO_TOTAL . '</b></td>
-                        <td>' . $suscripcion['monto'] . '</td>
-                    </tr> 
-                    <tr>
-                        <td><b>' . PG_INV_DESCRIPCION . '</b></td>
-                        <td>' . $suscripcion['descripcion'] . '</td>
-                    </tr> 
-                    <tr>
-                        <td><b>' . PG_INV_TIPO_SUSCRIPCION . '</b></td>
-                        <td>' . $suscripcion['periodo'] . '</td>
-                    </tr>
-                    <tr>
-                        <td><b>' . PG_INV_NUM_PAGOS . '</b></td>
-                        <td>' . ($suscripcion['cobros_total'] > 0 ? $suscripcion['cobros_total'] : PG_RECURRENCIA_INDEFINIDO) . '</td>
-                    </tr> 
-                    <tr>
-                        <td><b>' . PG_INV_NUM_PAGOS_REALIZADOS . '</b></td>
-                        <td>' . $suscripcion['cobros_realizados'] . '</td>
-                    </tr> 
-                  </table>
+    $prinHtml .= '
+				<div class="informacion row align-items-center">
+					<div class="col-5 col-sm-4"><b>' . PG_INV_FECHA_CREACION . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . $suscripcion['fecha_inicio'] . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+					
+					<div class="col-5 col-sm-4"><b>' . PG_INV_DESTINATARIO . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . $suscripcion['nombre'] . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+					
+					<div class="col-5 col-sm-4"><b>' . PG_INV_CORREO_DESTINATARIO . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . $suscripcion['correo'] . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+					
+					<div class="col-5 col-sm-4"><b>' . PG_INV_MONTO_TOTAL . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . $suscripcion['monto'] . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+					
+					<div class="col-5 col-sm-4"><b>' . PG_INV_DESCRIPCION . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . $suscripcion['descripcion'] . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+					
+					<div class="col-5 col-sm-4"><b>' . PG_INV_TIPO_SUSCRIPCION . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . $suscripcion['periodo'] . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+					
+					<div class="col-5 col-sm-4"><b>' . PG_INV_NUM_PAGOS . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . ($suscripcion['cobros_total'] > 0 ? $suscripcion['cobros_total'] : PG_RECURRENCIA_INDEFINIDO) . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+					
+					<div class="col-5 col-sm-4"><b>' . PG_INV_NUM_PAGOS_REALIZADOS . '</b></div>
+					<div class="col-7 col-sm-8">
+						' . $suscripcion['cobros_realizados'] . '
+					</div>
+					<div class="col-12 mt-1 mb-1"></div>
+				</div>
+			
+	
                 <br>
                 <form method="post">
Index: branches/b-20180319.02/modulos/inv/index.php
===================================================================
--- trunk/modulos/inv/index.php	(revision 3384)
+++ branches/b-20180319.02/modulos/inv/index.php	(revision 3579)
@@ -38,33 +38,21 @@
     
     case "new";
-        
         nuevoInvoice();
         break;
-    
     case "check":
-        
         verificarInvoice();
         break;
-    
     case "proc":
-        
         procesarInvoice();
         break;
-    
     case "send":
-        
         enviarInvoice();
         break;
-    
     case "rec":
-        
         detalleRecurrenciaInvoice();
         break;
-    
     case "can":
-        
         cancelarSuscripcion();
         break;
-    
     default:
         listarInvoice();
Index: branches/b-20180319.02/modulos/pagos_npe/funciones.php
===================================================================
--- trunk/modulos/pagos_npe/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/pagos_npe/funciones.php	(revision 3579)
@@ -14,4 +14,5 @@
             <title><?php echo PG_HOME_TITLE; ?></title>
             <meta charset="UTF-8">
+            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
             <meta name="description" content="<?php echo PG_HOME_DESCRIPTION; ?>" />
             <meta name="keywords" content="<?php echo PG_HOME_KEYWORDS; ?>" />
@@ -30,6 +31,8 @@
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/animate.min.css<?= $varCache ?>">
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/javascript/FancySelect/FancySelect.css<?= $varCache ?>">
-            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/home.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/home_r.css<?= $varCache ?>">
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/pagos_npe.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/grid.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/pagadito_responsive.css<?= $varCache ?>">
             <?= getLinkHREFLANG('home'); ?>
             
@@ -47,46 +50,106 @@
             <div id="div_wrapper" class="country_<?= getNombrePaisByIDPais($id_pais, $idioma); ?>">
                 <div id="div_content">
-                    <header id="header">
-                        <a href="<?= getURLSEF('home'); ?>" id="a_logo">
-                            <h2>
-                                <img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagadito.jpg" alt="<?= PG_HOME_ALT_IMG_LOGO_PG; ?>" />
-                            </h2>
-                        </a>
+                
+					<header id="header" class="container-fluid mb-sm-2 mb-md-0 mt-3 mb-2">
+						<div class="align-items-center d-flex justify-content-between row"><!-- start row -->
+							<div class="col-6 col-sm-auto col-md-3">
+								<a href="<?= getURLSEF('home'); ?>" id="a_logo">
+									<h2>
+										<img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagadito.jpg" alt="<?= PG_HOME_ALT_IMG_LOGO_PG; ?>" class="img-fluid" />
+									</h2>
+								</a>
+							</div>
+							<div class="col-6 col-sm-auto col-md-1">
+								<!-- start menu mobile -->
+								<div id="pg-nav-icon" onclick="pg_open_menu();">
+								  <span></span>
+								  <span></span>
+								  <span></span>
+								</div>
+							</div>
+							
+						</div><!-- end row -->
+						
+                        <div class="row justify-content-between pg-menu-desktop"><!-- start row -->
+							<nav id="nav_main_menu" class="col-12">
+								<ul>
+									<li>
+										<a href="<?= getURLSEF('pdp'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PASARELA_PAGO; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('pel'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PAGOS_LINEA; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('fe'); ?>">
+											<h2><?= PG_GEN_NAV_MM_FACTURACION_ELECTRONICA; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('ryt'); ?>">
+											<h2><?= PG_GEN_NAV_MM_RETIROS_BANCARIOS; ?></h2>
+										</a>
+									</li>
+									<li class="li_separetor"></li>
+									<li>
+										<a href="<?= getURLSEF('ct'); ?>">
+											<h2><?= PG_GEN_NAV_MM_CONTACTENOS; ?></h2>
+										</a>
+									</li>
+								</ul>
+							</nav>
+							
+						</div><!-- end row -->
                         <div class="clear"></div>
-                        <nav id="nav_main_menu">
-                            <ul>
-                                <li>
-                                    <a href="<?= getURLSEF('pdp'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_PASARELA_PAGO; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('pel'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_PAGOS_LINEA; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('fe'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_FACTURACION_ELECTRONICA; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('ryt'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_RETIROS_BANCARIOS; ?></h2>
-                                    </a>
-                                </li>
-                                <li class="li_separetor"></li>
-                                <li>
-                                    <a href="<?= getURLSEF('ct'); ?>">
-                                        <h2><?= PG_GEN_NAV_MM_CONTACTENOS; ?></h2>
-                                    </a>
-                                </li>
-                            </ul>
-                        </nav>
-                        <div class="clear"></div>
+						<!-- start menu mobile -->
+						
+						<div id="pg-menu-mobile-screen" class="">
+							<div>
+								
+								<ul>
+									<li>
+										<a href="<?= getURLSEF('pdp'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PASARELA_PAGO; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('pel'); ?>">
+											<h2><?= PG_GEN_NAV_MM_PAGOS_LINEA; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('fe'); ?>">
+											<h2><?= PG_GEN_NAV_MM_FACTURACION_ELECTRONICA; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('ryt'); ?>">
+											<h2><?= PG_GEN_NAV_MM_RETIROS_BANCARIOS; ?></h2>
+										</a>
+									</li>
+									
+									<li>
+										<a href="<?= getURLSEF('ct'); ?>">
+											<h2><?= PG_GEN_NAV_MM_CONTACTENOS; ?></h2>
+										</a>
+									</li>
+								</ul>
+								
+							</div>
+							
+						</div>
+						<!-- end menu mobile -->
+						
                     </header>
+					
                     <div id="div_secctions">
                     <?php 
@@ -104,106 +167,113 @@
                     </div>
                     <footer id="footer">
-                        <section id="sec_pagadito_footer">
-                            <div class="column" id="column_1">
-                                <h2><?= PG_GEN_FOOTER_CENTRO_DE_AYUDA; ?></h2>
-                                <ul class="optionsList">
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=FAQ">
-                                            <h3><?= PG_GEN_FOOTER_PREGUNTAS_FRECUENTES; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= getURLSEF('ct'); ?>">
-                                            <h3><?= PG_GEN_FOOTER_CONTACTENOS; ?></h3>
-                                        </a>
-                                    </li>
-                                </ul>
-                                <h2><?= PG_GEN_FOOTER_SEGURIDAD; ?></h2>
-                                <ul class="optionsList">
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ZS">
-                                            <h3><?= PG_GEN_FOOTER_ZONA_SEGURA; ?></h3>
-                                        </a>
-                                    </li>
-                                </ul>
-                                <h2><?= PG_GEN_FOOTER_POLITICAS; ?></h2>
-                                <ul class="optionsList">
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO">
-                                            <h3><?= PG_GEN_FOOTER_ACUERDOS_Y_CONDICIONES; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_RESERVA_INFO">
-                                            <h3><?= PG_GEN_FOOTER_POLITICAS_DE_RESERVA_DE_LA_INFORMACION; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_COMERCIOS">
-                                            <h3><?= PG_GEN_FOOTER_POLITICAS_DE_USO_DE_PAGADITO_COMERCIOS; ?></h3>
-                                        </a>
-                                    </li>
-                                    <li>
-                                        <a href="<?= getURLSEF('tyc'); ?>">
-                                            <h3><?= PG_GEN_FOOTER_TARIFAS; ?></h3>
-                                        </a>
-                                    </li>
-                                </ul>
-                            </div>
-                            <div class="column" id="column_2">
-                                <h2><?= PG_GEN_FOOTER_SUSCRIBETE; ?></h2>
-                                <form id="frm_suscribete" name="frm_suscribete" action="javascript: guardarSuscripcion();">
-                                    <label for="txt_suscribete_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE; ?></label>
-                                    <input type="text" id="txt_suscribete_email" name="txt_suscribete_email" value="" placeholder="<?= PG_GEN_FOOTER_VALUE_INPUT_SUSCRIBETE; ?>" />
-                                    <input type="button" id="btn_suscribete_ok" name="btn_suscribete_ok" value="<?= PG_GEN_FOOTER_VALUE_BTN_SUSCRIBETE; ?>" onclick="javascript: guardarSuscripcion();" />
-                                    <div class="clear"></div>
-                                    <label id="msj_suscribete_no_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE_NO_EMAIL; ?></label>
-                                    <label id="msj_suscribete"></label>
-                                    <div class="clear"></div>
-                                </form>
-                            </div>
-                            <div class="column" id="column_3">
-                                <h2><?= PG_GEN_FOOTER_CERTIFICACION_DE_TRANSACCIONES; ?></h2>
-                                <div id="certificados">
-                                    <div id="verisign">
-                                        <img id="sello1" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_ssl_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_SSL; ?>" />
-                                    </div>
-                                    <div id="pci">
-                                        <img id="sello2" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_pci_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_PCI; ?>" />
-                                    </div>
-                                    <div class="clear"></div>
-                                    <div id="div_tarjetas">
-                                        <img id="img_tarjetas_footer" src="<?= URL_SITIO; ?>/img/vw_home/pg-iconos-tarjetas-2.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TARJETAS; ?>" />
-                                    </div>
-                                    <div class="clear"></div>
-                                </div>
-                            </div>
-                            <div class="column" id="column_4">
-                                <h2><?= PG_GEN_FOOTER_BUSQUENOS_EN; ?></h2>
-                                <div id="redes_sociales">
-                                    <a class="pg_redes_sociales btn_social_facebook" href="<?= URL_PG_FACEBOOK;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_FACEBOOK; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_twitter" href="<?= URL_PG_TWITTER;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_TWITTER; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_youtube" href="<?= URL_PG_YOUTUBE;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_YOUTUBE; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_google_plus" href="<?= URL_PG_GOOGLE_PLUS;?>" rel="publisher" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_GOOGLE_PLUS; ?>" target="_blank">&nbsp;</a>
-                                    <a class="pg_redes_sociales btn_social_wordpress" href="<?= URL_PG_WORDPRESS;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_WORDPRESS; ?>" target="_blank">&nbsp;</a>
-                                    <div class="clear"></div>
-                                </div>
-                            </div>
-                            <div class="clear"></div>
-                            <h1 id="h1_pague_seguro">
-                                <strong><?= PG_GEN_FOOTER_SLOGAN; ?></strong>
-                            </h1>
+                        <section id="sec_pagadito_footer" class="container-fluid">
+							<div class="row"><!-- start row -->
+								<div class="column col-sm-6 col-md col-lg-3" id="column_1">
+									<h2><?= PG_GEN_FOOTER_CENTRO_DE_AYUDA; ?></h2>
+									<ul class="optionsList">
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=FAQ">
+												<h3><?= PG_GEN_FOOTER_PREGUNTAS_FRECUENTES; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= getURLSEF('ct'); ?>">
+												<h3><?= PG_GEN_FOOTER_CONTACTENOS; ?></h3>
+											</a>
+										</li>
+									</ul>
+									<h2><?= PG_GEN_FOOTER_SEGURIDAD; ?></h2>
+									<ul class="optionsList">
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ZS">
+												<h3><?= PG_GEN_FOOTER_ZONA_SEGURA; ?></h3>
+											</a>
+										</li>
+									</ul>
+									<h2><?= PG_GEN_FOOTER_POLITICAS; ?></h2>
+									<ul class="optionsList">
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO">
+												<h3><?= PG_GEN_FOOTER_ACUERDOS_Y_CONDICIONES; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_RESERVA_INFO">
+												<h3><?= PG_GEN_FOOTER_POLITICAS_DE_RESERVA_DE_LA_INFORMACION; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= URL_SITIO; ?>/index.php?mod=contenidos&pag=POLITICAS_COMERCIOS">
+												<h3><?= PG_GEN_FOOTER_POLITICAS_DE_USO_DE_PAGADITO_COMERCIOS; ?></h3>
+											</a>
+										</li>
+										<li>
+											<a href="<?= getURLSEF('tyc'); ?>">
+												<h3><?= PG_GEN_FOOTER_TARIFAS; ?></h3>
+											</a>
+										</li>
+									</ul>
+								</div>
+								<div class="column col-sm-6 col-md col-lg-3" id="column_2">
+									<h2><?= PG_GEN_FOOTER_SUSCRIBETE; ?></h2>
+									<form id="frm_suscribete" name="frm_suscribete" action="javascript: guardarSuscripcion();">
+										<label for="txt_suscribete_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE; ?></label>
+										<input type="text" id="txt_suscribete_email" name="txt_suscribete_email" value="" placeholder="<?= PG_GEN_FOOTER_VALUE_INPUT_SUSCRIBETE; ?>" />
+										<input type="button" id="btn_suscribete_ok" name="btn_suscribete_ok" value="<?= PG_GEN_FOOTER_VALUE_BTN_SUSCRIBETE; ?>" onclick="javascript: guardarSuscripcion();" />
+										<div class="clear"></div>
+										<label id="msj_suscribete_no_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE_NO_EMAIL; ?></label>
+										<label id="msj_suscribete"></label>
+										<div class="clear"></div>
+									</form>
+								</div>
+								<div class="col-lg-3 col-md col-sm-6 column text-center text-sm-left" id="column_3">
+									<h2><?= PG_GEN_FOOTER_CERTIFICACION_DE_TRANSACCIONES; ?></h2>
+									<div id="certificados">
+										<div id="verisign">
+											<img id="sello1" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_ssl_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_SSL; ?>" />
+										</div>
+										<div id="pci">
+											<img id="sello2" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_pci_off.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_PCI; ?>" />
+										</div>
+										<div class="clear"></div>
+										<div id="div_tarjetas">
+											<img id="img_tarjetas_footer" src="<?= URL_SITIO; ?>/img/vw_home/pg-iconos-tarjetas-2.png" alt="<?= PG_HOME_ALT_IMG_ICONO_TARJETAS; ?>" />
+										</div>
+										<div class="clear"></div>
+									</div>
+								</div>
+								<div class="col-12 col-lg-3 col-md-12 col-sm-6 column text-center text-lg-left text-md-center" id="column_4">
+									<h2><?= PG_GEN_FOOTER_BUSQUENOS_EN; ?></h2>
+									<div id="redes_sociales">
+										<a class="pg_redes_sociales btn_social_facebook" href="<?= URL_PG_FACEBOOK;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_FACEBOOK; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_twitter" href="<?= URL_PG_TWITTER;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_TWITTER; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_youtube" href="<?= URL_PG_YOUTUBE;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_YOUTUBE; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_google_plus" href="<?= URL_PG_GOOGLE_PLUS;?>" rel="publisher" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_GOOGLE_PLUS; ?>" target="_blank">&nbsp;</a>
+										<a class="pg_redes_sociales btn_social_wordpress" href="<?= URL_PG_WORDPRESS;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_WORDPRESS; ?>" target="_blank">&nbsp;</a>
+										<div class="clear"></div>
+									</div>
+								</div>
+							</div><!-- end row -->
+                            <div class="row"><!-- start row -->
+								<div class="col-12">
+									<h1 id="h1_pague_seguro">
+										<strong><?= PG_GEN_FOOTER_SLOGAN; ?></strong>
+									</h1>
+								</div>
+							</div><!-- end row -->
                             <div class="clear"></div>
                         </section>
                         <section id="sec_pagaditogroup_footer">
-                            <div id="center">
-                                <div id="copys"><?= PG_GEN_FOOTER_COPY; ?></div>
-                                <div id="link-group">
-                                    <a href="http://www.pagaditogroup.com/" target="_blank">
-                                        <h3>
-                                            <img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagaditogroup.jpg" alt="<?= PG_HOME_ALT_IMG_ICONO_PG_GROUP; ?>" />
-                                        </h3>
-                                    </a>
-                                </div>
+                            <div id="center" class="container-fluid">
+								<div class="row"><!-- start row -->
+									<div id="copys" class="col-md-8 col-sm-12"><?= PG_GEN_FOOTER_COPY; ?></div>
+									<div id="link-group" class="col-md-4 col-sm-12 text-center">
+										<a href="http://www.pagaditogroup.com/" target="_blank">
+											<h3>
+												<img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagaditogroup.jpg" alt="<?= PG_HOME_ALT_IMG_ICONO_PG_GROUP; ?>" class="img-fluid"/>
+											</h3>
+										</a>
+									</div>
+								</div><!-- end row -->
                                 <div class="clear"></div>
                             </div>
@@ -225,9 +295,14 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
             <script>
-                
+                if ($('npe') != null){
                    $('npe').meiomask($('npe').get('data-meiomask'));
-              
+                }
             </script>
         </body>
@@ -247,7 +322,7 @@
             <div class="div_section_content">
                 <article id="descripcion_pago_npe">
-                    <div class="tabla">
-                        <div class="fila">
-                            <div class="columna npe_desc">
+                    <div class="container-fluid">
+                        <div class="row">
+                            <div class="columna npe_desc col-md-8 mb-4">
                                 <h3><?= PG_NPE_TITULO_DESCRIPCION; ?></h3>
                                 <div class="npe_desc_logos">
@@ -255,5 +330,5 @@
                                        <?= PG_NPE_DESCRIPCION; ?>
                                     </p>
-                                    <ul id="logos">
+                                    <ul id="logos" class="text-center text-md-left">
                                         <li><img src="<?= URL_SITIO; ?>/img/vw_npe/logos_tarjetas_permitidas.png" alt="PG_HOME_ALT_IMG_ICONO_TARJETAS"></li>
                                         <li><img src="<?= URL_SITIO; ?>/img/vw_npe/logo_pci.png" alt="PG_HOME_ALT_IMG_ICONO_TRUSTWAVE_PCI"></li>
@@ -262,5 +337,5 @@
                                 </div>
                             </div>
-                            <div class="columna desc_npe_logo_mh">
+                            <div class="columna desc_npe_logo_mh  col-md-4  mb-4 align-self-end">
                                 <img src="<?= URL_SITIO; ?>/img/vw_npe/logo_mh.png">
                             </div>
@@ -272,8 +347,15 @@
         <section class="sec_pg" id="section_form_npe">
             <div class="div_section_content">
-                <div class="indicacion_pasos">
-                    <img src="<?= URL_SITIO; ?>/img/vw_npe/paso_1.png" class="left"><h3><?= PG_NPE_DONDE_ESTA; ?></h3>
-                    <p><?= PG_NPE_DONDE_ESTA_DESC; ?></p>
-                </div>
+				<div class="container-fluid">
+					<div class="indicacion_pasos row text-center text-sm-left">
+						<div class="col-sm-auto col-12 align-self-center">
+							<img src="<?= URL_SITIO; ?>/img/vw_npe/paso_1.png" class="left mb-2 img-fluid text-center">
+						</div>
+						<div class="col">
+							<h3><?= PG_NPE_DONDE_ESTA; ?></h3>
+							<p><?= PG_NPE_DONDE_ESTA_DESC; ?></p>
+						</div>
+					</div>
+				</div>
                 <div id="div_form_npe">
                     <h3><?= PR_NPE_INGRESE_NPE; ?></h3><br>
@@ -329,5 +411,5 @@
                         <br>
                         <br>
-                            <div id="formulario_pago">
+                            <div id="formulario_pago" class="text-center w-100">
                                 <form action="/npe-numero-de-pago-electronico-en-linea/procesar" method="post">
                                 <input type="submit" class="btn_procesar" value="Pagar">
@@ -345,5 +427,5 @@
                     </table>
                     <div class="aviso_error">' . constant($datos_npe->error) . '</div>
-                    <div id="formulario_pago">
+                    <div id="formulario_pago" class="text-center w-100">
                         <a href="' . URL_SITIO . '/npe-numero-de-pago-electronico-en-linea">' . PG_NPE_NO_ES_NPE . '</a>
                     </div>
@@ -364,5 +446,5 @@
                 $html .= '<div class="aviso_error">' . PG_NPE_ERROR_CONEXION . '</div>';
             }
-            $html .= '<div id="formulario_pago">
+            $html .= '<div id="formulario_pago" class="text-center w-100">
                         <a href="' . URL_SITIO . '/npe-numero-de-pago-electronico-en-linea">' . PG_NPE_NO_ES_NPE . '</a>
                     </div>
@@ -372,16 +454,24 @@
         <section class="sec_pg" id="sec_pague_npe">
             <div class="div_section_content">
-                <div class="indicacion_pasos">
-                    <img src="<?= URL_SITIO; ?>/img/vw_npe/paso_2.png" class="left"><h3 id="t_confirmacion"><?= PG_NPE_CONFIRME_SU_NPE; ?></h3>
-                    <p><?= PG_NPE_CONFIRME_SU_NPE_DESC; ?></p>
-                </div>
-                <div class="tabla">
-                        <div class="fila">
-                            <div class="columna npe_desc">
+				<div class="container-fluid">
+					<div class="indicacion_pasos row text-center text-sm-left">
+						<div class="col-sm-auto col-12 align-self-center">
+							<img src="<?= URL_SITIO; ?>/img/vw_npe/paso_2.png" class="left mb-2 img-fluid text-center">
+						</div>
+						<div class="col">
+							<h3 id="t_confirmacion"><?= PG_NPE_CONFIRME_SU_NPE; ?></h3>
+							<p><?= PG_NPE_CONFIRME_SU_NPE_DESC; ?></p>
+						</div>
+					</div>
+				</div>
+                
+                <div class="container-fluid">
+                        <div class="row">
+                            <div class="columna npe_desc col-md-8 col-12 mb-4">
                                 <div id="validacion">
                                 <?= $html; ?>
                                 </div>
                             </div>
-                            <div class="columna">
+                            <div class="columna col-md-4 col-12s mb-4 align-self-center text-center text-md-left">
                                 <?= $informacion; ?>
                                 <ul id="logos_2">
Index: branches/b-20180319.02/modulos/recargo/funciones.php
===================================================================
--- trunk/modulos/recargo/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/recargo/funciones.php	(revision 3579)
@@ -22,5 +22,5 @@
      */
     //
-    $prinHtml .= '<div class="detallecuerpo">
+    $prinHtml .= '<div class="detallecuerpo container-fluid">
                       <h1>'.PG_RECARGO_CONFIRMAR_TITULO.'</h1>
                           <form id="frmRecargo" name="frmRecargo" method="post" action="' . $tranPagina . '&hac=cnfm">
@@ -30,29 +30,27 @@
         $prinHtml .= iniCreaMsg($mensaje);
     }
-    $prinHtml .= '<table width="700" border="0">
-                    <tr>
-                            <td colspan="2">' . mostrarDetTarj(intval(desencriptar(1, $idTarjeta))) . '</td>
-                    </tr>
-                    <tr>
-                       <td colspan="2">
-                            <br/>
-                            <span style="font-weight: bold;">'.PG_RECARGO_CONFIRMAR_MONTO_A_RECARGAR.':</span>
+    $prinHtml .= '
+					<div class="row mt-4">
+						<div class="col-12 mb-2">
+							' . mostrarDetTarj(intval(desencriptar(1, $idTarjeta))) . '
+						</div>
+						<div class="col-12 mb-2">
+							<span style="font-weight: bold;">'.PG_RECARGO_CONFIRMAR_MONTO_A_RECARGAR.':</span>
                             <strong>USD $&nbsp;' . number_format($monto, 2, '.', ',') . '&nbsp;</strong>
-                            <br/><br/>
-                       </td>
-                      </tr>
-                      <tr>
-                          <td colspan="2">'.PG_RECARGO_CONFIRMAR_INGRESAR_PWD_NUEVAMENTE.':
-                              <input id="_clave" name="clave" type="password" autocomplete="off" value="" class="vl_clave" maxlength="20" style="width: 150px;" />
-                          </td>
-                      </tr>
-                      <tr>
-                          <td colspan="2">
-                              <div id="_alertas" style="color: #FF0000"></div>
-                              <input class="p-button p-button-submit" id="enviar" name="enviar" type="submit" value="'.PG_GEN_BOTON_CONFIRMAR.'" />
-                              <a class="p-button" href="./index.php" onclick="overlay()">'.PG_GEN_BOTON_CANCELAR.'</a>
-                          </td>
-                      </tr>
-                  </table>
+						</div>
+						
+						<div class="col-12 mb-2">
+							<span>'.PG_RECARGO_CONFIRMAR_INGRESAR_PWD_NUEVAMENTE.': </span>
+							<input id="_clave" name="clave" type="password" autocomplete="off" value="" class="mt-3 vl_clave" maxlength="20" style="width: 150px;" />
+						</div>
+						<div class="col-12 mb-2 mt-2">
+							<div id="_alertas" style="color: #FF0000"></div>
+							<input class="p-button p-button-submit" id="enviar" name="enviar" type="submit" value="'.PG_GEN_BOTON_CONFIRMAR.'" />
+						  <a class="p-button" href="./index.php" onclick="overlay()">'.PG_GEN_BOTON_CANCELAR.'</a>
+						</div>
+						
+					</div>
+				
+	
                   <input name="monto" type="hidden" value="' . $monto . '" />
                   <input name="idtarjeta" type="hidden" value="' . $idTarjeta . '" />
@@ -99,8 +97,47 @@
     global $status_code;
 
-    include_once("./librerias/kernelPagadito/class.fondosPagadito.php");
+    require_once './librerias/kernelPagadito/class.fondosPagadito.php';
+    require_once './librerias/kernelPagadito/class.kernelPagadito.php';
+    require_once './librerias/class.Tarjeta.php';
+    require_once './librerias/class.Cripto.php';
+    
     $idTarjeta = intval(desencriptar(1, $idTarjeta));
-    
-    require_once './librerias/kernelPagadito/class.kernelPagadito.php';
+    $es_primera_recarga_en_revision = TRUE;
+    $validacion_en_descriptor = FALSE;
+    $codigo_para_descriptor = "";
+    $link_validacion_tarjeta = URL_SITIO . '/index.php?mod=user&hac=vvalcard&t=';
+    
+    // si la transaccion esta para quedar en revisión
+    if (!$completar_transaccion) {
+        
+        // obtener id de usuario
+        $id_usuario = $_SESSION['usuaPagaditoUsuario'];
+        
+        // generar id_tarjeta cifrado para enlace de valdiar
+        $Cripto = new Cripto();
+        $link_validacion_tarjeta .= $Cripto->cifrar($idTarjeta);
+            
+        // identificar si es la primera recarga que queda en revision
+        $es_primera_recarga_en_revision = verificarPrimeraRecarga($idTarjeta, $id_usuario);
+        
+        // si es primera recarga no se debe generar codigo de validación
+        if (!$es_primera_recarga_en_revision) {
+            
+            // cambiar parametros para generar descriptor dinamico con pagadito code
+            $validacion_en_descriptor = TRUE;
+
+            // generar codigo de validacion para enviar en el descriptor
+            $Tarjeta = new Tarjeta($db, $idTarjeta);
+            $codigo_validacion = $Tarjeta->generarCodigoValidacion();
+            if ($codigo_validacion) {
+
+                $codigo_para_descriptor = $codigo_validacion;
+            } else {
+
+                inicRegistrarError("id_tarjeta -> " . $idTarjeta, "error generando el codigo de validacion para una recarga en revision");
+            }
+        }
+    }
+    
     $krl = new kernelPagadito();
     $arrayTrans = array(
@@ -118,4 +155,6 @@
         'completar_transaccion' => $completar_transaccion,
         'id_paypro_peticion_analize' => $id_paypro_peticion_analize,
+        'descriptor' => $codigo_para_descriptor,
+        'validacion' => $validacion_en_descriptor
     );
     try {
@@ -155,5 +194,5 @@
         // Bloquear
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECARGO_TITULO . '</h1>
                 <div class="error_procesamiento_li"> 
@@ -173,8 +212,25 @@
         if (!$completar_transaccion) {
             
-            // dejar tarjeta en validacion
+            // dejar tarjeta en validacion por recarga
             include_once("./librerias/class.Tarjeta.php");
             $Tarjeta = new Tarjeta($db, $idTarjeta);
-            $Tarjeta->setTransaccionRevision();
+            if ($es_primera_recarga_en_revision) {
+                
+                // validacion por primera recarga
+                $Tarjeta->setVerificacionXPrimeraRecarga();
+            } else {
+                
+                // validacion por segunda y posterirores recargas
+                $Tarjeta->setVerificacionXRecarga();
+                
+                // actualizar el codigo de validacion con el id de la operacion
+                require_once './librerias/class.CodigoValidacion.php';
+                $OBJ_CodigoValidacion = new CodigoValidacion($db);
+                $OBJ_CodigoValidacion->cargarActivo($idTarjeta);
+                $datos_actualizar = array(
+                    'id_operacion' => $krl->id_operacion_recarga
+                );
+                $OBJ_CodigoValidacion->actualizar($datos_actualizar);
+            }
         }
     }
@@ -249,8 +305,9 @@
         } else {
             
-            $id_notificacion = 'PA-RES-1002';
+            $id_notificacion = ($es_primera_recarga_en_revision ? 'PA-RES-1005' : 'PA-RES-1006');
             $nt_params = array(
                 "monto" => number_format($monto, 2, '.', ','),
-                "tarjeta" => $equis . $tarjeta4digitos
+                "tarjeta" => $equis . $tarjeta4digitos,
+                "link_validacion_tarjeta" => '<a href="' . $link_validacion_tarjeta . '">' . PG_RECARGO_EN_VERIFICACION_BOTON_VALIDAR_TARJETA . '</a>'
             );
         }
@@ -261,61 +318,34 @@
         
         $prinHtml .= '
-            <div class="detallecuerpo" id="imp000">
+            <div class="detallecuerpo container-fluid" id="imp000">
                 <h1>' . PG_RECARGO_COMPLETADO_TITULO . '</h1>
-                <table class="informacion" style="margin-top: 2px; width: 300px;" border="0">
-                    <tbody name="tblRecargo" id="tblRecargo">
-                        <tr>
-                            <td width="150">' . PG_RECARGO_COMPLETADO_SALDO_ANTERIOR . ':</td>
-                            <td width="50">USD $&nbsp;</td>
-                            <td width="100" align="right">' . number_format($saldo, 2, '.', ',') . '</td>
-                        </tr>
-                        <tr>
-                            <td>' . PG_RECARGO_COMPLETADO_MONTO_RECARGADO . ':</td>
-                            <td>USD $&nbsp;</td>
-                            <td align="right">' . number_format($monto, 2, '.', ',') . '</td>
-                        </tr>
-                        <tr>
-                            <td>' . PG_RECARGO_COMPLETADO_NUEVO_SALDO . ':</td>
-                            <td><b>USD $&nbsp;</b></td>
-                            <td align="right"><b>' . number_format($nuevo, 2, '.', ',') . '</b></td>
-                        </tr>
-                        <tr>
-                            <td colspan="3">
-                                <input class="p-button p-button-submit" id="enviar" name="enviar" type="button" value="'.PG_GEN_BOTON_IMPRIMIR.'" onclick="prtcnt(\'imp000\')" style="float: right; margin-left: 5px;"/>&nbsp;
-                                <a class="p-button" href="./index.php" onclick="overlay()" style="float:right">' . PG_GEN_BOTON_CONTINUAR . '</a>
-                            </td>
-                        </tr>
-                    </tbody>
-                </table>
+                <div class="row mt-4 informacion" name="tblRecargo" id="tblRecargo">
+                    <div class="col-3 mb-2">' . PG_RECARGO_COMPLETADO_SALDO_ANTERIOR . ':</div>
+                    <div class="col-3 mb-2">USD $&nbsp;</div>
+                    <div class="col-6 mb-2">' . number_format($saldo, 2, '.', ',') . '</div>
+                    <div class="col-3 mb-2">' . PG_RECARGO_COMPLETADO_MONTO_RECARGADO . ':</div>
+                    <div class="col-3 mb-2">USD $&nbsp;</div>
+                    <div class="col-6 mb-2">' . number_format($monto, 2, '.', ',') . '</div>
+                    <div class="col-3 mb-2">' . PG_RECARGO_COMPLETADO_NUEVO_SALDO . ':</div>
+                    <div class="col-3 mb-2"><b>USD $&nbsp;</b></div>
+                    <div class="col-6 mb-2"><b>' . number_format($nuevo, 2, '.', ',') . '</b></div>
+                    <div class="col-12 mt-2 mb-2">
+                        <input class="p-button p-button-submit" id="enviar" name="enviar" type="button" value="'.PG_GEN_BOTON_IMPRIMIR.'" onclick="printDiv(\'imp000\')" style="float: right; margin-left: 5px;"/>&nbsp;
+                        <a class="p-button" href="./index.php" onclick="overlay()" style="float:right">' . PG_GEN_BOTON_CONTINUAR . '</a>
+                    </div>
+                </div>
             </div>';
     } else {
         
         $prinHtml .= '
-            <div class="detallecuerpo" id="imp000">
+            <div class="detallecuerpo container-fluid" id="imp000">
                 <h1>' . PG_RECARGO_EN_VERIFICACION_TITULO . '</h1>
-                <table class="informacion" style="margin-top: 2px; width: 300px;" border="0">
-                    <tbody name="tblRecargo" id="tblRecargo">
-                        <tr>
-                            <td>' . PG_RECARGO_COMPLETADO_MONTO_RECARGADO . ':</td>
-                            <td>USD $&nbsp;</td>
-                            <td align="right">' . number_format($monto, 2, '.', ',') . '</td>
-                        </tr>
-                        <tr>
-                            <td colspan="3"><br></td>
-                        </tr>
-                        <tr>
-                            <td colspan="3">' . PG_RECARGO_EN_VERIFICACION_EXPLICACION . '</td>
-                        </tr>
-                        <tr>
-                            <td colspan="3"><br></td>
-                        </tr>
-                        <tr>
-                            <td colspan="3">
-                                <input class="p-button p-button-submit" id="enviar" name="enviar" type="button" value="'.PG_GEN_BOTON_IMPRIMIR.'" onclick="prtcnt(\'imp000\')" style="float: right; margin-left: 5px;"/>&nbsp;
-                                <a class="p-button" href="./index.php" onclick="overlay()" style="float:right">' . PG_GEN_BOTON_CONTINUAR . '</a>
-                            </td>
-                        </tr>
-                    </tbody>
-                </table>
+                <p>' . PG_RECARGO_COMPLETADO_MONTO_RECARGADO . ': <strong>USD $&nbsp;' . number_format($monto, 2, '.', ',') . '</strong></p>
+                <p>' . ($es_primera_recarga_en_revision ? PG_RECARGO_EN_VERIFICACION_EXPLICACION_PRIMERA_RECARGA : PG_RECARGO_EN_VERIFICACION_EXPLICACION_SEGUNADA_RECARGA) . '</p>
+                <p style="text-align: right;">
+                    <a class="p-button" href="./index.php">' . PG_GEN_BOTON_CONTINUAR . '</a>
+                    <a class="p-button p-button-submit" href="javascript:prtcnt(\'imp000\');" style="margin-left: 5px;">' . PG_GEN_BOTON_IMPRIMIR . '</a>
+                    <a class="p-button p-button-submit" href="' . $link_validacion_tarjeta . '" style="margin-left: 5px;">' . PG_RECARGO_EN_VERIFICACION_BOTON_VALIDAR_TARJETA . '</a>
+                </p>
             </div>';
     }
@@ -324,5 +354,5 @@
 
 function tranVerificarTransaccion($idTarjeta, $id_transaccion_codigo) {
-    global $db, $prinHtml, $_SESSION;
+    global $db, $prinHtml, $_SESSION; 
 
     include_once("./librerias/kernelPagadito/class.fondosPagadito.php");
@@ -332,5 +362,5 @@
     // Otras validaciones
     if (comprobarTr($id_transaccion_codigo, $idTarjeta)) {
-        $prinHtml .= '<div class="detallecuerpo">
+        $prinHtml .= '<div class="detallecuerpo container-fluid"> 
                         <h1>' . PG_RECARGO_TITULO . '</h1>
                         <span style="color: #ff0000;">Ya existe esta transacción. Por favor verifique su estado de cuenta.</span>
@@ -628,2 +658,61 @@
     );
 }
+
+/**
+ * realiza la verificación si ya existe alguna recarga de este usuario y esta 
+ * tarjeta que halla estado en revisión y que halla sido aprobada, para determinar 
+ * si es la primera recarga que queda en revisión o si es una segunda o posterior
+ * @global type $db
+ * @param integer $id_tarjeta id tarjeta
+ * @param integer $id_usuario id usuario
+ * @return boolean devuelve TRUE si es la primera recarga en revisión es decir 
+ * que no tenia otras recargas que halla quedado en revisión y que hallan sido 
+ * aprobadas, en caso contrario devuelve FALSE
+ */
+function verificarPrimeraRecarga($id_tarjeta, $id_usuario) {
+    global $db;
+    
+    $return = TRUE;
+    
+    /* 
+     * obtener las recargas de saldo aprobadas que pasaron por el proceso de 
+     * revisión realizadas con la tarjeta seleccionada
+     */
+    $query = "
+        SELECT
+            o.id_operacion,
+            t.id_transaccion,
+            (
+		SELECT
+                    COUNT(id_operacion_bitacora_estado)
+		FROM pg_operaciones_bitacora_estados
+                WHERE
+                    id_operacion = o.id_operacion
+                    AND id_operacion_estado = '20'
+            ) revision
+        FROM pg_operaciones_new o
+            INNER JOIN pg_transacciones_new t ON t.id_operacion = o.id_operacion
+            INNER JOIN pg_paypro_peticion ppp ON ppp.id_transaccion = t.id_transaccion
+        WHERE
+            o.id_tipo_operacion = '1'
+            AND o.id_operacion_estado = '10'
+            AND t.id_tipo_transaccion = '1'
+            AND ppp.id_paypro_tipo = '1'
+            AND ppp.id_tarjeta = '" . $id_tarjeta . "'
+            AND ppp.id_usuario = '" . $id_usuario . "'
+        HAVING
+            revision > '0'";
+    try {
+        
+        $result = $db->query($query);
+        $num_recargas = $result->numRows();
+        if ($num_recargas > 0) {
+            
+            $return = FALSE;
+        }
+    } catch (Exception $exc) {
+        
+        inicRegistrarError($exc->getMessage(), "error consultando si el la primera recarga en revision de la tarjeta");
+    }
+    return $return;
+}
Index: branches/b-20180319.02/modulos/recuperar/funciones.php
===================================================================
--- trunk/modulos/recuperar/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/recuperar/funciones.php	(revision 3579)
@@ -11,18 +11,14 @@
 function usuaBienvenidaPorCambio($mensaje) {
     global $db, $prinHtml, $usuaPagina, $_SESSION;
-    $prinHtml .= '<form id="_frmBienvenida">
-			<table border="0" width="600">
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2">' . $mensaje . '</td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-			</table>
+    $prinHtml .= '<form id="_frmBienvenida
+	
+			<div class="informacion">
+					
+				<div class="form-group row">
+					<label class="col-12 col-md-8">' . $mensaje . '</label>
+				</div>
+				
+			</div>
+			
 		</form>';
 }
@@ -56,42 +52,34 @@
 
     $prinHtml .= '<form method="post" id="_frmIniRecupera" action="index.php?mod=recuperar&hac=recu" onsubmit="return inicioRecuperacion()">
-			<table border="0" width="600">
-				<tr>
-					<td colspan="2">&nbsp;<span style="color: #ff0000;">' . $mensaje . '</span></td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2">' . PG_RECUPERAR_LBL_INGRESE_LA_CUENTA_DE_EMAIL_ASOCIADA_A_SUN_CUENTA_PG . '</td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td>' . PG_RECUPERAR_LBL_EMAIL . '</td>
-					<td><input type="text" id="_correo" name="correo" class="vl_correo" maxlength="50" autocomplete="off" style="width: 300px;" onfocus="limpiar()" /></td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2">' . PG_RECUPERAR_LBL_CONOCE_LA_PREGUNTA_SECRETA_QUE_INGRESO . '</td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2"><input type="submit" name="presec" value="' . PG_RECUPERAR_BTN_SI . '" class="p-button p-button-submit" /> <input type="submit" name="notirec" value="' . PG_RECUPERAR_BTN_NO . '" class="p-button p-button-submit" /></td>
-				</tr>
-			</table>
-			<div id="_alertas" style="color: #FF0000"></div>
+			
+			<div class="informacion">
+					
+				<div class="form-group row">
+					<label class="col-12" style="color: #ff0000;">' . $mensaje . '</label>
+					<div class="col-12" id="_alertas" style="color: #FF0000"></div>
+				</div>
+				<div class="form-group row">
+					<label class="col-12">' . PG_RECUPERAR_LBL_INGRESE_LA_CUENTA_DE_EMAIL_ASOCIADA_A_SUN_CUENTA_PG . '</label>
+				</div>
+					
+				<div class="form-group row">
+					<label class="col-md-2">' . PG_RECUPERAR_LBL_EMAIL . '</label>
+					<div class="col-md-7 col-lg-4">	
+						<input type="text" id="_correo" name="correo" class="form-control vl_correo" maxlength="50" autocomplete="off" style="width: 300px;" onfocus="limpiar()" />
+					</div>
+				</div>
+				
+				<div class="form-group row">
+					<label class="col-12">' . PG_RECUPERAR_LBL_CONOCE_LA_PREGUNTA_SECRETA_QUE_INGRESO . '</label>
+				</div>
+				
+				<div class="form-group row">
+					<div class="col-12">
+						<input type="submit" name="presec" value="' . PG_RECUPERAR_BTN_SI . '" class="p-button p-button-submit" /> <input type="submit" name="notirec" value="' . PG_RECUPERAR_BTN_NO . '" class="p-button p-button-submit" />
+					</div>
+				</div>
+			</div>
+			
+			
 			<input type="hidden" name="vp" />
 		</form>';
@@ -177,36 +165,36 @@
 
     $prinHtml .= '<form method="post" id="_frmRecupera" action="index.php?mod=recuperar&hac=prec" onsubmit="return validarFormaPreg()">
-			<table border="0" width="600">
-				<tr>
-					<td colspan="2"><span style="color: #ff0000;">' . $mensaje . '</span></td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2">' . PG_RECUPERAR_LBL_INGRESE_LA_RESPUESTA_SECRETA . '</td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td width="200">' . PG_RECUPERAR_LBL_PREGUNTA . '</td>
-					<td width="400">' . obtPregunta($idPregunta) . '</td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td width="100">' . PG_RECUPERAR_LBL_ESCRIBA_LA_RESPUESTA . '</td>
-					<td width="500"><input type="password" id="_respuesta" name="respuesta" value="' . $respuesta . '" value="" class="vl_texto" maxlength="50" onpaste="return false;" autocomplete="off" style="width: 250px;" onfocus="limpiar()" /></td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2"><input type="submit" value="' . PG_RECUPERAR_BTN_CONTINUAR . '" class="p-button p-button-submit" /></td>
-				</tr>
-			</table>
-			<div id="_alertas" style="color: #FF0000"></div>
+			
+			<div class="informacion">
+					
+				<div class="form-group row">
+					<label class="col-12" style="color: #ff0000;">' . $mensaje . '</label>
+					<div class="col-12" id="_alertas" style="color: #FF0000"></div>
+				</div>
+				<div class="form-group row">
+					<label class="col-12">' . PG_RECUPERAR_LBL_INGRESE_LA_RESPUESTA_SECRETA . '</label>
+				</div>
+					
+				<div class="form-group row">
+					<label class="col-md-2">' . PG_RECUPERAR_LBL_PREGUNTA . '</label>
+					<div class="col-md-7 col-lg-4">	
+						' . obtPregunta($idPregunta) . '
+					</div>
+				</div>
+					
+				<div class="form-group row">
+					<label class="col-md-2">' . PG_RECUPERAR_LBL_ESCRIBA_LA_RESPUESTA . '</label>
+					<div class="col-md-7 col-lg-4">	
+						<input type="password" id="_respuesta" name="respuesta" value="' . $respuesta . '" value="" class="form-control vl_texto" maxlength="50" onpaste="return false;" autocomplete="off" style="" onfocus="limpiar()" />
+					</div>
+				</div>
+				
+				<div class="form-group row">
+					<div class="col-12">
+						<input type="submit" value="' . PG_RECUPERAR_BTN_CONTINUAR . '" class="p-button p-button-submit" />
+					</div>
+				</div>
+			</div>
+						
 			<input type="hidden" name="correo" value="' . $correo . '" />
 			<input type="hidden" name="vp" />
@@ -268,38 +256,37 @@
     }
     $prinHtml .= '<form method="post" id="_frmSoliNuevaClave" action="index.php?mod=recuperar&hac=cmbcl" onsubmit="return revisarRecuperacion()">
-			<table border="0" width="600">
-				<tr>
-					<td colspan="2"><span style="color: #ff0000;">' . $mensaje . '</span></td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2">' . PG_RECUPERAR_LBL_INGRESE_EL_NUEVO_PASSWORD . '</td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td>' . PG_RECUPERAR_LBL_NUEVO_PASSWORD . '</td>
-					<td><input type="password" name="clavenueva" id="_clavenueva" class="vl_clave" maxlength="20" onpaste="return false;" autocomplete="off" style="width: 150px;" onfocus="limpiar()" /></td>
-				</tr>
-				<tr>
-					<td></td>
-					<td><span class="info">' . $mnsClave . '</span></td>
-				</tr>
-				<tr>
-					<td>' . PG_RECUPERAR_LBL_REPETIR_PASSWORD . '</td>
-					<td><input type="password" name="clavenuevarep"  id="_clavenuevarep" class="vl_clave" maxlength="20" onpaste="return false;" autocomplete="off" style="width: 150px;" onfocus="limpiar()" /></td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2"><input type="submit" value="' . PG_RECUPERAR_BTN_CONTINUAR . '" class="p-button p-button-submit" /></td>
-				</tr>
-			</table>
-			<div id="_alertas" style="color: #FF0000"></div>
+			
+			<div class="informacion">
+					
+				<div class="form-group row">
+					<label class="col-12" style="color: #ff0000;">' . $mensaje . '</label>
+					<div class="col-12" id="_alertas" style="color: #FF0000"></div>
+				</div>
+				<div class="form-group row">
+					<label class="col-12">' . PG_RECUPERAR_LBL_INGRESE_EL_NUEVO_PASSWORD . '</label>
+				</div>
+					
+				<div class="form-group row">
+					<label class="col-md-2">' . PG_RECUPERAR_LBL_NUEVO_PASSWORD . '</label>
+					<div class="col-md-7 col-lg-4">	
+						<input type="password" name="clavenueva" id="_clavenueva" class="form-control vl_clave" maxlength="20" onpaste="return false;" autocomplete="off" style="width: 150px;" onfocus="limpiar()" />
+						<small class="info form-text text-muted">' . $mnsClave . '</small>
+					</div>
+				</div>
+					
+				<div class="form-group row">
+					<label class="col-md-2">' . PG_RECUPERAR_LBL_REPETIR_PASSWORD . '</label>
+					<div class="col-md-7 col-lg-4">	
+						<input type="password" name="clavenuevarep"  id="_clavenuevarep" class="form-control vl_clave" maxlength="20" onpaste="return false;" autocomplete="off" style="width: 150px;" onfocus="limpiar()" />
+					</div>
+				</div>
+				
+				<div class="form-group row">
+					<div class="col-12">
+						<input type="submit" value="' . PG_RECUPERAR_BTN_CONTINUAR . '" class="p-button p-button-submit" />
+					</div>
+				</div>
+			</div>
+			
 			<input type="hidden" id="_vt" value="1" />
 			<input type="hidden" name="correo" value="' . $correo . '" />
@@ -369,37 +356,34 @@
 
     $prinHtml .= '<form method="post" id="_frmSoliDatos" action="index.php?mod=recuperar&hac=prec2" onsubmit="return revisarDatosUsuario()">
-			<table border="0" width="600">
-				<tr>
-					<td colspan="2">&nbsp;<span style="color: #ff0000;">' . $mensaje . '</span></td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2">' . PG_RECUPERAR_LBL_INGRESE_LOS_DATOS_PARA_RECUPERAR_PASSWORD . '</td>
-				</tr>
-				<tr>
-					<td>&nbsp;</td>
-					<td>&nbsp;</td>
-				</tr>
-				<tr>
-					<td>' . PG_RECUPERAR_LBL_FECHA_DE_NACIMIENTO . '</td>
-					<td>' .
-            PG_RECUPERAR_LBL_FN_DIA . regiGenerarDias($dia) .
-            PG_RECUPERAR_LBL_FN_MES . regiGenerarMeses($mes) .
-            PG_RECUPERAR_LBL_FN_ANIO . regiGenerarAnios($anio) . '
-                                                <span id="_corregirFecha" class="infoRojo">&nbsp;</span>
-                                                <input type="hidden" id="_validezFecha" name="validez_fecha" value="' . $validezFecha . '" />
-					</td>
-				</tr>
-				<tr>
-					<td colspan="2">&nbsp;</td>
-				</tr>
-				<tr>
-					<td colspan="2"><input type="submit" value="' . PG_RECUPERAR_BTN_CONTINUAR . '" class="p-button p-button-submit" /></td>
-				</tr>
-			</table>
-			<div id="_alertas" style="color: #FF0000"></div>
+			
+			<div class="informacion">
+					
+				<div class="form-group row">
+					<label class="col-12" style="color: #ff0000;">' . $mensaje . '</label>
+					<div class="col-12" id="_alertas" style="color: #FF0000"></div>
+				</div>
+				<div class="form-group row">
+					<label class="col-12">' . PG_RECUPERAR_LBL_INGRESE_LOS_DATOS_PARA_RECUPERAR_PASSWORD . '</label>
+				</div>
+					
+				<div class="form-group row">
+					<label class="col-md-2">' . PG_RECUPERAR_LBL_FECHA_DE_NACIMIENTO . '</label>
+					<div class="col-md-10 col-lg-10">	
+						' .
+						PG_RECUPERAR_LBL_FN_DIA . regiGenerarDias($dia) .
+						PG_RECUPERAR_LBL_FN_MES . regiGenerarMeses($mes) .
+						PG_RECUPERAR_LBL_FN_ANIO . regiGenerarAnios($anio) . '
+						<span id="_corregirFecha" class="infoRojo">&nbsp;</span>
+						<input type="hidden" id="_validezFecha" name="validez_fecha" value="' . $validezFecha . '" />
+					</div>
+				</div>
+				
+				<div class="form-group row">
+					<div class="col-12">
+						<input type="submit" value="' . PG_RECUPERAR_BTN_CONTINUAR . '" class="p-button p-button-submit" />
+					</div>
+				</div>
+			</div>
+						
 			<input type="hidden" name="idusuario" value="' . $idUsuario . '" />
 			<input type="hidden" name="correo" value="' . $correo . '" />
@@ -502,5 +486,5 @@
     global $db;
 
-    $tempHtml = '<select id="dia" name="dia" style="width: auto;" onchange="bisiesto();">';
+    $tempHtml = '<select id="dia" name="dia" class="form-control" style="width: auto;" onchange="bisiesto();">';
     for ($i = 1; $i < 32; $i++) {
         $sel = "";
@@ -518,5 +502,5 @@
     global $db;
 
-    $tempHtml = '<select id="mes" name="mes" style="width: auto;"  onchange="bisiesto();">';
+    $tempHtml = '<select id="mes" name="mes" class="form-control" style="width: auto;"  onchange="bisiesto();">';
     for ($i = 1; $i < 13; $i++) {
         $sel = "";
@@ -534,5 +518,5 @@
     global $db;
 
-    $tempHtml = '<select id="anio" name="anio" style="width: auto;" onchange="bisiesto();">';
+    $tempHtml = '<select id="anio" name="anio" class="form-control" style="width: auto;" onchange="bisiesto();">';
     $inicio = date("Y") - 100;
     $fin = date("Y") - 18;
Index: branches/b-20180319.02/modulos/recuperar/index.php
===================================================================
--- trunk/modulos/recuperar/index.php	(revision 3384)
+++ branches/b-20180319.02/modulos/recuperar/index.php	(revision 3579)
@@ -51,5 +51,5 @@
 
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECUPERAR_TT_RECUPERAR_PASSWORD . '</h1>';
         if (isset($_POST['presec'], $_POST['correo'])) {
@@ -87,5 +87,5 @@
         
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECUPERAR_TT_RECUPERAR_PASSWORD . '</h1>';
         if (isset($_POST['correo'], $_POST['respuesta'])) {
@@ -114,5 +114,5 @@
 
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECUPERAR_TT_RECUPERAR_PASSWORD . '</h1>';
         if (isset($_POST['dia'], $_POST['mes'], $_POST['anio'], $_POST['validez_fecha'], $_POST['correo'])) {
@@ -154,5 +154,5 @@
 
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECUPERAR_TT_RECUPERAR_PASSWORD . '</h1>';
         if (isset($_POST['clavenueva'], $_POST['clavenuevarep'], $_POST['idu'], $_POST['correo'])) {
@@ -197,5 +197,5 @@
         // Si r es true, proseguir
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECUPERAR_TT_RECUPERAR_PASSWORD . '</h1>';
         $aParrcDes2 = explode("^", $parrcDes2);
@@ -216,5 +216,5 @@
         // Llegar aqui desde un link de correos
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECUPERAR_TT_RECUPERAR_PASSWORD . '</h1>';
         $aParrcDes = explode("^", $parrcDes);
@@ -226,5 +226,5 @@
 
         $prinHtml .= '
-            <div class="detallecuerpo">
+            <div class="detallecuerpo container-fluid">
                 <h1>' . PG_RECUPERAR_TT_RECUPERAR_PASSWORD . '</h1>';
         // 0 para iniciar el formulario por defecto
Index: branches/b-20180319.02/modulos/refund/funciones.php
===================================================================
--- branches/b-20180319.02/modulos/refund/funciones.php	(revision 3579)
+++ branches/b-20180319.02/modulos/refund/funciones.php	(revision 3579)
@@ -0,0 +1,856 @@
+<?php
+/**
+ * Prepara la query para seleccionar las transacciones reembolsables
+ */
+function listarTransaccionesReembolsables(){
+    include_once("./librerias/class.Usuario.php");
+    include_once("./librerias/class.Comercio.php");
+    global $db;
+    $Usuario = new Usuario($_SESSION['usuaPagaditoUsuario'], $db);
+    $fechaInicio = isset($_POST["fechaInicio"]) ? $_POST["fechaInicio"] : (isset($_GET["fechaInicio"]) ? $_GET["fechaInicio"] : "");
+    $fechaFinal = isset($_POST["fechaFinal"]) ? $_POST["fechaFinal"] : (isset($_GET["fechaFinal"]) ? $_GET["fechaFinal"] : "");
+    $comprobante = isset($_POST["comprobante"]) ? $_POST["comprobante"] : (isset($_GET["comprobante"]) ? $_GET["comprobante"] : "");
+    
+    $fechaInicio = validateDate($fechaInicio, 'd-m-Y') ? $fechaInicio : "";
+    $fechaFinal = validateDate($fechaFinal, 'd-m-Y') ? $fechaFinal : "";
+    
+    $filtros = array(
+        "fechaInicio"   => $db->escapeString($fechaInicio),
+        "fechaFinal"    => $db->escapeString($fechaFinal),
+        "comprobante"   => $db->escapeString($comprobante),
+    );
+    $Usuario = new Comercio($_SESSION['usuaPagaditoUsuario'], $db);
+    $columns = array(
+        array('titulo' => PG_FECHA, 'orden' => 'date', 'clase' => 'celda1', 'pie' => null),
+        array('titulo' => PG_ERN, 'orden' => 'string', 'clase' => 'celda3', 'pie' => null),
+        array('titulo' => PG_REFERENCIA,   'orden' => '', 'clase' => 'celda4', 'pie' => null),
+        array('titulo' => PG_MONTO, 'orden' => '', 'clase' => 'celda5', 'pie' => 'suma'),
+        array('titulo' => PG_COMISION, 'orden' => '', 'clase' => 'celda6', 'pie' => 'suma'),
+        array('titulo' => PG_MONTO_NETO, 'orden' => '', 'clase' => 'celda7', 'pie' => 'suma')
+    );
+
+    $items = $Usuario->obtenerTransaccionAplicableReembolso($filtros);
+    vistaReporte($columns, $items);
+}
+
+/**
+ * Muestra reporte de transacciones reembolsables
+ * @param array $columns array con las columnas a mostrar
+ * @param array $items array con las transacciones 
+ */
+function vistaReporte($columns, $items){
+    global $prinHtml, $db, $idioma;
+    include_once("./librerias/class.Comercio.php");
+    $comercio = new Comercio($_SESSION['usuaPagaditoUsuario'], $db);
+    
+    $fechaInicio = isset($_POST["fechaInicio"])?(validateDate($_POST["fechaInicio"], 'd-m-Y') ? $_POST["fechaInicio"] : ""):"";
+    $fechaFinal = isset($_POST["fechaFinal"])?(validateDate($_POST["fechaFinal"], 'd-m-Y') ? $_POST["fechaFinal"] : ""):"";
+    $comprobante = isset($_POST["comprobante"])?$_POST["comprobante"]:"";
+    $claseTabla = 'ventas';
+    $tableElements = $totales = array();
+    foreach($columns as $key => $column){
+        $tableElements[] = $column;
+        $totales[] = null;
+    }
+    $config = $comercio->obtenerConfigReembolos();
+    $prinHtml .= '
+        <script type="text/javascript" src="../javascript/sortableTable.js"></script>
+        <div class="detallecuerpo">
+            <h1>' . PG_TITULO_REEMBOLSO . '</h1>
+                ';
+    if(isset($_GET['error']) && $_GET['error'] == 1){
+        $prinHtml .= '<p class="aviso_error">' . PG_RF_ERR_GENERICO . '</p>';
+    }
+    $prinHtml .= '
+            <p>
+                <h3>' . PG_RF_TOMAR_EN_CUENTA. '</h3>
+                <ul>
+                    <li>' . PG_RF_COMISION . ' <strong>$' . $config['comision_reembolso'] . '</strong></li>
+                    <li>' . str_replace('{numero_transacciones}', $config['numero_reembolsos_diarios'], PG_RF_NUMERO_POR_DIA) . '</li>
+                </ul>
+                ' . PG_RF_LINK_POLITICA . '
+            </p>
+            <form action="index.php?mod=refund" method="POST" name="frmDetalle" id="frmDetalle">
+                <table class="parametros">
+                    <tr>
+                        <td>'.PG_BUSCAR_ERN.'</td>
+                        <td><input type="text" id="txtcomprobante" name="comprobante" value="' . $comprobante . '" class="vl_texto filtro" /></td>
+                    </tr>';
+
+    $prinHtml .= '
+                <script type="text/javascript" src="../javascript/datepicker.js"></script>
+                </table>
+                <table class="controles_reporte">
+                    <tr>
+                        <td>' . PG_FILTRAR_POR . '</td>
+                        <td>
+                            <label for="fechaInicio" class="lblFecha">'.PG_FECHA_DESDE.'</label>
+                            <input type="text" class="vl_texto calendar" value="' . $fechaInicio . '" readonly name="fechaInicio" id="txtfechaInicio">
+                            <label for="fechaInicio" class="lblFecha">'.PG_FECHA_HASTA.'</label>
+                            <input type="text" class="vl_texto calendar" value="' . $fechaFinal . '" readonly name="fechaFinal" id="txtfechaFinal">
+                        </td>
+                        <td>
+                            <input id="btnIr" type="submit" class="p-button p-button-submit" name="btnIr" value="'.PG_IR.'">
+                        </td>
+                    </tr>
+                </table>
+            </form>
+            <div class="contenedor_tabla">
+                <table class="contenedor_reporte" border="0" cellpadding="0" cellspacing="0">
+                    <tr>
+                        <td>
+                            <table id="tblListado" class="tblListado '.$claseTabla.'">
+                                <thead>
+                                    <tr>
+    ';
+    foreach($tableElements as $key => $tableElement){
+        $prinHtml .= '
+            <th' .
+                ((isset($tableElement['clase']) && $tableElement['orden']!="")?' axis="'.$tableElement['orden'].'"':'') .
+            ' class = "' .
+                ((isset($tableElement['orden']) && $tableElement['orden']!="")?'sort ':'') .
+                ((isset($tableElement['clase']) && $tableElement['clase']!="")?$tableElement['clase']:'') .
+            '">' .
+                $tableElement['titulo'] .
+            '</th>';
+    }
+    $prinHtml .= '
+        <th>'.PG_ACCION.'</th>
+                </tr>
+                </thead>
+                <tbody>
+    ';
+    $i = 1;
+    foreach($items as $item){
+        $prinHtml .= '
+                    <tr class="' . (($i%2 != 0)?"altRow":"") . '">
+        ';
+        $j = 0;
+        $id_detalle = 0; 
+        $id_tipo_operacion = 0;
+        foreach($item as $key => $value){
+            if($key!='link_value'){
+                $prinHtml .= '
+                    <td class="' . $tableElements[$j]['clase'] . '">' . $value . '</td>
+                ';
+
+                if(isset($tableElements[$j]['pie']) && $tableElements[$j]['pie'] == "suma"){
+                    if(is_numeric(strpos($value,"(")) && is_numeric(strpos($value,")"))){
+                        $value = -1 * str_replace(array('(',')'), '', $value);
+                    }
+                    $totales[$j] += str_replace(',','',$value);
+                }
+                $j++;
+            }else{
+                list($id_detalle, $id_tipo_operacion) = explode('|',$value);
+                if($id_detalle != 0 && $id_tipo_operacion != 0){
+                    
+                    $prinHtml .= '
+                        <td class="textoCentrado">
+                            <a href="index.php?mod=refund&hac=prerefund&detail_id=' . encriptar(1,$id_detalle) . '" style="border: 0px;">
+                                ' . PG_RF_REEMBOLSAR . '
+                            </a>
+                        </td>
+                    ';
+                }
+            }
+        }
+        $prinHtml .= '</tr>';
+        $i++;
+    }
+
+    $prinHtml .= '
+                </tbody>
+                <tfoot>
+                    <tr>
+    ';
+
+    if($i>1){
+        foreach($totales as $key => $total){
+            $prinHtml .= '
+                <td class="totales ' . $tableElements[$key]['clase'] . '">'.((isset($total))?number_format($total,2):'&nbsp;').'</td>
+            ';
+        }
+    }
+    $prinHtml .= '
+                                    </tr>
+                                </tfoot>
+                            </table>
+                        </td>
+                    </tr>
+                </table>
+            </div>
+        </div>
+    ';
+}
+
+/**
+ * formatea la fecha
+ * @param string $date fecha
+ * @param string $format formato a dar a la fecha
+ * @return date fecha formateada
+ */
+function validateDate($date, $format = 'Y-m-d H:i:s'){
+    $d = DateTime::createFromFormat($format, $date);
+    return $d && $d->format($format) == $date;
+}
+
+/**
+ * guarda las variable post en variables de session para rediridir a la vista de
+ * confirmacion
+ */
+function convertirDatosASession(){
+    if (isset($_GET['detail_id']) && $_GET['detail_id'] != ''){
+        if (validarExisteIdDetalle($_GET['detail_id'])){
+            $_SESSION['detail_id'] = $_GET['detail_id'];
+            header('Location: ?mod=refund&hac=confirmar');
+            exit();
+        } else {
+           header('Location: ?mod=refund&error=1');
+            exit(); 
+        }
+    } else {
+        header('Location: ?mod=refund&error=1');
+        exit();
+    }
+}
+
+/**
+ * Muestra los detalles de operación, junto con costos y pide confirmación
+ */
+function vistaConfirmacionRefund(){
+    global $prinHtml, $db;
+    include_once("./librerias/class.Comercio.php");
+    $comercio = new Comercio($_SESSION['usuaPagaditoUsuario'], $db);
+    $config = $comercio->obtenerConfigReembolos();
+    $id_detalle = desencriptar(1, $_SESSION['detail_id']);
+    $datos = obtenerDatosOperacion($id_detalle);
+    $tabla_detalle = obtenerTablaDetalle($datos['id_operacion']);
+    $id_aviso = 'id="aviso"';
+    $aviso = '';
+    if(isset($_GET['err'])) {
+        $id_aviso = 'class="aviso"';
+        switch ($_GET['err']) {
+            case '1':
+                $aviso = PG_RF_INGRESAR_OBSERVACION;
+                break;
+            case '2':
+                $aviso = PG_RF_OBSERVACION_LARGA;
+                break;
+            default:
+                $aviso = PG_RF_ERR_GENERICO;
+                break;
+        }
+        
+    }
+    $prinHtml .= '<div class="detallecuerpo">
+                    <h1>' . PG_RF_CONFIRMAR_REEMBOLSO . '</h1>
+                        ';
+    $validacion = validarCumpleCondiciones($comercio->info_comercio['id_comercio_afiliado'], $config, $datos);
+    if ($validacion['valido']) {
+        $prinHtml .= '  <table class="detalle_transaccion">
+                            <tr>
+                                <th>' . PG_MONTO_NETO . '</th><td>USD $' . number_format($datos['monto'], 2) . '</td>
+                            </tr>
+                            <tr>
+                                <th>' . PG_ERN . '</th><td>' . $datos['referencia_externa'] . '</td>
+                            </tr>
+                            <tr>
+                                <th>' . PG_REFERENCIA . '</th><td>' . $datos['referencia_corta'] . '</td>
+                            </tr>
+                            <tr>
+                                <th>' . PG_FECHA . '</th><td>' . $datos['fecha'] . '</td>
+                            </tr>
+                        </table>
+                        ' . $tabla_detalle . ' 
+                        <form action="?mod=refund&hac=refund" method="POST" onsubmit="return validar()">
+                            <label class="prerefund">' . PG_RF_MOTIVO . ' <span id="longitud_maxima">(' . PG_RF_LONGITUD_MAXIMA_MOTIVO . ')</span></label>
+                            <textarea name="observacion" id="observacion"></textarea><br>
+                            <span ' . $id_aviso . '>' . $aviso . '</span>
+                            <a href="?mod=refund" class="p-button">' . PG_RF_REGRESAR . '</a>
+                            <input type="submit" value="' . PG_RF_CONFIRMAR . '" class="p-button p-button-submit">
+                        </form>';
+    } else {
+        $prinHtml .= '<h2>' . $validacion['msj'] . '</h2>
+                      <a href="?mod=refund" class="p-button">' . PG_RF_REGRESAR . '</a>';
+    }
+    $prinHtml .= '</div>';
+}
+
+/**
+ * Muesta la informacion del reembolso realizado
+ */
+function vistaInformacionCompletado(){
+    global $prinHtml, $db;
+    $id_detalle = desencriptar(1, $_SESSION['detail_id']);
+    $datos = obtenerDatosOperacion($id_detalle);
+    $prinHtml .= '<div class="detallecuerpo">
+                    <h1>' . PG_RF_CONFIRMACION . '</h1>
+                        <p class="aviso_confirmacion">' . PG_RF_CONFIRMACION_DESCRIPCION . '</p>
+                        <table class="detalle_transaccion">
+                            <tr>
+                                <th>' . PG_MONTO_NETO . '</th><td>' . number_format($datos['monto'], 2) . '</td>
+                            </tr>
+                            <tr>
+                                <th>' . PG_ERN . '</th><td>' . $datos['referencia_externa'] . '</td>
+                            </tr>
+                            <tr>
+                                <th>' . PG_REFERENCIA . '</th><td>' . $datos['referencia_corta'] . '</td>
+                            </tr>
+                        </table>
+                        <a href="?mod=refund" class="p-button">' . PG_RF_REGRESAR . '</a>
+                   </div>';
+}
+
+/**
+ * Realiza una reversion a una operacion seleccionada, validando el estado de la
+ * misma, si ya fue acreditada o no, si ya fue capturada o no
+ */
+function reembolsarTransaccion(){
+    global $db, $kp;
+    include_once("./librerias/class.Comercio.php");
+    include_once("./librerias/class.OperacionValidacion.php");
+
+    $comercio = new Comercio($_SESSION['usuaPagaditoUsuario'], $db);
+    $configuraciones = $comercio->obtenerConfigReembolos();
+    
+    $id_detalle = desencriptar(1, $_SESSION['detail_id']);
+    $observacion = $db->escapeString($_POST['observacion']);
+    if ($observacion == '') {
+        header('Location: ?mod=refund&hac=confirmar&err=1');
+        exit();
+    }
+    if (mb_strlen($observacion) > 200) {
+        header('Location: ?mod=refund&hac=confirmar&err=2');
+        exit();
+    }
+    $datos_operacion = obtenerDatosOperacion($id_detalle);
+    $realizado = $continuar = false;
+    if(transaccionCapturada($datos_operacion['id_operacion'])){
+        if(validarTransaccionAcreditada($datos_operacion['id_operacion'])) {
+            if(validarSaldoDisponible($configuraciones['comision_reembolso'], $datos_operacion['monto'])) {
+                $continuar = true;
+            }
+        } else {
+            if(validarSaldoDisponible($configuraciones['comision_reembolso'])) {
+                $continuar = true;
+            }
+        }
+        if($continuar) {
+            $peticion = obtenerIdPeticion($datos_operacion['id_operacion'], 'capture');
+            if($peticion['saldo_pg']) {
+                $realizado = revertirOperacionSaldoPG($datos_operacion['id_operacion']);
+            } else {
+                if($kp->registrarRefundYRevertir($peticion['id_peticion'], $datos_operacion['id_operacion'])) {
+                    $realizado = true;
+                } else {
+                    inicRegistrarError('Error registrando Refund, datos operacion: ' . print_r($datos_operacion, true), 'Registrando Refund');
+                }
+            }
+        }
+    } else {
+        if(validarSaldoDisponible($configuraciones['comision_reembolso'])) {
+            $peticion = obtenerIdPeticion($datos_operacion['id_operacion'], 'authorize');
+            if($peticion['saldo_pg']) {
+                $realizado = revertirOperacionSaldoPG($datos_operacion['id_operacion']);
+            } else {
+                if($kp->registrarVoid($peticion['id_peticion'])) {
+                    $realizado = true;
+                } else {
+                    inicRegistrarError('Error registrando Void, datos operacion: ' . print_r($datos_operacion, true), 'Registrando Void');
+                }
+            }
+        }
+    }
+    if($realizado) {
+        if(!$peticion['saldo_pg']) {
+            cambiarEstadoPeticion($peticion['id_peticion'], 7, $observacion);
+        }
+        $operacion_validacion = new OperacionValidacion($db, $datos_operacion['id_operacion']);
+        if(!$operacion_validacion->setOperacionRechazada()){
+            inicRegistrarError('Error cambiando estado a rechazada a operacion id: ' . $datos_operacion['id_operacion']);
+        }
+        cobrarFee($configuraciones['comision_reembolso'], $configuraciones['codigo_comision']);
+        registrarReembolso($comercio->info_comercio['id_comercio_afiliado'], $datos_operacion['id_operacion'], $observacion);
+        header('Location: ?mod=refund&hac=completado');
+        exit();
+    } else {
+        header('Location: ?mod=refund&error=1');
+        exit();
+    }
+    return false;
+}
+
+/**
+ * Obtiene el datos de la operacion
+ * @param int $id_detalle 
+ * @return array $datos array con los datos de la operacion
+ */
+function obtenerDatosOperacion($id_detalle){
+    global $db;
+    $datos = array();
+    $sql = 'SELECT
+                o.id_operacion,
+                o.referencia_corta,
+                o.referencia_externa,
+                DATE_FORMAT(o.fecha, "%d-%m-%Y") fecha,
+                FORMAT(tn.monto - IFNULL(com.monto, 0), 2) AS monto
+            FROM
+                pg_operaciones_new o
+            INNER JOIN pg_transacciones_new tn USING(id_operacion)
+            INNER JOIN pg_detalles d USING(id_transaccion)
+            LEFT JOIN
+                (SELECT 
+                    usut.id_transaccion, pgo.id_operacion, SUM(d.monto) monto
+                FROM
+                    pg_operaciones_new pgo
+                INNER JOIN pg_transacciones_new usut USING (id_operacion)
+                INNER JOIN pg_detalles d USING (id_transaccion)
+                INNER JOIN pg_fuentes f USING (id_fuente)
+                INNER JOIN pg_saldos_new s USING (id_saldo)
+                INNER JOIN pg_fondos fo USING (id_fondo)
+                INNER JOIN pg_accesos_fondos af USING (id_acceso_fondo)
+                INNER JOIN pg_bancos_almacenamiento ba USING (id_acceso_fondo)
+                WHERE
+                    usut.id_tipo_transaccion = 11
+                        AND d.id_movimiento = 2
+                        AND id_tipo_detalle = 1
+                GROUP BY pgo.id_operacion) com ON com.id_operacion = o.id_operacion
+            WHERE d.id_detalle = ' . $id_detalle;
+    
+    try {
+        $res = $db->query($sql);
+        if($res->numRows() == 1){
+            $res->fetchInto($datos);
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(),'Error obteniendo el id de operacion -> id detalle: ' . $id_detalle);
+    }
+    return $datos;
+}
+
+/**
+ * Registra historial del reembolso
+ * @param int $id_comercio id del comercio que esta revirtiendo la operacion
+ * @param int $id_operacion id de la operacion revertida
+ * @param string $observacion motivo de la reversion de la operacion
+ * @return boolean
+ */
+function registrarReembolso($id_comercio, $id_operacion, $observacion){
+    global $db;
+    $sql = 'INSERT INTO
+                pg_reembolsos_comercios (
+                    id_comercio_afiliado,
+                    id_operacion,
+                    observacion
+            ) VALUES (
+                ' . $id_comercio . ',
+                ' . $id_operacion . ',
+                "' . $observacion . '"
+                )';
+    
+    try {
+        $resultado = $db->query($sql);
+        if($resultado->affectedRows() == 1) {
+            return true;
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(), 'Error registrando historial de reembolsos. id_op => ' . $id_operacion . ' - id_com => ' . $id_comercio);
+    }
+    return false;
+}
+
+/**
+ * Valida si la transaccion aun no ha sido capturada
+ * @param $id_operacion id de la operacion que se intenta revertir
+ */
+function transaccionCapturada($id_operacion){
+    global $db;
+    $capturada = false;
+    
+    $sql = 'SELECT 
+                pp1.id_paypro_peticion
+            FROM
+                pg_paypro_peticion pp1
+                    INNER JOIN
+                pg_paypro_peticion pp2 ON pp1.id_paypro_peticion_origen = pp2.id_paypro_peticion
+                    INNER JOIN
+                pg_transacciones_new tn ON tn.id_transaccion = pp2.id_transaccion
+            WHERE
+                tn.id_operacion = ' . $id_operacion . '
+                    AND pp1.id_paypro_tipo = 2';
+    try {
+        $resultado = $db->query($sql);
+        if ($resultado->numRows() == 1){
+            $capturada = true;
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(), 'error validando si la transaccion ya fue capturada o no. id_op => ' . $id_operacion);
+    }
+    return $capturada;
+}
+
+/**
+ * Funcion para validar si tiene suficiente saldo pagadito para revertir 
+ * la operacion
+ * @param double $comision valor de la comision para validar que si tenga disponible 
+ * para pagar el total de la transaccion a revertir
+ * @param string $tipo_saldo indica de que saldo se hara la reversion de la operacion
+ * @param double $monto_operacion, en caso de ser reversion con fondos ya acreditados
+ * se valida si alcanza lo que tiene disponible
+ */
+function validarSaldoDisponible($comision, $monto_operacion = 0){
+    global $db, $kp;
+    include_once('./librerias/kernelPagadito/class.fondosPagadito.php');
+    $obj_fondos_pg = new fondosPagadito();
+    if ($obj_fondos_pg->cargarUsuario($_SESSION['usuaPagaditoUsuario'])) {
+        $saldo_disponible = $obj_fondos_pg->obtenerAtributo('saldo_real')->monto;
+        if ($saldo_disponible >= ($comision + $monto_operacion)) {
+            return true;
+        }
+    } else {
+        inicRegistrarError("error instancia modelo de fondos del comercio", "error tratando de obtener saldo disponible del comercio en proceso de reversion");
+    }
+    return false;
+}
+
+/**
+ * Valida si una transaccion ya fue acreditada o no
+ * @param int $id_operacion id de la operacion que se va a revertir
+ * @return boolean
+ */
+function validarTransaccionAcreditada($id_operacion){
+    global $db;
+    $acreditada = false;
+    $sql = 'SELECT 
+                id_transaccion
+            FROM
+                pg_transacciones_new
+            WHERE
+                id_tipo_transaccion = 13
+                AND id_operacion = ' . $id_operacion;
+    try {
+        $resultado = $db->query($sql);
+        if($resultado->numRows() == 1){
+            $acreditada = true;
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(), 'error validando si la transaccion ya fue acreditada o no, id_op => ' . $id_operacion);
+    }
+    return $acreditada;
+}
+
+/**
+ * Valida el numero de reversiones que ha hecho en un dia
+ * @param int $id_comercio id del comercio que realizara la reversion
+ * @param int $transacciones_diarias numero de transacciones diarias permitidas
+ * al comercio
+ * @return boolean
+ */
+function validarNumeroReversionesDiarias($id_comercio, $transacciones_diarias){
+    global $db;
+        
+    $sql = 'SELECT 
+                COUNT(id_reembolso_comercio) AS veces
+            FROM
+                pg_reembolsos_comercios
+            WHERE
+                id_comercio_afiliado = ' . $id_comercio . '
+                    AND DATE_FORMAT(fecha, "%Y-%m-%d") = CURDATE()';
+    try {
+        $resultado = $db->query($sql);
+        $resultado->fetchInto($veces);
+        if ($veces['veces'] < $transacciones_diarias) {
+            return true;
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(), 'error validando el numero de reversiones diaras id_com=> ' . $id_comercio);
+    }
+    return false;
+}
+
+/**
+ * hace el cargo a la cuenta pagadito, en concepto de fee por la reversion de la 
+ * operacion
+ * @param double $monto monto del fee
+ * @return boolean
+ * @global obj $db conexion a la base de datos
+ * @global obj $kp instancia del kernelPagadito
+ */
+function cobrarFee($monto, $codigo_comision){
+    global $db, $kp;
+    require_once './librerias/class.Usuario.php';
+
+    $Usuario = new Usuario($_SESSION['usuaPagaditoUsuario'], $db);
+
+    // datos para procesamiento de transacción
+    $datos_transaccion = array(
+        'operacion' => $kp->transacciones_tipo['CFR'],
+        'procesar_tarjeta' => false,
+        'monto_total' => $monto,
+        'monto_saldo_pg' => $monto,
+        'monto_tarjeta' => 0,
+        'concepto' => 'Cobro de FEE por reversion de transacción',
+        'comision_codigo' => $codigo_comision,
+        'id_usuario' => $Usuario->id_usuario,
+        'pais_origen' => $Usuario->id_pais,
+        'id_tarjeta' => NULL,
+        'id_paypro_peticion_analize' => NULL
+    );
+    $estatus_transaccion = $kp->registrarTransaccion($datos_transaccion);
+    if ($estatus_transaccion == $kp->status_code['ok']) {
+        return true;
+    }
+    return false;
+}
+
+/**
+ * Obtiene el id de peticion a partir del id de operacion
+ * @param int $id_operacion id de la operacion para obtener id de peticion
+ * @param string $tipo tipo de peticion que se desea obtener su id, ya sea de
+ * un authorize o de un capture
+ * @return array $respuesta array con el id de la peticion, o indicando que la
+ * operacion se realizo con saldo pagadito
+ * @global obj $db objeto con la conexion a la base de datos 
+ */
+function obtenerIdPeticion($id_operacion, $tipo){
+    global $db;
+    $respuesta = array(
+        'id_peticion'   => 0,
+        'saldo_pg'      => false
+    );
+    switch ($tipo) {
+        case 'capture':
+            $sql = 'SELECT 
+                        pp1.id_paypro_peticion
+                    FROM
+                        pg_paypro_peticion pp1
+                            INNER JOIN
+                        pg_paypro_peticion pp2 ON pp1.id_paypro_peticion_origen = pp2.id_paypro_peticion
+                            INNER JOIN
+                        pg_transacciones_new tn ON tn.id_transaccion = pp2.id_transaccion
+                    WHERE
+                        tn.id_operacion = ' . $id_operacion . '
+                            AND pp1.id_paypro_tipo = 2';
+            break;
+        case 'authorize':
+            $sql = 'SELECT 
+                        pp1.id_paypro_peticion
+                    FROM
+                        pg_paypro_peticion pp1
+                            INNER JOIN
+                        pg_transacciones_new tn ON tn.id_transaccion = pp1.id_transaccion
+                    WHERE
+                        tn.id_operacion = ' . $id_operacion . '
+                            AND pp1.id_paypro_tipo = 1';
+            break;
+    }
+    try {
+        $resultado = $db->query($sql);
+        if($resultado->numRows() == 1) {
+            $resultado->fetchInto($dato);
+            $respuesta['id_peticion'] = $dato['id_paypro_peticion'];
+        } else {
+            $respuesta['saldo_pg'] = true;
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(), 'Error obteniendo el id de peticion tipo => ' . $tipo . ' para la operacion id => ' . $id_operacion);
+    }
+
+    return $respuesta;
+}
+
+/**
+ * cambia el estado de la peticion a cancelada
+ * @param int $id_peticion id de la peticion a cambiar el estado
+ * @param int $id_estado id del estado a colocar para este caso 7 => Cancelado
+ * @param string $observacion motivo por el cual se esta cambiando el estado
+ * @return boolean
+ */
+function cambiarEstadoPeticion($id_peticion, $id_estado, $observacion){
+    include_once("./librerias/PaymentProcessor/class.PaymentProcessor.php");
+    
+    $PaymentProcessor = new PaymentProcessor();
+    $resultado = $PaymentProcessor->CambiarEstadoPeticion($id_peticion, $id_estado, 'PGCOMERCIO', $observacion);
+    
+    return $resultado;
+}
+
+/**
+ * Obtiene los detalles de la transaccion
+ * @param int $id_operacion id de la operacion que se desea obtener el detalle
+ * @global obj $db conexion a la base de datos
+ * @return string $tempHtml html de la tabla de detalle
+ */
+function obtenerTablaDetalle($id_operacion){
+    global $db;
+    $tempHtml = '';
+    $sql = 'SELECT
+                wstd.quantity,
+                wstd.price,
+                wstd.description
+            FROM pg_operaciones_new o
+                INNER JOIN pg_transacciones t ON o.id_operacion = t.id_operacion_new
+                INNER JOIN pg_ws_transactions_transacciones wstt USING(id_transaccion)
+                INNER JOIN pg_ws_transactions wst USING(id_ws_transaction)
+                INNER JOIN pg_ws_transactions_details wstd USING(id_ws_transaction)
+            WHERE
+                o.id_operacion = ' . $id_operacion;
+    try {
+        $res = $db->query($sql);
+        if ($res->numRows() > 0) {
+            $tempHtml .= "
+            <table class='informacion'>
+            <tr>
+                <td colspan='4' class='titulos_productos'>
+                    <p class='desc'>" . PG_REF_DETALLE_DESCRIPCION . "</p>
+                    <p class='cant'>" . PG_REF_DETALLE_CANTIDAD . "</p>
+                    <p class='dolar_precio'>" . PG_REF_DETALLE_PRECIO_UNITARIO . "</p>
+                    <p class='dolar_precio'>" . PG_REF_DETALLE_MONTO . "</p>
+                </td>
+            </tr>
+            ";
+            $odd_even_count = 0;
+            while ($res->fetchInto($fila)) {
+                $tempHtml .= "
+            <tr>
+                <td colspan='4' class='" . (($odd_even_count % 2 == 0) ? "odd" : "even") . "'>
+                    <p class='desc'>" . $fila["description"] . "</p>
+                    <p class='cant'>" . $fila["quantity"] . "</p>
+                    <p class='dolar'>USD $</p>
+                    <p class='precio'>" . number_format($fila["price"], 2) . "</p>
+                    <p class='dolar'>USD $</p>
+                    <p class='precio'>" . number_format($fila["quantity"] * $fila["price"], 2) . "</p>
+                </td>
+            </tr>
+                ";
+                $odd_even_count++;
+            }
+            $tempHtml .= "
+            <tr><td colspan='4'>&nbsp;</td></tr></table>
+            ";
+        }
+    } catch (Throwable $e) {
+        inicRegistrarError("error: " . $e->getMessage());
+    }
+    return $tempHtml;
+}
+
+/**
+ * Valida si cumple todos los requisitos para reembolsar esa transaccion
+ * @param int $id_comercio id del comercio que esta tratando de reembolsar
+ * @param array $config configuracion de reembolso para el comercio
+ * @param array $detalles_transaccion detalles de la transaccion que se desea
+ * reembolsar
+ * @return array $reembolsar array con respuesta si la transaccion se puede
+ * reembolsar o no
+ */
+function validarCumpleCondiciones($id_comercio, $config, $detalles_transaccion){
+    $validacion = array(
+        'valido'    => false,
+        'msj'       => ''
+    );
+    if(validarNumeroReversionesDiarias($id_comercio, $config['numero_reembolsos_diarios'])){
+        if(validarFechaTransaccion($detalles_transaccion['fecha'], $config)){
+           if(transaccionCapturada($detalles_transaccion['id_operacion'])){
+                if(validarTransaccionAcreditada($detalles_transaccion['id_operacion'])) {
+                    if(validarSaldoDisponible($config['comision_reembolso'], $detalles_transaccion['monto'])) {
+                        $validacion['valido'] = true;
+                    } else {
+                        $validacion['msj'] = PG_RF_AVISO_SALDO_DISPONIBLE;
+                    }
+                } else {
+                    if(validarSaldoDisponible($config['comision_reembolso'])) {
+                        $validacion['valido'] = true;
+                    } else {
+                        $validacion['msj'] = PG_RF_AVISO_SALDO_DISPONIBLE;
+                    }
+                }
+            } else {
+                if(validarSaldoDisponible($config['comision_reembolso'])) {
+                    $validacion['valido'] = true;
+                } else {
+                    $validacion['msj'] = PG_RF_AVISO_SALDO_DISPONIBLE;
+                }
+            }
+        } else {
+            $validacion['msj'] = PG_RF_AVISO_FECHA_TRANSACCION;
+        }
+    } else {
+        $validacion['msj'] = PG_RF_AVISO_TRANSACCIONES_DIARIAS; 
+    }
+    
+    return $validacion;
+}
+
+/**
+ * valida si la fecha de la transaccion aun es valida para realizar el reembolso
+ * @param string $fecha_transaccion fecha a evaluar
+ * @param array $config configuracion para reembolsos del comercio
+ * @return boolean
+ */
+function validarFechaTransaccion($fecha_transaccion, $config){
+    $fecha = date('Y-m-d');
+    switch (strtoupper($config['unidad_tiempo'])) {
+        case 'D':
+            $fecha_maxima = strtotime('-' . $config['tiempo_transaccion'] . ' day' , strtotime($fecha));
+            break;
+
+        case 'M':
+            $fecha_maxima = strtotime('-' . $config['tiempo_transaccion'] . ' month' , strtotime($fecha));
+            break;
+    }
+    $fecha_maxima = new DateTime(date('d-m-Y' , $fecha_maxima));
+    $fecha_trans = new DateTime($fecha_transaccion);
+    
+    if ($fecha_trans->format('Y-m-d') >= $fecha_maxima->format('Y-m-d')){
+        return true;
+    }
+    return false;
+}
+
+/**
+ * @param int $id_operacion id operacion a revertir
+ * @global obj $kp instancia del kernel pagadito
+ * @return boolean
+ */
+function revertirOperacionSaldoPG($id_operacion){
+    global $kp;
+    $resultado = false;
+    $resultado = $kp->cambiarEstadoCaso($id_operacion, "Solicitud de anulaci&oacute;n generada por comercio idu: " . $_SESSION['usuaPagaditoUsuario'], 2);
+    if($resultado){
+        $resultado = $kp->revertirOperacion($id_operacion, "ID", null, true);
+        if($resultado){
+            $resultado = $kp->cambiarEstadoCaso($id_operacion, "Anulaci&oacute;n generada por comercioidu: " . $_SESSION['usuaPagaditoUsuario'], 3);
+        }
+    }
+    if(!$resultado) {
+        inicRegistrarError('Error revirtiendo operacion con saldo pagadito. id_operacion: ' . $id_operacion);
+    }
+    return $resultado;
+}
+
+/**
+ * Valida si el id existe en la base de datos o no
+ * @param string $id_detalle id codificado del detalle de la transaccion
+ * @return boolean
+ * @global object $db objeto conexion a la base de datos
+ */
+function validarExisteIdDetalle($id_detalle){
+    global $db;
+    $id_detalle = desencriptar(1, $id_detalle);
+    $sql = 'SELECT
+                *
+            FROM
+                pg_detalles
+            WHERE id_detalle = "' . $id_detalle . '"';
+    try {
+        $res = $db->query($sql);
+        if($res->numRows() == 1){
+            return true;
+        }
+    } catch (Throwable $exc) {
+        inicRegistrarError($exc->getMessage(),'Error validando si exite el detalle -> id detalle: ' . $id_detalle);
+    }
+    return false;
+}
Index: branches/b-20180319.02/modulos/refund/index.php
===================================================================
--- branches/b-20180319.02/modulos/refund/index.php	(revision 3579)
+++ branches/b-20180319.02/modulos/refund/index.php	(revision 3579)
@@ -0,0 +1,36 @@
+<?php
+login_requerido();
+verificar_usuario_bloqueado();
+verificar_privilegios('refund');
+include('funciones.php');
+require_once ('./librerias/kernelPagadito/class.kernelPagadito.php');
+$kp = new kernelPagadito();
+
+$usuaHacer = isset($_GET['hac']) ? htmlentities($db->escapeString($_GET['hac'])) : "";
+
+if (!isset($_SESSION['usuaPagaditoUsuario'])) {//validacion basica
+    header("Location: index.php");
+    exit;
+}
+    switch ($usuaHacer) {
+
+        case 'prerefund':
+            convertirDatosASession();
+            break;
+
+        case 'confirmar':
+            vistaConfirmacionRefund();
+            break;
+
+        case 'refund':
+            reembolsarTransaccion();
+            break;
+
+        case 'completado':
+            vistaInformacionCompletado();
+            break;
+        
+        default:
+            listarTransaccionesReembolsables();
+            break;
+    }
Index: branches/b-20180319.02/modulos/reporte/funciones.php
===================================================================
--- trunk/modulos/reporte/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/reporte/funciones.php	(revision 3579)
@@ -253,4 +253,45 @@
             break;
         
+        case "ventas_revision":
+            
+            $Usuario = new Comercio($_SESSION['usuaPagaditoUsuario'], $db);
+            $titulo = PG_TITULO_VENTAS_REVISION;
+            $columnasIniciales = array(
+                array('titulo' => PG_FECHA, 'orden' => 'date', 'clase' => 'celda1', 'pie' => null),
+                array('titulo' => PG_HORA, 'orden' => 'string', 'clase' => 'celda2', 'pie' => null),
+                array('titulo' => PG_ERN, 'orden' => 'string', 'clase' => 'celda3', 'pie' => null),
+                array('titulo' => PG_REFERENCIA, 'orden' => '', 'clase' => 'celda4', 'pie' => null)
+            );
+            $camposPersonalizados = $Usuario->obtenerInfoCamposSeleccionados();
+            $columnasPersonalizadas = array();
+            foreach ($camposPersonalizados as $campoPersonalizado) {
+                $columnasPersonalizadas[] = array('titulo' => $campoPersonalizado['nombre'], 'orden' => 'string', 'clase' => 'celdae', 'pie' => null);
+            }
+            $columnasFinales = array(
+                array('titulo' => PG_MONTO, 'orden' => '', 'clase' => 'celda5', 'pie' => 'suma'),
+                array('titulo' => PG_COMISION, 'orden' => '', 'clase' => 'celda6', 'pie' => 'suma'),
+                array('titulo' => PG_MONTO_NETO, 'orden' => '', 'clase' => 'celda7', 'pie' => 'suma')
+            );
+            $columns = array_merge($columnasIniciales, $columnasPersonalizadas, $columnasFinales);
+            $ver_detalle = true;
+            $selections = obtenerCampos($campos, $columns);
+            $items = $Usuario->obtenerReporteVentasRevision($filtros, $descargable, $columns, $selections);
+            break;
+        
+        case "reembolsos":
+            $Usuario = new Comercio($_SESSION['usuaPagaditoUsuario'], $db);
+            $titulo = PG_REF_HEADER_REEMBOLSOS;
+            $columns = array(
+                array('titulo' => PG_FECHA, 'orden' => 'string', 'clase' => 'celda1', 'pie' => null),
+                array('titulo' => PG_ERN, 'orden' => 'string', 'clase' => 'center', 'pie' => null),
+                array('titulo' => PG_REFERENCIA, 'orden' => 'string', 'clase' => 'center', 'pie' => null),
+                array('titulo' => PG_MONTO, 'orden' => 'string', 'clase' => 'center', 'pie' => null),
+                array('titulo' => PG_REF_MOTIVO, 'orden' => 'string', 'clase' => 'celda5', 'pie' => null),
+            );
+            $ver_detalle = false;
+            $selections = obtenerCampos($campos, $columns);
+            $items = $Usuario->obtenerReporteReembolsos($filtros, $descargable, $columns, $selections);
+            break;
+        
         default:
             break;
@@ -288,5 +329,11 @@
         <script type="text/javascript" src="../javascript/sortableTable.js"></script>
         <div class="detallecuerpo">
-            <h1>'.$titulo.'</h1>
+            <h1>'.$titulo.'</h1>';
+    if ($reporte == 'ventas_revision') {
+        
+        $prinHtml .= '
+            <p>' . PG_INDICACIONES_REPORTE_VENTAS_REVISION . '</p>';
+    }
+    $prinHtml .= '
             <form action="index.php?mod=reporte&hac='.$_GET["hac"].'" method="POST" name="frmDetalle" id="frmDetalle">
                 <table class="parametros">
@@ -322,4 +369,5 @@
     switch($reporte){
         case "ventas":
+        case "ventas_revision":
         case "acreditaciones":
         case "pagos":
@@ -364,5 +412,5 @@
                         <td>';
     
-    if ($reporte == 'ventas') {
+    if ($reporte == 'ventas' || $reporte == 'ventas_revision') {
         
         $prinHtml .= '
@@ -594,4 +642,5 @@
                     switch($reporte){
                         case 'ventas':
+                        case 'ventas_revision':
                         case 'pagos':
                             list($id_detalle, $id_tipo_operacion) = explode('|',$value);
Index: branches/b-20180319.02/modulos/reporte/index.php
===================================================================
--- trunk/modulos/reporte/index.php	(revision 3384)
+++ branches/b-20180319.02/modulos/reporte/index.php	(revision 3579)
@@ -59,4 +59,15 @@
         break;
     
+    case "ventas_revision";
+        
+        verificar_privilegios("reporte_ventas_revision");
+        reporte("ventas_revision");
+        break;
+    
+    case "ref";
+        verificar_privilegios("refundRep");
+        reporte("reembolsos");
+        break;
+    
     default:
         header("Location: index.php?mod=dashboard");
Index: branches/b-20180319.02/modulos/retfondos/funciones.php
===================================================================
--- trunk/modulos/retfondos/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/retfondos/funciones.php	(revision 3579)
@@ -297,53 +297,42 @@
     $com_retiro_porcentaje = $com["valor_porcentual"];
     $com_retiro_fija = $com["valor_constante"];
-    $comision_bancos_asociados = '<span id="span_comision_bancos_asociados" style="font-size: 10px; display: none;">' . PG_RETFONDOS_MSG_EL_COSTO_POR_RETIRO_DE_FONDOS . ($com_retiro_porcentaje > 0 ? (($com_retiro_porcentaje * 100)."%".($com_retiro_fija > 0 ? " + $".number_format($com_retiro_fija, 2, ".", ","): "")) : ($com_retiro_fija > 0 ? "$".number_format($com_retiro_fija, 2, ".", ","): "")) . '</span>';
+    $comision_bancos_asociados = '<span id="span_comision_bancos_asociados" style="font-size: 14px; display: none;">' . PG_RETFONDOS_MSG_EL_COSTO_POR_RETIRO_DE_FONDOS . ($com_retiro_porcentaje > 0 ? (($com_retiro_porcentaje * 100)."%".($com_retiro_fija > 0 ? " + $".number_format($com_retiro_fija, 2, ".", ","): "")) : ($com_retiro_fija > 0 ? "$".number_format($com_retiro_fija, 2, ".", ","): "")) . '</span>';
     
     $com = $Comision->buscarComisionPorTipoRecursivo(8, array("id_usuario" => $_SESSION['usuaPagaditoUsuario'], "id_pais_origen" => $objRetiro["pais"]));
     $com_retiro_porcentaje = $com["valor_porcentual"];
     $com_retiro_fija = $com["valor_constante"];
-    $comision_bancos_otros = '<span id="span_comision_bancos_otros" style="font-size: 10px; display: none;">' . PG_RETFONDOS_MSG_EL_COSTO_POR_RETIRO_DE_FONDOS_ES_DE . ($com_retiro_porcentaje > 0 ? (($com_retiro_porcentaje * 100)."%".($com_retiro_fija > 0 ? " + $".number_format($com_retiro_fija, 2, ".", ","): "")) : ($com_retiro_fija > 0 ? "$".number_format($com_retiro_fija, 2, ".", ","): "")) . '</span>';
+    $comision_bancos_otros = '<span id="span_comision_bancos_otros" style="font-size: 14px; display: none;">' . PG_RETFONDOS_MSG_EL_COSTO_POR_RETIRO_DE_FONDOS_ES_DE . ($com_retiro_porcentaje > 0 ? (($com_retiro_porcentaje * 100)."%".($com_retiro_fija > 0 ? " + $".number_format($com_retiro_fija, 2, ".", ","): "")) : ($com_retiro_fija > 0 ? "$".number_format($com_retiro_fija, 2, ".", ","): "")) . '</span>';
     
     $prinHtml .= $loading . '
-    <div id="retSaldo" class="detallecuerpo">
+    <div id="retSaldo" class="detallecuerpo container-fluid">
         <h1>'.PG_RETFONDOS_TT_RETIRO_DE_SALDO.'</h1>
-        <form id="frm_registrar_retiro" method="post" action="' . $tranPagina . '" onsubmit="overlay()">
-            <table border="0" class="_base">
-                <tbody>
-                    <tr>
-                        <td>' . retGetHeaderForm('', $aplicarCambio) . '</td>
-                    </tr>
-                    <tr>
-                        <td><br></td>
-                    </tr>
-                    <tr>
-                        <td>' . PG_RETFONDOS_TT_SELECCIONE_CBU . '</td>
-                    </tr>
-                    <tr>
-                        <td>' . retGetFormulario() . '</td>
-                    </tr>';
+		
+		<form id="frm_registrar_retiro" method="post" action="' . $tranPagina . '" onsubmit="overlay()">
+			<div class="informacion"><!-- start row -->
+				
+				<div>' . retGetHeaderForm('', $aplicarCambio) . '</div>	
+					
+			</div>
+			<div class="_base row"><!-- start row -->
+				
+				<div class="col-12">' . PG_RETFONDOS_TT_SELECCIONE_CBU . '</div>	
+				<div class="col-12 col-sm-12">
+					' . retGetFormulario() . '
+				</div>
+				<div class="col-12 mt-2 mb-2"></div>';
+				
     $prinHtml .= !empty($_SESSION['_retiro']['msg']) ? '<tr><td>' . $_SESSION['_retiro']['msg'] . '</td></tr>' : '';
     $prinHtml .= '
-                    <tr>
-                        <td>
-                            <br />' . ($aplicarCambio ? PG_RETFONDOS_MSG_ESTE_CONVERTIDOR_ES_UN_APROXIMADO : "") . '
-                        </td>
-                    </tr>
-                    <tr>
-                        <td>' . $comision_bancos_asociados . '</td>
-                    </tr>
-                    <tr>
-                        <td>' . $comision_bancos_otros . '</td>
-                    </tr>
-                    <tr>
-                        <td>
-                            <span style="font-size: 10px; font-weight: bold;">' . PG_RETFONDOS_MSG_MAXIMO_3_DIAS_HABILES . '</span>
-                        </td>
-                    </tr>
-                    <tr>
-                        <td align="center">' . retGetBottom() . '</td>
-                    </tr>
-                </tbody>
-            </table><!--Fin base-->
-        </form>
+				
+				<div class="col-12 mb-2">' . ($aplicarCambio ? PG_RETFONDOS_MSG_ESTE_CONVERTIDOR_ES_UN_APROXIMADO : "") . '</div>
+				<div class="col-12 mb-2">' . $comision_bancos_asociados . '</div>
+				<div class="col-12 mb-2">' . $comision_bancos_otros . '</div>
+				<div class="col-12 mb-3"><b>' . PG_RETFONDOS_MSG_MAXIMO_3_DIAS_HABILES . '</b></div>
+				<div class="col-12 mb-2">' . retGetBottom() . '</div>
+                    
+			</div>
+		</form>
+		
+        
         </div><!--Fin detallecuerpo-->';
     if (!empty($_SESSION['_retiro']['isPost']) && $_SESSION['_retiro']['nErrores'] == 0 && $_SESSION['_retiro']['trExcedida'] == 0) {
@@ -414,35 +403,38 @@
     $loading = inicShowLoading(PG_RETFONDOS_MSG_PROCESANDO_RETIRO_DE_FONDOS);
     $prinHtml .= $loading . '
-    <div id="retSaldo" class="detallecuerpo">
+    <div id="retSaldo" class="detallecuerpo container-fluid">
         <h1>' . PG_RETFONDOS_TT_CONFIRMACION_RETIRO_SALDO_MI_PAGADITO . '</h1>
         ' . $msg . '
         <form method="post" action="' . $tranPagina . '&hac=cprb' . '" onsubmit="overlay()">
-            <table border="0" class="_base _conf">
-                <tbody>
-                    <tr>
-                        <td>' . retGetHeaderForm('fin', $aplicarCambio) . '</td>
-                    </tr>
-                      <tr>
-                        <td class="_separador">' . retGetInfoConfirmar() . '</td>
-                      </tr>
-                      <tr>
-                        <td>
-                            <div class="pwd">
-                                <label>' . PG_RETFONDOS_LBL_INGRESE_NUEVAMENTE_PASSWORD_PAGADITO . '</label>
-                                <input type="password" value="" class="vl_clave" onpaste="return false;" autocomplete="off" name="_clave">
-                            </div>
-                        </td>
-                      </tr>
-                      <tr>
-                            <td>
-                                <br /><span style="font-size: 10px; font-weight: bold;">' . PG_RETFONDOS_MSG_MAXIMO_3_DIAS_HABILES . '</span>
-                            </td>
-                        </tr>
-                    ' . ($aplicarCambio ? "<tr><td><br />" . PG_RETFONDOS_MSG_ESTE_CONVERTIDOR_ES_UN_APROXIMADO . "</td></tr>" : "") . '
-                    <tr>
-                        <td align="center">' . retGetBottom('fin') . '</td>
-                    </tr>
-                </tbody>
-            </table><!--Fin base-->
+            <div class=""><!-- start row -->
+					
+				<div>' . retGetHeaderForm('fin', $aplicarCambio) . '</div>
+				
+			</div><!-- end row -->
+			<div class="row pg-panel-color-left"><!-- start row -->
+					
+				' . retGetInfoConfirmar() . '
+				
+			</div><!-- end row -->
+			<div class="row"><!-- start row -->
+				<hr></hr>
+				<div class="col-12 mt-3">
+					<div class="pwd">
+						<label>' . PG_RETFONDOS_LBL_INGRESE_NUEVAMENTE_PASSWORD_PAGADITO . '</label>
+						<input type="password" value="" class="vl_clave" onpaste="return false;" autocomplete="off" name="_clave">
+					</div>
+				</div>
+				<div class="col-12 mt-3">
+					<span style="font-size: 10px; font-weight: bold;">' . PG_RETFONDOS_MSG_MAXIMO_3_DIAS_HABILES . '</span>
+				</div>
+				<div class="col-12">
+					' . ($aplicarCambio ? "" . PG_RETFONDOS_MSG_ESTE_CONVERTIDOR_ES_UN_APROXIMADO . "" : "") . '
+				</div>
+				<div class="col-12">
+					' . retGetBottom('fin') . '
+				</div>
+				
+			</div><!-- end row -->
+			<!--Fin base-->
         </form>
         </div><!--Fin detallecuerpo-->';
@@ -469,21 +461,25 @@
     $aplicarCambio = true;
     $prinHtml .= '
-    <div class="detallecuerpo" id="imp_retiro">
+    <div class="detallecuerpo container-fluid" id="imp_retiro">
         <h1>' . PG_RETFONDOS_TT_TRANSFERENCIA_REALIZADA . '</h1>
         <form method="post" action="' . $tranPagina . '&hac=imcb' . '">
-            <table border="0" class="_base">
-                <tbody>
-                      ' . (!empty($_SESSION['_retiro']['msg']) ? '<tr><td>' . $_SESSION['_retiro']['msg'] . '</td></tr>' : '') . '
-                    <tr>
-                        <td>' . retGetHeaderForm('fin', $aplicarCambio) . '</td>
-                    </tr>
-                      <tr>
-                        <td class="_separador">' . retGetInfoConfirmar() . '</td>
-                      </tr>
-                    <tr>
-                        <td align="center">' . retGetBottom('imp') . '</td>
-                    </tr>
-                </tbody>
-            </table><!--Fin base-->
+            
+			<div class=""><!-- start row -->
+				' . (!empty($_SESSION['_retiro']['msg']) ? '' . $_SESSION['_retiro']['msg'] . '' : '') . '	
+				
+				<div>' . retGetHeaderForm('fin', $aplicarCambio) . '</div>
+				
+			</div><!-- end row -->
+			<div class="row pg-panel-color-left"><!-- start row -->
+					
+				' . retGetInfoConfirmar() . '
+				
+			</div><!-- end row -->
+			<div class="mt-3 text-right"><!-- start row -->
+					
+				' . retGetBottom('imp') . '
+				
+			</div><!-- end row -->
+			<!--Fin base-->
         </form>
     </div><!--Fin detallecuerpo-->';
@@ -500,5 +496,5 @@
     $msg = '<h3>' . PG_RETFONDOS_MSG_EL_RETIRO_DE_SALDO_DESDE_MI_PG . '</h3>';
     $prinHtml .= '
-    <div id="retSaldo" class="detallecuerpo">
+    <div id="retSaldo" class="detallecuerpo container-fluid">
         <h1>' . PG_RETFONDOS_TT_RETIRO_DE_SALDO . '</h1>
         <div class="no_retiro">
@@ -515,5 +511,5 @@
     $msg = PG_RETFONDOS_MSG_NO_DISPONE_DE_SALDO_SUFICIENTE_PARA_REALIZAR_ESTA_OPERACION;
     $prinHtml .= '
-    <div id="retSaldo" class="detallecuerpo">
+    <div id="retSaldo" class="detallecuerpo container-fluid">
         <h1>' . PG_RETFONDOS_TT_RETIRO_DE_SALDO . '</h1>
         <div class="no_retiro">
@@ -530,5 +526,5 @@
     $msg = PG_RETFONDOS_MSG_NO_CBU_REGISTRADA;
     $prinHtml .= '
-    <div id="retSaldo" class="detallecuerpo">
+    <div id="retSaldo" class="detallecuerpo container-fluid">
         <h1>' . PG_RETFONDOS_TT_RETIRO_DE_SALDO . '</h1>
         <div class="no_retiro">
@@ -569,13 +565,17 @@
 
     $tempHTML = '
-            <table class="_informacion">';
+            <div class="_informacion row"><!-- start row -->';
     switch ($tipo) {
         case 'fin'://Confirmando
 
-            $_SESSION['retEncabezado1'] = '<table width="215" border="0" cellpadding="3" cellspacing="0" style="font:normal 11px Arial, sans-serif; color:#999999; text-align:left;padding:1px;">
-						                         <tr>
-						                           <td width="104">' . PG_RETFONDOS_LBL_MONTO_A_RETIRAR . '</td>
-						                           <td width="42"><strong>USD $</strong></td>
-						                           <td width="51" align="right"><strong>' . number_format($objRetiro['monto'], 2, '.', ',') . '</strong>';
+            $_SESSION['retEncabezado1'] = '
+			
+				<div class="col-6 col-sm-4 col-md-3 col-lg-2">' . PG_RETFONDOS_LBL_MONTO_A_RETIRAR . '</div>
+				<div class="col-2 col-sm-1 p-0 col-lg-auto col-md-auto"><strong>USD $</strong></div>
+				<div class="col-4 col-sm-7">
+					<span style="font-weight: bold;"><strong>' . number_format($objRetiro['monto'], 2, '.', ',') . '</strong></span>
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>	
+					';
 
             $conversorModeda = ($aplicarCambio ? '<span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span>' : '') . '
@@ -585,42 +585,48 @@
             if ($_SESSION["_retiro"]["comision_tc"] > 0) {
                 $_SESSION['retEncabezado2'] = '
-                                                                            </td>
-						                         </tr>
-						                         <tr>
-						                           <td width="104">' . PG_RETFONDOS_LBL_COMISION_POR_RETIRO . '</td>
-						                           <td><strong>USD $</strong></td>
-						                           <td width="51"  align="right"><strong>' . number_format($objRetiro['comision'], 2) . '</strong></td>
-						                         </tr>
-                                                                         <tr>
-						                           <td width="104" >' . PG_RETFONDOS_LBL_COMISION_POR_RETIRO_TC . '</td>
-						                           <td style="border-bottom:1px solid #CCCCCC"><strong>USD $</strong></td>
-						                           <td width="51"  align="right" style="border-bottom:1px solid #CCCCCC"><strong>' . number_format($objRetiro['comision_tc'], 2) . '</strong></td>
-						                         </tr>
+                                                                            
+				
+				
+				<div class="col-6 col-sm-4 col-md-3 col-lg-2">' . PG_RETFONDOS_LBL_COMISION_POR_RETIRO . '</div>
+				<div class="col-2 col-sm-1 p-0 col-lg-auto col-md-auto"><strong>USD $</strong></div>
+				<div class="col-4 col-sm-7">
+					<strong>' . number_format($objRetiro['comision'], 2) . '</strong>
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+				
+				<div class="col-6 col-sm-4 col-md-3 col-lg-2">' . PG_RETFONDOS_LBL_COMISION_POR_RETIRO_TC . '</div>
+				<div class="col-2 col-sm-1 p-0 col-lg-auto col-md-auto"><strong>USD $</strong></div>
+				<div class="col-4 col-sm-6">
+					<strong>' . number_format($objRetiro['comision_tc'], 2) . '</strong>
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>
+						                         
                                                     ';
             } else {
                 $_SESSION['retEncabezado2'] = '
-                                                                            </td>
-						                         </tr>
-						                         <tr>
-						                           <td width="104" >' . PG_RETFONDOS_LBL_COMISION_POR_RETIRO . '</td>
-						                           <td style="border-bottom:1px solid #CCCCCC"><strong>USD $</strong></td>
-						                           <td width="51"  align="right" style="border-bottom:1px solid #CCCCCC"><strong>' . number_format($objRetiro['comision'], 2) . '</strong></td>
-						                         </tr>
-                                                    ';
+				
+				<div class="col-6 col-sm-4 col-md-3 col-lg-2">' . PG_RETFONDOS_LBL_COMISION_POR_RETIRO . '</div>
+				<div class="col-2 col-sm-1 p-0 col-lg-auto col-md-auto"><strong>USD $</strong></div>
+				<div class="col-4 col-sm-6">
+					<strong>' .  number_format($objRetiro['comision'], 2) . '</strong>
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>';
             }
             $_SESSION['retEncabezado2'] .= '
-                                                                         <tr>
-						                           <td width="104">' . PG_RETFONDOS_LBL_MONTO_A_OTORGAR . '</td>
-						                           <td><strong>USD $</strong></td>
-						                           <td width="51"  align="right"><strong>' . number_format($objRetiro['otorgar'], 2) . '</strong></td>
-						                         </tr>
-						                       </table>';
-
-            $t0 = '<table width="350" border="0" cellpadding="0" cellspacing="0" style="font:normal 11px Arial, sans-serif; color:#999999; text-align:left;padding:1px;">
-							<tr>
-								<td width="225" valign="top">' . $_SESSION['retEncabezado1'] . $_SESSION['retEncabezado2'] . '</td>
-								<td width="125" valign="top" style="padding-top: 3px;">' . $conversorModeda . '</td>
-							</tr>
-						</table><br />';
+				
+				
+				<div class="col-6 col-sm-4 col-md-3 col-lg-2">' . PG_RETFONDOS_LBL_MONTO_A_OTORGAR . '</div>
+				<div class="col-2 col-sm-1 p-0 col-lg-auto col-md-auto"><strong>USD $</strong></div>
+				<div class="col-4 col-sm-6">
+					<strong>' .  number_format($objRetiro['otorgar'], 2) . '</strong>
+				</div>
+				<div class="col-12 mt-1 mb-1"></div>';
+
+            $t0 = '
+				' . $_SESSION['retEncabezado1'] . $_SESSION['retEncabezado2'] . '
+				' . $conversorModeda . '
+				
+				<div class="col-12 mt-1 mb-1"></div>
+				';
 
             //$tempHTML .= $_SESSION['retEncabezado1'].$conversorModeda.$_SESSION['retEncabezado2'];
@@ -638,5 +644,5 @@
 
             $tempHTML .= '
-                <tbody>';
+                <!--<tbody>-->';
 
             if (isset($objRetiro['isPost'])) {
@@ -656,34 +662,38 @@
             $com = $Comision->obtenerComisionPorCodigo("CRE001");
 
-            $tempHTML .= '<tr>
-                        <td class="_a">' . PG_RETFONDOS_LBL_SALDO_DISPONIBLE_EN_MI_PAGADITO . '</td>
-                        <td class="_b"><span style="font-weight: bold;">USD $&nbsp;' . number_format($objRetiro['saldo_disponible'], 2, '.', ',') . '&nbsp;</span>
-                        </td>
-                    </tr>
-                    <tr>
-                        <td class="_a">' . PG_RETFONDOS_LBL_MONTO_QUE_DESEA_RETIRAR . '</td>
-                        <td class="_b"><span class="usd">USD $&nbsp;</span>
-                                <input type="text" style="width: 100px;" class="vl_dinero" value="' . $objRetiro['monto'] . '" name="monto" id="_monto" onkeyup="convertirMoneda(' . $tc . ')">
-                                <span class="error" id="er_monto">' . $fieldError['monto'] . '</span>
-		                        ' . ($aplicarCambio ? '<span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span>' : '') . '
-										<span style="font-weight: bold;">' . $simboloMoneda . '&nbsp;</span><span id="_conversionMoneda"  style="font-weight: bold;">' . ($aplicarCambio ? number_format($montoCambio, 2, '.', ',') : '&nbsp;') . '</span>' . ($aplicarCambio ? "<span>&nbsp;*</span>" : '') . '
-										' . ($aplicarCambio ? '<span style="font-weight: bold;">)</span>' : '') . '
-                        </td>
-                    </tr>
-                    <tr>
-                        <td class="_a">' . PG_RETFONDOS_LBL_PAIS . '</td>
-                        <td class="_b">
-                            <strong>' . $objRetiro['pais_nombre'] . '</strong>
+            $tempHTML .= '
+					
+					<div class="col-12 col-sm-5">' . PG_RETFONDOS_LBL_SALDO_DISPONIBLE_EN_MI_PAGADITO . '</div>
+					<div class="col-12 col-sm-7">
+						<span style="font-weight: bold;">USD $&nbsp;' . number_format($objRetiro['saldo_disponible'], 2, '.', ',') . '&nbsp;
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					
+					<div class="col-12 col-sm-5">' . PG_RETFONDOS_LBL_MONTO_QUE_DESEA_RETIRAR . '</div>
+					<div class="col-12 col-sm-7">
+						<span class="usd">USD $&nbsp;</span>
+						<input type="text" style="width: 100px;" class="vl_dinero" value="' . $objRetiro['monto'] . '" name="monto" id="_monto" onkeyup="convertirMoneda(' . $tc . ')">
+						<span class="error" id="er_monto">' . $fieldError['monto'] . '</span>
+						' . ($aplicarCambio ? '<span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span>' : '') . '
+								<span style="font-weight: bold;">' . $simboloMoneda . '&nbsp;</span><span id="_conversionMoneda"  style="font-weight: bold;">' . ($aplicarCambio ? number_format($montoCambio, 2, '.', ',') : '&nbsp;') . '</span>' . ($aplicarCambio ? "<span>&nbsp;*</span>" : '') . '
+								' . ($aplicarCambio ? '<span style="font-weight: bold;">)</span>' : '') . '
+					</div>
+					<div class="col-12 mt-sm-2 mb-sm-2"></div>
+					
+					<div class="col-12 col-sm-5">' . PG_RETFONDOS_LBL_PAIS . '</div>
+					<div class="col-12 col-sm-7">
+						<strong>' . $objRetiro['pais_nombre'] . '</strong>
                             <span style="color:#ff0000;" id="_validezPais"></span>
-                        </td>
-                    </tr>
-                      <tr>
-                      	<td colspan="3"><br /><span style="font-weight: bold;">' . str_replace(array("<porcentual>", "<constante>"), array(number_format(($com["valor_porcentual"]*100), 2), ($com["valor_constante"] > 0 ? " + $" . number_format($com["valor_constante"], 2) : "")), PG_RETFONDOS_MSG_SE_COBRARA_UNA_COMISION_ADICIONAL_DE_5_DEL_MONTO) . '</span></td>
-                      </tr>
-                </tbody>';
+					</div>
+					<div class="col-12 mt-2 mb-2"></div>
+					<div class="col-12">
+						<span style="font-weight: bold;">' . str_replace(array("<porcentual>", "<constante>"), array(number_format(($com["valor_porcentual"]*100), 2), ($com["valor_constante"] > 0 ? " + $" . number_format($com["valor_constante"], 2) : "")), PG_RETFONDOS_MSG_SE_COBRARA_UNA_COMISION_ADICIONAL_DE_5_DEL_MONTO) . '</span>
+					</div>
+					
+                ';
             break;
     }
     $tempHTML .= '
-            </table><!--Fin informacion-->';
+            </div><!--Fin informacion-->';
     return $tempHTML;
 }
@@ -710,5 +720,5 @@
         case 'imp'://Imprimir
             $tempHTML .= '
-               <input class="p-button p-button-submit" id="_imprime" name="_imprime" type="button" value="' . PG_RETFONDOS_BTN_IMPRIMIR . '" onclick="prtcnt(\'imp_retiro\')" />
+               <input class="p-button p-button-submit" id="_imprime" name="_imprime" type="button" value="' . PG_RETFONDOS_BTN_IMPRIMIR . '" onclick="printDiv(\'imp_retiro\')" />
                <input class="p-button p-button-submit" id="_continuar" name="_continuar" type="submit" value="' . PG_RETFONDOS_BTN_CONTINUAR . '" />';
             break;
@@ -780,9 +790,9 @@
             
             $temp_html .= '
-                <div class="div_cbu">
-                    <div class="div_cbu_left">
+                <div class="div_cbu row"><!-- start row -->
+                    <div class="div_cbu_left col-2 col-sm-1 align-self-center">
                         <input type="radio" class="rd_cbu" name="_id_cuenta_bancaria_usuario" id="_id_cuenta_bancaria_usuario_' . $cbu['id_cuenta_bancaria_usuario'] . '" value="' . $cbu['id_cuenta_bancaria_usuario'] . '"' . ($cbu['id_cuenta_bancaria_usuario'] == $id_cuenta_bancaria_usaurio ? ' checked="checked"': '') . ' id_tipo_retiro="' . $id_tipo_retiro . '" />
                     </div>
-                    <div class="div_cbu_right">
+                    <div class="div_cbu_right  col-10 col-sm-11">
                         <p class="p_cbu">
                             <label class="lbl_cbu">' . PG_RETFONDOS_LBL_BANCO . ':</label>
@@ -837,37 +847,48 @@
             $data_cbu = $OBJ_CBU->obtenerDetalleCBURegistradas($objRetiro['_id_cuenta_bancaria_usuario']);
             $_SESSION['retBancosAsocCuerpo'] = '
-                <h3>' . PG_RETFONDOS_LBL_BANCOS_ASOCIADOS . '</h3>
-                <table width="410" border="0" cellpadding="3" cellspacing="0" style="font:normal 11px Arial, sans-serif; color:#999999; text-align:left;padding:1px; border:1px solid #A86682">
-                    <tbody>
-                        <tr>
-                            <td width="150" align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NOMBRE_DEL_BANCO . '</td>
-                            <td align="left" width="248">' . $data_cbu['nombre_banco'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_TIPO_DE_CUENTA . '</td>
-                            <td align="left" width="248">' . $data_cbu['tipo_cbu'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NUMERO_DE_CUENTA . '</td>
-                            <td align="left" width="248">' . $data_cbu['numero_cuenta'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NOMBRE_DE_LA_CUENTA . '</td>
-                            <td align="left">' . $data_cbu['titular_cuenta'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_TIPO_DE_MONEDA . '</td>
-                            <td align="left" width="248">' . $data_cbu['tipo_moneda'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_TIPO_DE_IDENTIFICACION . '</td>
-                            <td align="left">' . $data_cbu['tipo_identificacion'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NUMERO_DE_IDENTIFICACION . '</td>
-                            <td align="left">' . $data_cbu['numero_identificacion'] . '</td>
-                        </tr>
-                    </tbody>
-                </table>';
+                <h3 class="col-12 pg-titulo-ret">' . PG_RETFONDOS_LBL_BANCOS_ASOCIADOS . '</h3>
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NOMBRE_DEL_BANCO . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['nombre_banco'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_TIPO_DE_CUENTA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['tipo_cbu'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NOMBRE_TITULAR_CUENTA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['titular_cuenta'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NUMERO_DE_CUENTA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['numero_cuenta'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_TIPO_DE_MONEDA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['tipo_moneda'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_TIPO_DE_IDENTIFICACION . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['tipo_identificacion'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NUMERO_DE_IDENTIFICACION . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['numero_identificacion'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				';
 
             $tempHTML = $_SESSION['retBancosAsocCuerpo'] . "<br />";
@@ -976,37 +997,50 @@
             $data_cbu = $OBJ_CBU->obtenerDetalleCBURegistradas($objRetiro['_id_cuenta_bancaria_usuario']);
             $_SESSION['retBancosOtrosCuerpo'] = '
-                <h3>' . PG_RETFONDOS_TT_OTROS_BANCOS . '</h3>
-                <table width="410" border="0" cellpadding="3" cellspacing="0" style="font:normal 11px Arial, sans-serif; color:#999999; text-align:left;padding:1px; border:1px solid #A86682">
-                    <tbody>
-                        <tr>
-                            <td width="150" align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NOMBRE_DEL_BANCO . '</td>
-                            <td align="left" width="248">' . $data_cbu['nombre_banco'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_TIPO_DE_CUENTA . '</td>
-                            <td align="left" width="248">' . $data_cbu['tipo_cbu'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NOMBRE_TITULAR_CUENTA . '</td>
-                            <td align="left">' . $data_cbu['titular_cuenta'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NUMERO_DE_CUENTA . '</td>
-                            <td align="left" width="248">' . $data_cbu['numero_cuenta'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_TIPO_DE_MONEDA . '</td>
-                            <td align="left" width="248">' . $data_cbu['tipo_moneda'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_TIPO_DE_IDENTIFICACION . '</td>
-                            <td align="left">' . $data_cbu['tipo_identificacion'] . '</td>
-                        </tr>
-                        <tr>
-                            <td align="left" bgcolor="#5B283E" style="color:#FFFFFF">' . PG_RETFONDOS_LBL_NUMERO_DE_IDENTIFICACION . '</td>
-                            <td align="left">' . $data_cbu['numero_identificacion'] . '</td>
-                        </tr>
-                    </tbody>
-                </table>';
+                <h3 class="col-12 pg-titulo-ret">' . PG_RETFONDOS_TT_OTROS_BANCOS . '</h3>
+				
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NOMBRE_DEL_BANCO . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['nombre_banco'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_TIPO_DE_CUENTA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['tipo_cbu'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NOMBRE_TITULAR_CUENTA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['titular_cuenta'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NUMERO_DE_CUENTA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['numero_cuenta'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_TIPO_DE_MONEDA . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['tipo_moneda'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_TIPO_DE_IDENTIFICACION . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['tipo_identificacion'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				<div class="col-12 col-sm-4 col-md-2">' . PG_RETFONDOS_LBL_NUMERO_DE_IDENTIFICACION . '</div>
+				<div class="col-12 col-sm-8">
+					' . $data_cbu['numero_identificacion'] . '
+				</div>
+				<div class="col-12 mt-1 mb-1"></div> 
+				
+				';
 
             $tempHTML = $_SESSION['retBancosOtrosCuerpo'] . "<br />";
Index: branches/b-20180319.02/modulos/seg/funciones.php
===================================================================
--- trunk/modulos/seg/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/seg/funciones.php	(revision 3579)
@@ -12,91 +12,103 @@
     $Usuario = new Usuario($_SESSION['usuaPagaditoUsuario'], $db);
     $prinHtml .= '
-        <div class="detallecuerpo">
+        <div class="detallecuerpo container-fluid">
             <h1>'.PG_TITULO.'</h1>
-            <div class="seccion">
-                <p class="titulo">'.PG_PASSWORD.'</p>
-                <form id="frmCambiarPass" name="frmCambiarPass" action="index.php?mod=seg&hac=pass" method="POST">
-                    <div id="secpass" class="contenido">
-    ';
-    if(isset($Form->key) && $Form->key == $keyForms["pass"] && $Form->mensaje->texto != ""){
-        $prinHtml .= '
-                        <p class="_info" id="'.$Form->mensaje->tipo.'">
-                            <span class="info_inner">'.$Form->mensaje->texto.'</span>
-                        </p>
-        ';
-    }
-    $prinHtml .= '
-                        <input type="hidden" name="key" value="'.$keyForms["pass"].'" />
-                        <table>
-                            <tbody>
-                                <tr>
-                                    <td><strong>'.PG_PASS_ACTUAL.'</strong></td>
-                                    <td><input type="password" name="txtPassActual" value="" /></td>
-                                </tr>
-                                <tr>
-                                    <td><strong>'.PG_PASS_NUEVA.'</strong></td>
-                                    <td><input type="password" name="txtPassNueva" value="" /></td>
-                                </tr>
-                                <tr>
-                                    <td><strong>'.PG_PASS_CONFIRMADA.'</strong></td>
-                                    <td><input type="password" name="txtPassConfirmada" value="" /></td>
-                                </tr>
-                            </tbody>
-                        </table>
-                    </div>
-                    <div class="botones">
-                        <input type="submit" name="btnGuardar" id="btnGuardar" class="p-button p-button-submit" value="'.PG_GUARDAR.'" />
-                    </div>
-                </form>
-            </div>
-    ';
-    if(!isset($_SESSION["id_acceso"])){
-        $prinHtml .= '
-            <div id="secpreg" class="seccion">
-                <p class="titulo">'.PG_PREGUNTA.'</p>
-                <form id="frmCambiarPregunta" name="frmCambiarPregunta" action="index.php?mod=seg&hac=preg" method="POST">
-                    <div class="contenido">
-    ';
-    if(isset($Form->key) && $Form->key == $keyForms["preg"] && $Form->mensaje->texto != ""){
-        $prinHtml .= '
-                        <p class="_info" id="'.$Form->mensaje->tipo.'">
-                            <span class="info_inner">'.$Form->mensaje->texto.'</span>
-                        </p>
-        ';
-    }
-    $prinHtml .= '
-                        <input type="hidden" name="key" value="'.$keyForms["preg"].'" />
-                        <table>
-                            <tbody>
-                                <tr>
-                                    <td><strong>'.PG_PREGUNTA.'</strong></td>
-                                    <td>
-                                        <select name="selPregunta">
-    ';
-    $preguntas = $Usuario->obtenerPreguntasSecretas();
-    if(count($preguntas) > 0){
-        foreach($preguntas as $pregunta){
-            $prinHtml .= '
-                                            <option value="'.encriptar("", $pregunta["id_pregunta"]).'" '.($Usuario->id_pregunta == $pregunta["id_pregunta"] ? "selected" : "").'>
-                                                ' . ($idioma == 'es' ? $pregunta["pregunta"] : $pregunta["pregunta_en"]) . '
-                                            </option>
-            ';
-        }
-    }
-    $prinHtml .= '
-                                        </select>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td><strong>'.PG_RESPUESTA.'</strong></td>
-                                    <td><input type="text" name="txtRespuesta" value="'.$Usuario->respuesta.'" /></td>
-                                </tr>
-                            </tbody>
-                        </table>
-                    </div>
-                    <div class="botones">
-                        <input type="submit" name="btnGuardar" id="btnGuardar" class="p-button p-button-submit" value="'.PG_GUARDAR.'" />
-                    </div>
-                </form>
+			
+            <div class="row">
+				<div class="col-md-6">
+					<div class="seccion">
+						<p class="titulo">'.PG_PASSWORD.'</p>
+						<form id="frmCambiarPass" name="frmCambiarPass" action="index.php?mod=seg&hac=pass" method="POST">
+							<div id="secpass" class="contenido">
+			';
+			if(isset($Form->key) && $Form->key == $keyForms["pass"] && $Form->mensaje->texto != ""){
+				$prinHtml .= '
+								<p class="_info" id="'.$Form->mensaje->tipo.'">
+									<span class="info_inner">'.$Form->mensaje->texto.'</span>
+								</p>
+				';
+			}
+			$prinHtml .= '
+								<input type="hidden" name="key" value="'.$keyForms["pass"].'" />
+								
+								<div class="form-group">
+									<label >' . PG_PASS_ACTUAL . '</label>
+									<input type="password" name="txtPassActual" value="" class="form-control"/>
+									
+								</div>
+								<div class="form-group">
+									<label >' . PG_PASS_NUEVA . '</label>
+									<input type="password" name="txtPassNueva" value="" class="form-control"/>
+									
+								</div>
+								<div class="form-group">
+									<label >' . PG_PASS_CONFIRMADA . '</label>
+									<input type="password" name="txtPassConfirmada" value="" class="form-control"/>
+									
+								</div>
+								<div class="form-group">
+									<div class="botones">
+										<input type="submit" name="btnGuardar" id="btnGuardar" class="p-button p-button-submit" value="'.PG_GUARDAR.'" />
+									</div>
+								</div>
+							</div>
+							
+							
+						</form>
+					</div>
+				</div>
+		';
+		if(!isset($_SESSION["id_acceso"])){
+			$prinHtml .= '
+				<div class="col-md-6">
+					<div id="secpreg" class="seccion">
+						<p class="titulo">'.PG_PREGUNTA.'</p>
+						<form id="frmCambiarPregunta" name="frmCambiarPregunta" action="index.php?mod=seg&hac=preg" method="POST">
+							<div class="contenido">
+			';
+			if(isset($Form->key) && $Form->key == $keyForms["preg"] && $Form->mensaje->texto != ""){
+				$prinHtml .= '
+								<p class="_info" id="'.$Form->mensaje->tipo.'">
+									<span class="info_inner">'.$Form->mensaje->texto.'</span>
+								</p>
+				';
+			}
+			$prinHtml .= '
+								<input type="hidden" name="key" value="'.$keyForms["preg"].'" />
+								
+								<div class="form-group">
+									<label >' . PG_PREGUNTA . '</label>
+									<select name="selPregunta" class="form-control">
+			';
+			$preguntas = $Usuario->obtenerPreguntasSecretas();
+			if(count($preguntas) > 0){
+				foreach($preguntas as $pregunta){
+					$prinHtml .= '
+										<option value="'.encriptar("", $pregunta["id_pregunta"]).'" '.($Usuario->id_pregunta == $pregunta["id_pregunta"] ? "selected" : "").'>
+											' . ($idioma == 'es' ? $pregunta["pregunta"] : $pregunta["pregunta_en"]) . '
+										</option>
+					';
+				}
+			}
+			$prinHtml .= '
+									</select>
+								</div>
+								
+								<div class="form-group">
+									<label >' . PG_RESPUESTA . '</label>
+									<input type="text" name="txtRespuesta" value="'.$Usuario->respuesta.'" class="form-control" />
+									
+								</div>
+								
+								<div class="form-group">
+									<div class="botones">
+										<input type="submit" name="btnGuardar" id="btnGuardar" class="p-button p-button-submit" value="'.PG_GUARDAR.'" />
+									</div>
+								</div>
+							</div>
+							
+						</form>
+					</div>
+				</div>
             </div>
         ';
Index: branches/b-20180319.02/modulos/tarjetas/funciones.php
===================================================================
--- trunk/modulos/tarjetas/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/tarjetas/funciones.php	(revision 3579)
@@ -12,34 +12,8 @@
 
 function listarTarjetas() {
+    global $prinHtml, $usuaPagina, $dirImagen;
+    
     require_once 'librerias/class.Cripto.php';
-    global $_SESSION, $aNivel, $prinHtml, $usuaPagina, $dirImagen, $db;
-    if (!isset($_SESSION['usuaPagaditoUsuario'])) {
-        unset($_SESSION);
-        $_SESSION = array();
-        session_destroy();
-        header('Location:./index.php');
-        exit;
-    }
-
-    $msg = (!empty($_SESSION['Tarjetas']['msg']) ? $_SESSION['Tarjetas']['msg'] : "");
-    $prinHtml .= '
-        <div class="detallecuerpo">
-        <h1>' . PG_TARJETAS_TITULO . '</h1>
-        ' . $msg . '
-                    <table class="tblDet">
-                        <thead>
-                            <tr>
-                                <th style="width: 150px;">' . PG_TARJETAS_LISTAR_TIPO . '</th>
-                                <th style="width: 350px;">' . PG_TARJETAS_LISTAR_NUMERO . '</th>
-                                <th style="width: 100px; text-align: center;">' . PG_TARJETAS_LISTAR_FECHA_VENCIMIENTO . '</th>                                
-                                <th style="width: 75px;">' . PG_TARJETAS_LISTAR_ESTADO . '</th>
-                                <th style="width: 75px; text-align: center;">' . PG_TARJETAS_LISTAR_PRIMARIA . '</th>
-                                <th style="width: 200px; text-align: center;">' . PG_TARJETAS_LISTAR_ACCION . '</th>                    
-                            </tr>
-                        </thead>
-                        <tbody>';
-    //<th style="width: 100px; text-align: center;">Limite de Transacci&oacute;n</th>
     $arrTarjetas = getInfoTarjetas();
-    $unicaTarjeta = false;
     $porVencer = false;
     $url_iconos = $dirImagen . '/iconos/';
@@ -57,119 +31,153 @@
         'visa' => $url_iconos . 'ico_tpvisa.png',
     );
-    $tarjetasn0 = array();
-    $tarjetasn1 = array();
     $link_nueva_tarjeta = "index.php?mod=user&hac=vregf3";
+    $style_center = 'class="center"';
+    $band = TRUE;
+    
+    // html del listado de tarjetas
+    $msg = (!empty($_SESSION['Tarjetas']['msg']) ? $_SESSION['Tarjetas']['msg'] : "");
+    $prinHtml .= '
+        <div class="detallecuerpo container-fluid">
+            <h1>' . PG_TARJETAS_TITULO . '</h1>
+            ' . $msg . '
+            <table class="tblDet">
+                <thead>
+                    <tr>
+                        <th style="width: 150px;">' . PG_TARJETAS_LISTAR_TIPO . '</th>
+                        <th style="width: 250px;">' . PG_TARJETAS_LISTAR_NUMERO . '</th>
+                        <th style="width: 100px; text-align: center;">' . PG_TARJETAS_LISTAR_FECHA_VENCIMIENTO . '</th>                                
+                        <th style="width: 200px;">' . PG_TARJETAS_LISTAR_ESTADO . '</th>
+                        <th style="width: 75px; text-align: center;">' . PG_TARJETAS_LISTAR_PRIMARIA . '</th>
+                        <th style="width: 175px; text-align: center;">' . PG_TARJETAS_LISTAR_ACCION . '</th>                    
+                    </tr>
+                </thead>
+                <tbody>';
+    
+    // impresión del listado de tarjetas del usuario
     if (count($arrTarjetas) > 0) {
-        if (count($arrTarjetas) == 1) {
-            $unicaTarjeta = true;
-        }
-        $style_center = 'class="center"';
-        $band = TRUE;
+        
         $Cripto = new Cripto();
         foreach ($arrTarjetas as $tarjeta) {
+            
+            $tarjeta['icon'] = '<img src="./imagenes/' . $tarjeta['logo'] . '"/>';
+            $tarjeta['numero'] = formatearNumerTarjeta($tarjeta['ultdigitos'], $tarjeta['id_tarjeta_tipo']);
+            $tarjeta['radio_primaria'] = '<img src="' . ($tarjeta['primaria'] == 1 ? $urlIcono['radiobutton_on'] : $urlIcono['radiobutton_no']) . '"/>';
+            $cadena_acciones = '';
+            
+            // estilo para tarjeta proxima a vencer
+            $dias = $tarjeta['dias'];
+            if ($tarjeta['diasRestantes'] <= $dias && $tarjeta['diasRestantes'] > 0) {
+                
+                $porVencer = true;
+            }
+            
+            // estilo para tarjeta vencida
+            $styleVencimiento = '';
+            if ($tarjeta['diasRestantes'] <= $dias) {
+                
+                if ($tarjeta['diasRestantes'] <= 0) {
+                    
+                    $tarjeta['fechaVencimiento'] .= '(' . PG_TARJETAS_LISTAR_MSG_VENCIDA . ')';
+                    $styleVencimiento = ' style="color: #ff0000;" ';
+                } else {
+                    
+                    $tarjeta['fechaVencimiento'] .= " *";
+                }
+            }
+            
+            // listado de acciones posible
             $opAccion = array(
                 'validar' => '<a href="index.php?mod=user&hac=vvalcard&t=' . $Cripto->cifrar($tarjeta['id_tarjeta']) . '" title="' . PG_TARJETAS_LISTAR_ACCION_VALIDAR_TARJETA . '"><img src="' . $urlIcono['validar'] . '" border="0" /></a>',
                 'modificar' => '<a href="' . $usuaPagina . '&hac=mtrj&idt=' . encriptar(1, $tarjeta['id_tarjeta']) . '" title="' . PG_TARJETAS_LISTAR_ACCION_MODIFICAR_TARJETA . '"><img src="' . $urlIcono['modificar'] . '" border="0" /></a>',
                 'eliminar' => '<a href="' . $usuaPagina . '&hac=eliminar&idt=' . encriptar(1, $tarjeta['id_tarjeta']) . '" title="' . PG_TARJETAS_LISTAR_ACCION_ELIMINAR_TARJETA . '"><img src="' . $urlIcono['eliminar'] . '" border="0" /></a>',
-                'primaria' => '<a href="' . $usuaPagina . '&hac=primaria&idt=' . encriptar(1, $tarjeta['id_tarjeta']) . '" title="' . PG_TARJETAS_LISTAR_ACCION_HACER_PRIMARIA . '"><img src="' . $urlIcono['llave'] . '" border="0" /></a>',
-                'incrementar_nivel' => '<a href="index.php?mod=tarjetas_nivel&idt=' . encriptar(1, $tarjeta['id_tarjeta']) . '" title="' . PG_TARJETAS_LISTAR_ACCION_PRIMARIA_TARJETA . '"><img src="' . $urlIcono['codigo'] . '" border="0" /></a>',
-                'enviar_documentos' => '',
+                'primaria' => '<a href="' . $usuaPagina . '&hac=primaria&idt=' . encriptar(1, $tarjeta['id_tarjeta']) . '" title="' . PG_TARJETAS_LISTAR_ACCION_HACER_PRIMARIA . '"><img src="' . $urlIcono['llave'] . '" border="0" /></a>'
             );
-            //$tarjeta['estado'] = ((abs($tarjeta['activo']) == 1) ? PG_TARJETAS_LISTAR_ESTADO_ACTIVA : PG_TARJETAS_LISTAR_ESTADO_INACTIVA);
-            $tarjeta['numero'] = formatearNumerTarjeta($tarjeta['ultdigitos'], $tarjeta['id_tarjeta_tipo']);
-            $tarjeta['verificada'] = '<img src="' . ((abs($tarjeta['verificada'])) ? $urlIcono['radiobutton_on'] : $urlIcono['radiobutton_no']) . '"/>';
-            //si el estado de la tarjeta es diferente de aprobada, se quita la opción de validar
-            if($tarjeta["id_tarjeta_estado"] != "2" && $tarjeta["id_tarjeta_estado"] != "8"){
-                $opAccion["validar"] = "";
+            
+            // asignación de acciones por el estado de la tarjeta
+            switch ($tarjeta["id_tarjeta_estado"]) {
+                
+                case '2':
+                    
+                    // Registrada
+                    $cadena_acciones .= $opAccion['validar'];
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['primaria'] : '');
+                    break;
+                
+                case '3':
+                    
+                    // Validada
+                    $cadena_acciones .= $opAccion['modificar'];
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['primaria'] : '');
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['eliminar'] : '');
+                    break;
+                
+                case '7':
+                    
+                    // Expirada
+                    $cadena_acciones .= $opAccion['modificar'];
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['primaria'] : '');
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['eliminar'] : '');
+                    break;
+
+                case '8':
+                    
+                    // En revisión
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['primaria'] : '');
+                    break;
+                
+                case '9':
+                    
+                    // Con Transacción en verificación
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['primaria'] : '');
+                    break;
+                
+                case '10':
+                    
+                    // Verificando por primera recarga de saldo
+                    $cadena_acciones .= $opAccion['validar'];
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['primaria'] : '');
+                    break;
+                
+                case '11':
+                    
+                    // Verificando por recarga de saldo
+                    $cadena_acciones .= $opAccion['validar'];
+                    $cadena_acciones .= ($tarjeta['primaria'] == 0 ? $opAccion['primaria'] : '');
+                    break;
             }
             
-            // si la tarjeta tiene estado con transaccion en verificacion
-            if($tarjeta["id_tarjeta_estado"] == "9") {
-                $opAccion["modificar"] = "";
-            }            
+            // impresión del listado
+            $band = !$band;
+            $prinHtml .= '
+                    <tr ' . $styleVencimiento . ' ' . ($band ? "class='band'" : '') . '>
+                        <td ' . $style_center . '>' . $tarjeta['icon'] . '</td>
+                        <td ' . $style_center . '>' . $tarjeta['numero'] . '</td>
+                        <td ' . $style_center . '>' . str_pad($tarjeta['fechaVencimiento'], 7, '0', STR_PAD_LEFT) . '</td>                                                        
+                        <td ' . $style_center . '>' . $tarjeta['estado'] . '</td>                                
+                        <td ' . $style_center . '>' . $tarjeta['radio_primaria'] . '</td>
+                        <td ' . $style_center . '>' . $cadena_acciones . '</td>
+                    </tr>';
+        }
+        if ($porVencer) {
             
-            // si la tarjeta tiene estado primario no permite hacerla primaria
-            // ni tampoco permite eliminarla
-            if ($tarjeta['primaria'] == 1) {
-                $opAccion['primaria'] = '';
-                $opAccion['eliminar'] = '';
-            }
-            $tarjeta['primaria'] = '<img src="' . ($tarjeta['primaria'] == 1 ? $urlIcono['radiobutton_on'] : $urlIcono['radiobutton_no']) . '"/>';
-            $dias = $tarjeta['dias'];
-            if ($tarjeta['diasRestantes'] <= $dias && $tarjeta['diasRestantes'] > 0) {
-                $porVencer = true;
-            }
-            $styleVencimiento = '';
-            if ($tarjeta['diasRestantes'] <= $dias) {
-                if ($tarjeta['diasRestantes'] <= 0) {
-                    $tarjeta['fechaVencimiento'].='(' . PG_TARJETAS_LISTAR_MSG_VENCIDA . ')';
-                    $styleVencimiento = ' style="color: #ff0000;" ';
-                } else {
-                    $tarjeta['fechaVencimiento'].=" *";
-                }
-            }
-            //Verificar si es posible incrementar Nivel
-            if ($tarjeta['nivel'] == $aNivel['nivel2']) {
-                $opAccion['incrementar_nivel'] = '';
-            }
-
-            if ($tarjeta['nivel'] == $aNivel['nivel0']) {
-                $tarjetasn0[] = $tarjeta['numero'];
-                if (!validarIncrementoNivel1($tarjeta['id_tarjeta'])) {
-                    $opAccion['incrementar_nivel'] = ''; //no puede incrementar a nivel 1
-                }
-            }
-            if ($tarjeta['nivel'] == $aNivel['nivel1']) {
-                $tarjetasn1[] = $tarjeta['numero'];
-            }
-            $tarjeta['icon'] = '<img src="./imagenes/' . $tarjeta['logo'] . '"/>';
-            $band = !$band;
-            /*
-             * OCULTANDO BOTONES DE ACCION MAF
-             */
-            $opAccion['incrementar_nivel'] = "";
-            $opAccion['enviar_documentos'] = "";
-            $prinHtml .='
-                            <tr ' . $styleVencimiento . ' ' . ($band ? "class='band'" : '') . '>
-                                <td ' . $style_center . '>' . $tarjeta['icon'] . '</td>
-                                <td ' . $style_center . '>' . $tarjeta['numero'] . '</td>
-                                <td ' . $style_center . '>' . str_pad($tarjeta['fechaVencimiento'], 7, '0', STR_PAD_LEFT) . '</td>                                                        
-                                <td ' . $style_center . '>' . $tarjeta['estado'] . '</td>                                
-                                <td ' . $style_center . '>' . $tarjeta['primaria'] . '</td>
-                                <td ' . $style_center . '>
-                                    ' . $opAccion['validar'] . '
-                                    ' . $opAccion['modificar'] . '
-                                    ' . $opAccion['eliminar'] . '
-                                    ' . $opAccion['primaria'] . '
-                                    ' . $opAccion['incrementar_nivel'] . '
-                                    ' . $opAccion['enviar_documentos'] . '
-                                </td>
-                            </tr>';
-            //<td ' . $style_center . '>' . $tarjeta['desc_nivel'] . '</td>            
-        }
-        if ($porVencer) {
-            $prinHtml .= '  <tr>
-                                <td colspan="7" style="text-align: right;">' . PG_TARJETAS_LISTAR_MSG_POR_VENCER . '</td>
-                            </tr>';
+            $prinHtml .= '
+                    <tr>
+                        <td colspan="6" style="text-align: right;">' . PG_TARJETAS_LISTAR_MSG_POR_VENCER . '</td>
+                    </tr>';
         }
     } else {
-        $prinHtml .= '      <tr>
-                                <td colspan="7">' . str_replace('<link>', '<a href="' . $link_nueva_tarjeta . '">'.PG_GEN_MSG_LINK_AQUI.'</a>', PG_TARJETAS_LISTAR_MSG_NO_TARJETAS) . '</td>
-                            </tr>';
+        
+        $prinHtml .= '
+                    <tr>
+                        <td colspan="6">' . str_replace('<link>', '<a href="' . $link_nueva_tarjeta . '">' . PG_GEN_MSG_LINK_AQUI . '</a>', PG_TARJETAS_LISTAR_MSG_NO_TARJETAS) . '</td>
+                    </tr>';
     }
     $prinHtml .='
-                        </tbody>
-                    </table>';
-//MENSAJE DE VERIFICACION MODELO AF
-    $validacion = validarAgregarTarjeta();
-    if (!$validacion['puede_agregar']) {
-        $prinHtml .=iniCreaMsg($validacion['msg']);
-    } else {
-        $prinHtml .='
-        <a class="p-button p-button-submit" href="'.$link_nueva_tarjeta.'">' . PG_TARJETAS_BOTON_ASOCIAR_TARJETA . '</a>';
-    }
-    $prinHtml .='
-    </div>';
-//Limpiar variables de sesion
+                </tbody>
+            </table>
+            <a class="p-button p-button-submit" href="' . $link_nueva_tarjeta . '">' . PG_TARJETAS_BOTON_ASOCIAR_TARJETA . '</a>
+        </div>';
+    
+    // limpiar variables de sesion
     unset($_SESSION['Tarjetas']['msg']);
     unset($_SESSION['incrementar_nivel']);
@@ -182,4 +190,5 @@
 function getInfoTarjetas() {
     global $db;
+    
     $arrTarjetas = array();
     $sql = "
@@ -187,6 +196,6 @@
             id_tarjeta, 
             tt.activo,
-            @vence_mes := AES_DECRYPT(vence_mes, '".KERNEL_CFG_MASTER_KEY."'),
-            @vence_anio := AES_DECRYPT(vence_anio, '".KERNEL_CFG_MASTER_KEY."'),
+            @vence_mes := AES_DECRYPT(vence_mes, '" . KERNEL_CFG_MASTER_KEY . "'),
+            @vence_anio := AES_DECRYPT(vence_anio, '" . KERNEL_CFG_MASTER_KEY . "'),
             CONCAT(@vence_mes, '/', @vence_anio) AS fechaVencimiento, 
             (
@@ -236,18 +245,23 @@
             te.nombre estado
         FROM pg_tarjetas t 
-        INNER JOIN pg_sniveles sn USING(id_snivel)
-        INNER JOIN pg_tarjetas_tipos tt USING(id_tarjeta_tipo)
-        LEFT JOIN pg_tarjeta_estado te USING(id_tarjeta_estado)
-        WHERE id_usuario = " . $_SESSION['usuaPagaditoUsuario'] . '
-        AND t.activo=1
-        AND t.id_tarjeta_estado IN(0, 2, 3, 7, 8, 9)
-        ORDER BY t.primaria DESC, t.id_snivel
-    ';
+            INNER JOIN pg_sniveles sn USING(id_snivel)
+            INNER JOIN pg_tarjetas_tipos tt USING(id_tarjeta_tipo)
+            LEFT JOIN pg_tarjeta_estado te USING(id_tarjeta_estado)
+        WHERE
+            id_usuario = '" . $_SESSION['usuaPagaditoUsuario'] . "'
+            AND t.activo = '1'
+            AND t.id_tarjeta_estado IN('2', '3', '7', '8', '9', '10', '11')
+        ORDER BY
+            t.primaria DESC,
+            t.id_snivel";
     try {
+        
         $rs = $db->query($sql);
         while ($rs->fetchInto($tarjeta)) {
+            
             $arrTarjetas[] = $tarjeta;
         }
     } catch (Throwable $exc) {
+        
         inicRegistrarError($exc->getMessage(), 'LISTAR TARJETAS - OBTENIENDO INFORMACION DE TARJETAS DEL USUARIO');
     }
@@ -568,77 +582,66 @@
 
     $msg = (!empty($objTarjeta['msg']) ? $objTarjeta['msg'] : '');
-    $prinHtml .= '       <div class="detallecuerpo">
+    $prinHtml .= '       <div class="detallecuerpo container-fluid">
                           <div class="captura">
                             <h1>' . PG_TARJETAS_MODIFICAR_TITULO . '</h1>
                             <div class="div_monto">' . PG_TARJETAS_SE_HARA_CARGO . $_SESSION['vtarj']['cargoTarjeta'] . PG_TARJETAS_A_SU_TARJETA . '</div>
                              ' . getInfoCargos() . '
-                            <form id="_frmModificarTarjeta" name="frmAgregarTarjeta" method="post" action="' . $usuaPagina . '" onsubmit="overlay();">
-				<table width="100%" id="tblNuevaTarjeta" name="tblNuevaTarjeta"  border="0">                                        
-                                    <thead>
-                                        <th colspan="2">' . $msg . '</th>
-                                    </thead>
-                                    <tbody>
-                                        <tr>
-                                                <td class="alturaFilaTarj">' . PG_GEN_TARJETAS_AGREGAR_NOMBRE_PROPIETARIO . '</td>
-                                                <td><span>' . $datosTarjeta['propietario'] . '</span></td>            
-                                        </tr>
-                                        <tr>
-                                                <td class="alturaFilaTarj" style="width: 200px;">' . PG_GEN_TARJETAS_AGREGAR_TIPO_TARJETA . '</td>
-                                                <td>
-                                                    ' . verTipoTarjeta($datosTarjeta['tipoTar']) . '
-                                                </td>
-                                        </tr>
-                                        <tr>
-                                                <td class="alturaFilaTarj">' . PG_GEN_TARJETAS_AGREGAR_NUMERO_TARJETA . '</td>
-                                                <td><span>' . $datosTarjeta['numtarjeta'] . '</span></td>
-                                        </tr>
-                                        <tr>
-                                                <td class="alturaFilaTarj" valign="top">' . PG_GEN_TARJETAS_AGREGAR_FECHA_VENCIMIENTO . '</td><td>
-                                                <table class="informacion" border="0">
-                                                        <tr>
-                                                                <td>' . usuaGenerarMesesVencimiento($datosTarjeta['mesVence']) . '</td>
-                                                                <td>' . usuaGenerarAniosVencimiento($datosTarjeta['anioVence']) . '</td>
-                                                                <td>&nbsp;<span id="_validacionFechaTarj" class="infoRojo">&nbsp;</span>
-                                                                <span id="err_mesVence" class="err Ocultar">' . $fieldErrors['mesVence'] . '</span>
-                                                                </td>
-                                                        </tr>
-                                                        <tr>
-                                                                <td><span class="info">' . PG_GEN_TARJETAS_AGREGAR_FECHA_VENCIMIENTO_MES . '</span></td>
-                                                                <td><span class="info">' . PG_GEN_TARJETAS_AGREGAR_FECHA_VENCIMIENTO_ANIO . '</span></td>
-                                                                <td>&nbsp;</td>								
-                                                        </tr>
-                                                </table>
-                                                </td>
-                                        </tr>
-                                        <tr>
-                                                <td class="alturaFilaTarj">' . PG_GEN_TARJETAS_AGREGAR_CVV . '</td>
-                                                <td>
-                                                    <input name="autorizacion" id="autorizacion" autocomplete="off" onpaste="return false" maxlength="' . $aCaractsTarj['num_cvv'] . '" type="password" value="" class="vl_numero" style="width: 40px;" />
-                                                        &nbsp;&nbsp;&nbsp;<a id="_linkDigitos" style="color: #3b8795;" href="javascript:void(0);">' . PG_GEN_TARJETAS_AGREGAR_CVV_QUE_ES_ESTO . '</a>
-                                                        <span id="err_autorizacion" class="err Ocultar">' . $fieldErrors['autorizacion'] . '</span><br />
-                                                        <span style="color: #999">' . str_replace('<car>', $aCaractsTarj['vista_tarj'], PG_GEN_TARJETAS_AGREGAR_CVV_UBICACION) . '.</span>
-
-                                                </td>        
-                                        </tr>
-                                        <tr>
-                                            <td class="alturaFilaTarj">' . PG_GEN_TARJETAS_AGREGAR_DIRECCION . '</td>
-                                            <td>
-                                                ' . $datosTarjeta['direccion'] . '<br/>
-                                                ' . $datosTarjeta['direccion_aux'] . '
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td colspan="2"><div id="_alertasTarj" style="color: #FF0000"></div></td>
-                                        <tr>
-                                        <tr>
-                                            <td colspan="2">
-                                                <input class="p-button p-button-submit" type="submit" value="' . PG_GEN_BOTON_CONTINUAR . '" />								
-                                                &nbsp;
-                                                <input class="p-button" type="submit" name="_cancelar" value="' . PG_GEN_BOTON_CANCELAR . '" />								
-                                            </td>
-                                        </tr>
-                                    </tbody>
-				</table>
-                            </form>
+							 
+							<form id="_frmModificarTarjeta" name="frmAgregarTarjeta" method="post" action="' . $usuaPagina . '" onsubmit="overlay();">
+								<div class="row informacion" name="tblNuevaTarjeta" id="tblNuevaTarjeta"><!-- start row -->
+									<div class="col-12">' . $msg . '</div>
+									
+									<div class="col-12 col-sm-5">' . PG_GEN_TARJETAS_AGREGAR_NOMBRE_PROPIETARIO . '</div>
+									<div class="col-12 col-sm-7">' . $datosTarjeta['propietario'] . '</div>
+									<div class="col-12 mt-2 mb-2"></div>
+									<div class="col-12 col-sm-5">' . PG_GEN_TARJETAS_AGREGAR_TIPO_TARJETA . '</div>
+									<div class="col-12 col-sm-7">' . $datosTarjeta['tipoTar'] . '</div>
+									<div class="col-12 mt-2 mb-2"></div>
+									<div class="col-12 col-sm-5">' . PG_GEN_TARJETAS_AGREGAR_NUMERO_TARJETA . '</div>
+									<div class="col-12 col-sm-7">' . $datosTarjeta['numtarjeta'] . '</div>
+									<div class="col-12 mt-2 mb-2"></div>
+									<div class="col-12 col-sm-5">' . PG_GEN_TARJETAS_AGREGAR_FECHA_VENCIMIENTO . '</div>
+									<div class="col-12 col-sm-7">
+										<div class="row">
+											<div class="col-6 col-sm-auto">
+												' . usuaGenerarMesesVencimiento($datosTarjeta['mesVence']) . '
+												<span class="info">' . PG_GEN_TARJETAS_AGREGAR_FECHA_VENCIMIENTO_MES . '</span>
+												<span id="_validacionFechaTarj" class="infoRojo">&nbsp;</span>
+											</div>
+											<div class="col-6 col-sm-auto">
+												' . usuaGenerarAniosVencimiento($datosTarjeta['anioVence']) . '
+												<span class="info">' . PG_GEN_TARJETAS_AGREGAR_FECHA_VENCIMIENTO_ANIO . '</span>
+												<span id="err_mesVence" class="err Ocultar">' . $fieldErrors['mesVence'] . '</span>
+											</div>
+										</div>
+									</div>
+									<div class="col-12 mt-2 mb-2"></div>
+									<div class="col-12 col-sm-5">' . PG_GEN_TARJETAS_AGREGAR_CVV . '</div>
+									<div class="col-12 col-sm-7">
+										<input name="autorizacion" id="autorizacion" autocomplete="off" onpaste="return false" maxlength="' . $aCaractsTarj['num_cvv'] . '" type="password" value="" class="vl_numero" style="width: 75px;" />
+										&nbsp;&nbsp;&nbsp;<a id="_linkDigitos" style="color: #3b8795;" href="javascript:void(0);">' . PG_GEN_TARJETAS_AGREGAR_CVV_QUE_ES_ESTO . '</a>
+										<span id="err_autorizacion" class="err Ocultar">' . $fieldErrors['autorizacion'] . '</span><br />
+										<span style="color: #999">' . str_replace('<car>', $aCaractsTarj['vista_tarj'], PG_GEN_TARJETAS_AGREGAR_CVV_UBICACION) . '.</span>
+									</div>
+									<div class="col-12 mt-2 mb-2"></div>
+									<div class="col-12 col-sm-5">' . PG_GEN_TARJETAS_AGREGAR_DIRECCION . '</div>
+									<div class="col-12 col-sm-7">
+										' . $datosTarjeta['direccion'] . '<br/>
+										' . $datosTarjeta['direccion_aux'] . '
+									</div>
+									<div class="col-12 mt-2 mb-2"></div>
+									<div class="col-12">
+										<div id="_alertasTarj" style="color: #FF0000"></div>
+									</div>
+									<div class="col-12 mt-2 mb-2"></div>
+									<div class="col-12">
+										<input class="p-button p-button-submit" type="submit" value="' . PG_GEN_BOTON_CONTINUAR . '" />                                                
+                                        <input class="p-button" type="submit" name="_cancelar" value="' . PG_GEN_BOTON_CANCELAR . '" />
+									</div>
+								</div>
+									
+							</form>
+							 
+                            
                          </div><!--Fin captura-->
                         </div><!--Fin detallecuerpo-->
@@ -1068,5 +1071,5 @@
                 _exitTarjetas();
             }
-            $prinHtml .= '<div class="detallecuerpo">
+            $prinHtml .= '<div class="detallecuerpo container-fluid">
                             <h1>' . PG_TARJETAS_ELIMINAR_TITULO . '</h1>
                             <form id="frmConfirmarBorrar" name="frmConfirmarBorrar" method="post" action="index.php?mod=tarjetas&hac=eliminar&idt=' . $_GET['idt'] . '" onsubmit="overlay()">
@@ -1210,5 +1213,5 @@
                 _exitTarjetas();
             }
-            $prinHtml .= '<div class="detallecuerpo">
+            $prinHtml .= '<div class="detallecuerpo container-fluid">
                             <h1>' . PG_TARJETAS_PRIMARIA_TITULO . '</h1>
                             <form id="frmConfirmarPrimaria" name="frmConfirmarPrimaria" method="post" action="index.php?mod=tarjetas&hac=primaria&idt=' . $_GET['idt'] . '" onsubmit="overlay()">
Index: branches/b-20180319.02/modulos/tarjetas/index.php
===================================================================
--- trunk/modulos/tarjetas/index.php	(revision 3384)
+++ branches/b-20180319.02/modulos/tarjetas/index.php	(revision 3579)
@@ -1,39 +1,45 @@
 <?php
+
 login_requerido();
 verificar_usuario_bloqueado();
 verificar_privilegios("admintarjetas");
 include("funciones.php");
-
 $redireccionar = -1;
 $usuaHacer = isset($_GET['hac']) ? htmlentities($db->escapeString($_GET['hac'])) : "";
 // Revisar para modulo tarjetas el parametro iusu, que es de usuarios
 $usuaHacer = isset($_SESSION['usuaPagaditoUsuario']) ? $usuaHacer : "iusu";
-
-if (!isset($_SESSION['usuaPagaditoUsuario'])) {//validacion basica
-    header("Location: index.php");
-    exit;
-}
-
 $prinHtml .= '<script src="javascript/tarjetas.js" type="text/javascript"></script>';
 $usuaPagina = 'index.php?mod=tarjetas';
-//
 switch ($usuaHacer) {
+    
     case "vtarj"://Agregar Tarjeta
-    case "mtrj"://Modificar tarjeta            
+    case "mtrj"://Modificar tarjeta
+        
         procesarCapturaTarjeta();
         break;
+    
     case "cftar"://Confirmar Tarjeta
+        
         confirmarPequenoCargo();
         break;
+    
     case "rgtar"://Registrar Tarjeta
+        
         aplicarRegistroYtarjeta();
         break;
+    
     case "eliminar":
+        
         eliminarTarjeta();
         break;
+    
     case 'primaria'://Cambiar Tarjeta Primaria
+        
         cambiarTarjetaPrimaria();
         break;
+    
     default:
+        
         listarTarjetas();
+        break;
 }
Index: branches/b-20180319.02/modulos/user/funciones.php
===================================================================
--- trunk/modulos/user/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/user/funciones.php	(revision 3579)
@@ -15,10 +15,13 @@
         }
     }
-
+    $imagen = 'pg-banner-registro-comercios';
+    if(MOSTRAR_POPUP) {
+        $imagen = 'pg-banner-promo';
+    }
     $prinHtml .= '
             <div id="usr_paso_C" class="usr_paso">
                 <div id="usr_banner_container">
                     <div id="usr_banner">
-                        <img src="img/pg-banner-registro-comercios-' . $idioma . '.jpg" />
+                        <img class="img-fluid" src="img/' . $imagen . '-' . $idioma . '.jpg" />
                         <div id="usr_banner_indication_container">
                             <p class="usr_banner_indicacion">' . PG_COMREGISTRO_INFO_REGISTRO . '</p>
@@ -36,214 +39,220 @@
     $prinHtml .= '
                 <div id="usr_form_container">
-                    <form class="usr_frm" id="frmProcRegistroFaseC" name="frmProcRegistroFaseC" action="index.php?mod=user&hac=pregfC" method="post">
+                    <form class="usr_frm container-fluid" id="frmProcRegistroFaseC" name="frmProcRegistroFaseC" action="index.php?mod=user&hac=pregfC" method="post">
                         <fieldset>
                             <legend>' . PG_COMREGISTRO_DATOS_PRIMARIOS . '</legend>
-                            <div id="usr_col_left">
-                                <table class="usr_tbl" cellpadding="0" cellspacing="0" border="0">
-                                    <tbody>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_COMREGISTRO_NOMBRE_COMERCIAL . '</td>
-                                            <td><input type="text" name="txtNombreComercial" value="' . $registroActual->txtNombreComercial . '" id="txtNombreComercial" class="usr_text_field validate[\'required\']" maxlength="55" /></td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_COMREGISTRO_TIPO_PERSONA . '</td>
-                                            <td>
-                                                <input type="radio" name="rTipoPersona" value="1"' . ($registroActual->rTipoPersona == '1' ? ' checked' : '') . ' id="rTipoPersona1" class="usr_radio_field validate[\'required\']"  onclick="activarTipoPersona(1)" />
-                                                <label for="rTipoPersona1" class="usr_lbl usr_rlbl">' . PG_COMREGISTRO_TIPO_PERSONA_NATURAL . '</label>
-                                                <input type="radio" name="rTipoPersona" value="0"' . ($registroActual->rTipoPersona == '0' ? ' checked' : '') . ' id="rTipoPersona2" class="usr_radio_field validate[\'required\']"  onclick="activarTipoPersona(0)" />
-                                                <label for="rTipoPersona2" class="usr_lbl usr_rlbl">' . PG_COMREGISTRO_TIPO_PERSONA_JURIDICA . '</label>
-                                            </td>
-                                        </tr>
-                                    </tbody>
-                                </table>
-                            </div>
-                            <div id="usr_col_right">
-                                <table class="usr_tbl" cellpadding="0" cellspacing="0" border="0">
-                                    <tbody>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_COMREGISTRO_RAZON_DENOMINACION . '</td>
-                                            <td><input type="text" name="txtRazon" value="' . $registroActual->txtRazon . '" id="txtRazon" class="usr_text_field validate[\'required\']" maxlength="55" ' . ($registroActual->rTipoPersona == '1' ? ' disabled style="background:#eeeeee;"' : '') . ' /></td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_COMREGISTRO_ACTIVIDAD_PRINCIPAL_COMERCIO . '</td>
-                                            <td><input type="text" name="txtActividad" value="' . $registroActual->txtActividad . '" id="txtActividad" class="usr_text_field validate[\'required\']" maxlength="55" /></td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_COMREGISTRO_SITIO_WEB . '</td>
-                                            <td><input type="text" name="txtSitioWeb" value="' . $registroActual->txtSitioWeb . '" id="txtSitioWeb" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                                        </tr>
-                                    </tbody>
-                                </table>
+							<div class="row mt-4">
+								<div id="usr_col_left" class="col-md-6">
+									<div class="usr_tbl">
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_COMREGISTRO_NOMBRE_COMERCIAL . '</label>
+											<input type="text" name="txtNombreComercial" value="' . $registroActual->txtNombreComercial . '" id="txtNombreComercial" class="form-control usr_text_field validate[\'required\']" maxlength="55" />
+											
+										</div>
+										<div class="form-group form-check pl-0">
+											<label class="usr_td_lbl">' . PG_COMREGISTRO_TIPO_PERSONA . '</label>
+											<input type="radio" name="rTipoPersona" value="1"' . ($registroActual->rTipoPersona == '1' ? ' checked' : '') . ' id="rTipoPersona1" class="usr_radio_field validate[\'required\']"  onclick="activarTipoPersona(1)" />
+											<label for="rTipoPersona1" class="usr_lbl usr_rlbl">' . PG_COMREGISTRO_TIPO_PERSONA_NATURAL . '</label>
+											<input type="radio" name="rTipoPersona" value="0"' . ($registroActual->rTipoPersona == '0' ? ' checked' : '') . ' id="rTipoPersona2" class="usr_radio_field validate[\'required\']"  onclick="activarTipoPersona(0)" />
+											<label for="rTipoPersona2" class="usr_lbl usr_rlbl">' . PG_COMREGISTRO_TIPO_PERSONA_JURIDICA . '</label>
+										</div>
+									</div>
+								</div>
+								<div id="usr_col_right" class="col-md-6">
+									<div class="usr_tbl">
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_COMREGISTRO_RAZON_DENOMINACION . '</label>
+											<input type="text" name="txtRazon" value="' . $registroActual->txtRazon . '" id="txtRazon" class="form-control usr_text_field validate[\'required\']" maxlength="55" ' . ($registroActual->rTipoPersona == '1' ? ' disabled style="background:#eeeeee;"' : '') . ' />
+											
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_COMREGISTRO_ACTIVIDAD_PRINCIPAL_COMERCIO . '</label>
+											<input type="text" name="txtActividad" value="' . $registroActual->txtActividad . '" id="txtActividad" class="form-control usr_text_field validate[\'required\']" maxlength="55" />
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_COMREGISTRO_SITIO_WEB . '</label>
+											<input type="text" name="txtSitioWeb" value="' . $registroActual->txtSitioWeb . '" id="txtSitioWeb" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+										</div>
+									</div>
+									
+								</div>
                             </div>
                         </fieldset>
-                        <div id="usr_col_left">
-                            <fieldset>
-                                <legend>' . PG_COMREGISTRO_RESPONSABLE_REPRESENTANTE . '</legend>
-                                <table class="usr_tbl" cellpadding="0" cellspacing="0" border="0">
-                                    <tbody>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_NOMBRES . '</td>
-                                            <td><input type="text" name="txtNombre" value="' . $registroActual->txtNombre . '" id="txtNombre" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_APELLIDOS . '</td>
-                                            <td><input type="text" name="txtApellidos" value="' . $registroActual->txtApellidos . '" id="txtApellidos" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_SEXO . '</td>
-                                            <td>
-                                                <input type="radio" name="rGenero" value="Masculino"' . ($registroActual->rGenero == 'Masculino' ? ' checked' : '') . ' id="rGenero1" class="usr_radio_field validate[\'required\']" />
-                                                <label for="rGenero1" class="usr_lbl usr_rlbl">' . PG_USER_MASCULINO . '</label>
-                                                <input type="radio" name="rGenero" value="Femenino"' . ($registroActual->rGenero == 'Femenino' ? ' checked' : '') . ' id="rGenero2" class="usr_radio_field validate[\'required\']" />
-                                                <label for="rGenero2" class="usr_lbl usr_rlbl">' . PG_USER_FEMENINO . '</label>
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_FECHA_NAC . '</td>
-                                            <td>
-                                                <label for="selDia" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
-                                                <select name="selDia" id="selDia" class="usr_select_field validate[\'required\']">
-                                                    <option value="">' . PG_USER_DIA_NAC . '</option>';
-    for ($i = 1; $i <= 31; $i++) {
-        $prinHtml .= '
-                                                    <option value="' . $i . '"' . ($registroActual->selDia == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                                </select>
-                                                <label for="selMes" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
-                                                <select name="selMes" id="selMes" class="usr_select_field validate[\'required\']">
-                                                    <option value="">' . PG_USER_MES_NAC . '</option>';
-    for ($i = 1; $i <= 12; $i++) {
-        $prinHtml .= '
-                                                    <option value="' . $i . '"' . ($registroActual->selMes == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                                </select>
-                                                <label for="selYear" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
-                                                <select name="selYear" id="selYear" class="usr_select_field validate[\'required\']">
-                                                    <option value="">' . PG_USER_ANO_NAC . '</option>';
-    for ($i = (date("Y") - 18); $i >= 1905; $i--) {
-        $prinHtml .= '
-                                                    <option value="' . $i . '"' . ($registroActual->selYear == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                                </select>
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_EMAIL . '</td>
-                                            <td>
-                                                <input type="text" name="txtCorreo" value="' . $registroActual->txtCorreo . '" id="txtCorreo" class="usr_text_field validate[\'required\',\'email\']" maxlength="50" />
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_PASSWORD . '</td>
-                                            <td>
-                                                <input type="password" name="txtPassword" value="" id="txtPassword" class="usr_text_field validate[\'required\',\'~regexPass\']" maxlength="20" autocomplete="off" />
-                                                <br /><span class="usr_span">' . PG_USER_PASSWORD_INFO . '</span>
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_CONFIRMAR_PASSWORD . '</td>
-                                            <td>
-                                                <input type="password" name="txtCfnPassword" value="" id="txtCfnPassword" class="usr_text_field validate[\'required\',\'~regexPass\']" maxlength="20" autocomplete="off" />
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td class="usr_td_lbl">' . PG_USER_TELEFONO . '</td>
-                                            <td>
-                                                <input name="txtTelefono" value="' . $registroActual->txtTelefono . '" id="txtTelefono" class="usr_text_field validate[\'required\',\'phone\']" maxlength="20" />
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                            <td>&nbsp;</td>
-                                            <td>
-                                                <input type="checkbox" name="ckCopiarDatos" value="0" id="ckCopiarDatos" class="usr_checkbox_field" onClick="copiarDatos()" />
-                                                <span class="usr_span">' . PG_COMREGISTRO_USAR_DATOS_CONTACTO . '</span>
-                                            </td>
-                                        </tr>
-                                    </tbody>
-                                </table>
-                            </fieldset>
-                        </div>
-                        <div id="usr_col_right">
-                            <fieldset>
-                                <legend>' . PG_COMREGISTRO_DATOS_CONTACTO . '</legend>
-                                <table class="usr_tbl" cellpadding="0" cellspacing="0" border="0">
-                                    <tr>
-                                        <td class="usr_td_lbl">' . PG_USER_NOMBRES . '</td>
-                                        <td><input type="text" name="txtNombreContacto" value="' . $registroActual->txtNombreContacto . '" id="txtNombreContacto" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                                    </tr>
-                                    <tr>
-                                        <td class="usr_td_lbl">' . PG_USER_APELLIDOS . '</td>
-                                        <td><input type="text" name="txtApellidosContacto" value="' . $registroActual->txtApellidosContacto . '" id="txtApellidosContacto" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                                    </tr>
-                                    <tr>
-                                        <td class="usr_td_lbl">' . PG_USER_SEXO . '</td>
-                                        <td>
-                                            <input type="radio" name="rGeneroContacto" value="Masculino"' . ($registroActual->rGeneroContacto == 'Masculino' ? ' checked' : '') . ' id="rGeneroContacto1" class="usr_radio_field validate[\'required\']" />
-                                            <label for="rGeneroContacto1" class="usr_lbl usr_rlbl">' . PG_USER_MASCULINO . '</label>
-                                            <input type="radio" name="rGeneroContacto" value="Femenino"' . ($registroActual->rGeneroContacto == 'Femenino' ? ' checked' : '') . ' id="rGeneroContacto2" class="usr_radio_field validate[\'required\']" />
-                                            <label for="rGeneroContacto2" class="usr_lbl usr_rlbl">' . PG_USER_FEMENINO . '</label>
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td class="usr_td_lbl">' . PG_USER_FECHA_NAC . '</td>
-                                        <td>
-                                            <label for="selDiaContacto" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
-                                            <select name="selDiaContacto" id="selDiaContacto" class="usr_select_field validate[\'required\']">
-                                                <option value="">' . PG_USER_DIA_NAC . '</option>';
-    for ($i = 1; $i <= 31; $i++) {
-        $prinHtml .= '
-                                                <option value="' . $i . '"' . ($registroActual->selDiaContacto == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                            </select>
-                                            <label for="selMesContacto" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
-                                            <select name="selMesContacto" id="selMesContacto" class="usr_select_field validate[\'required\']">
-                                                <option value="">' . PG_USER_MES_NAC . '</option>';
-    for ($i = 1; $i <= 12; $i++) {
-        $prinHtml .= '
-                                                <option value="' . $i . '"' . ($registroActual->selMesContacto == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                            </select>
-                                            <label for="selYearContacto" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
-                                            <select name="selYearContacto" id="selYearContacto" class="usr_select_field validate[\'required\']">
-                                                <option value="">' . PG_USER_ANO_NAC . '</option>';
-    for ($i = (date("Y") - 18); $i >= 1905; $i--) {
-        $prinHtml .= '
-                                                <option value="' . $i . '"' . ($registroActual->selYearContacto == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                            </select>
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td class="usr_td_lbl">' . PG_USER_EMAIL . '</td>
-                                        <td>
-                                            <input type="text" name="txtCorreoContacto" value="' . $registroActual->txtCorreoContacto . '" id="txtCorreoContacto" class="usr_text_field validate[\'required\',\'email\']" maxlength="50" />
-                                        </td>
-                                    </tr>
-                                    <tr>
-                                        <td class="usr_td_lbl">' . PG_USER_TELEFONO . '</td>
-                                        <td>
-                                            <input name="txtTelefonoContacto" value="' . $registroActual->txtTelefonoContacto . '" id="txtTelefonoContacto" class="usr_text_field validate[\'required\',\'phone\']" maxlength="20" />
-                                        </td>
-                                    </tr>
-                                </table>
-                            </fieldset>
-                            <fieldset>
-                                <table class="usr_tbl" cellpadding="0" cellspacing="0" border="0">
-                                    <tr>
-                                        <td class="usr_td_lbl">' . PG_COMREGISTRO_CODIGO_DESCUENTO . '</td>
-                                        <td>
-                                            <input name="txtCodigoDescuento" value="' . $registroActual->txtCodigoDescuento . '" id="txtCodigoDescuento" class="" maxlength="8" />
-                                            <br /><span class="usr_span">' . PG_COMREGISTRO_CODIGO_DESCUENTO_INFO . '</span>
-                                        </td>
-                                    </tr>
-                                </table>
-                            </fieldset>
-                        </div>
+						<div class="row"><!-- start row -->
+							<div id="usr_col_left" class="col-md-6 mt-4">
+								<fieldset>
+									<legend>' . PG_COMREGISTRO_RESPONSABLE_REPRESENTANTE . '</legend>
+									<div class="usr_tbl mt-4">
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_NOMBRES . '</label>
+											<input type="text" name="txtNombre" value="' . $registroActual->txtNombre . '" id="txtNombre" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+											
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_APELLIDOS . '</label>
+											<input type="text" name="txtApellidos" value="' . $registroActual->txtApellidos . '" id="txtApellidos" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+											
+										</div>
+										<div class="form-group form-check"> 
+											<label class="usr_td_lbl">' . PG_USER_SEXO . '</label>
+											<input type="radio" name="rGenero" value="Masculino"' . ($registroActual->rGenero == 'Masculino' ? ' checked' : '') . ' id="rGenero1" class="usr_radio_field validate[\'required\']" />
+											<label for="rGenero1" class="usr_lbl">' . PG_USER_MASCULINO . '</label>
+											<input type="radio" name="rGenero" value="Femenino"' . ($registroActual->rGenero == 'Femenino' ? ' checked' : '') . ' id="rGenero2" class="usr_radio_field validate[\'required\']" />
+											<label for="rGenero2" class="usr_lbl">' . PG_USER_FEMENINO . '</label>
+										</div>
+										
+										<div class="form-group row">
+											<label class="col-12 text-left usr_td_lbl pg-label-date-left">' . PG_USER_FECHA_NAC . '</label></br>
+											<div class="col-12 d-md-none"></div>
+											<div class="col pr-md-0">
+												<label for="selDia" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
+												<select name="selDia" id="selDia" class="usr_select_field validate[\'required\']">
+													<option value="">' . PG_USER_DIA_NAC . '</option>';
+													for ($i = 1; $i <= 31; $i++) {
+														$prinHtml .= '
+															<option value="' . $i . '"' . ($registroActual->selDia == $i ? ' selected' : '') . '>' . $i . '</option>';
+													}
+													$prinHtml .= '
+												</select>
+											</div>
+											<div class="col pl-md-0 pr-md-0">
+												<label for="selMes" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
+												<select name="selMes" id="selMes" class="usr_select_field validate[\'required\']">
+													<option value="">' . PG_USER_MES_NAC . '</option>';
+													for ($i = 1; $i <= 12; $i++) {
+														$prinHtml .= '
+															<option value="' . $i . '"' . ($registroActual->selMes == $i ? ' selected' : '') . '>' . $i . '</option>';
+													}
+													$prinHtml .= '
+												</select>
+											</div>
+											<div class="col pl-md-0">
+												<label for="selYear" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
+												<select name="selYear" id="selYear" class="usr_select_field validate[\'required\']">
+													<option value="">' . PG_USER_ANO_NAC . '</option>';
+													for ($i = (date("Y") - 18); $i >= 1905; $i--) {
+														$prinHtml .= '
+															<option value="' . $i . '"' . ($registroActual->selYear == $i ? ' selected' : '') . '>' . $i . '</option>';
+													}
+													$prinHtml .= '
+												</select>
+											</div>
+										</div>
+										
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_EMAIL . '</label>
+											<input type="text" name="txtCorreo" value="' . $registroActual->txtCorreo . '" id="txtCorreo" class="form-control usr_text_field validate[\'required\',\'email\']" maxlength="50" />
+											
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_PASSWORD . '</label>
+											<input type="password" name="txtPassword" value="" id="txtPassword" class="form-control usr_text_field validate[\'required\',\'~regexPass\']" maxlength="20" autocomplete="off" />
+											<small class="form-text text-muted">' . PG_USER_PASSWORD_INFO . '</small>
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_CONFIRMAR_PASSWORD . '</label>
+											<input type="password" name="txtCfnPassword" value="" id="txtCfnPassword" class="form-control usr_text_field validate[\'required\',\'~regexPass\']" maxlength="20" autocomplete="off" />
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_TELEFONO . '</label>
+											<input type="text" name="txtTelefono" value="' . $registroActual->txtTelefono . '" id="txtTelefono" class="form-control usr_text_field validate[\'required\',\'phone\']" maxlength="20" />
+											
+										</div>
+										<div class="form-group form-check form-terms">
+											<input type="checkbox" name="ckCopiarDatos" value="0" id="ckCopiarDatos" class="form-check-input" onClick="copiarDatos()" />
+											<label class="usr_span">' . PG_COMREGISTRO_USAR_DATOS_CONTACTO . '</label>
+										</div>
+										
+									</div>
+									
+								</fieldset>
+							</div>
+						
+							<div id="usr_col_right" class="col-md-6 mt-4">
+								<fieldset>
+									<legend>' . PG_COMREGISTRO_DATOS_CONTACTO . '</legend>
+									<div class="usr_tbl mt-4">
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_NOMBRES . '</label>
+											<input type="text" name="txtNombreContacto" value="' . $registroActual->txtNombreContacto . '" id="txtNombreContacto" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+											
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_APELLIDOS . '</label>
+											<input type="text" name="txtApellidosContacto" value="' . $registroActual->txtApellidosContacto . '" id="txtApellidosContacto" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+											
+										</div>
+										<div class="form-group form-check"> 
+											<label class="usr_td_lbl">' . PG_USER_SEXO . '</label>
+											<input type="radio" name="rGeneroContacto" value="Masculino"' . ($registroActual->rGeneroContacto == 'Masculino' ? ' checked' : '') . ' id="rGeneroContacto1" class="usr_radio_field validate[\'required\']" />
+												<label for="rGeneroContacto1" class="usr_lbl usr_rlbl">' . PG_USER_MASCULINO . '</label>
+												<input type="radio" name="rGeneroContacto" value="Femenino"' . ($registroActual->rGeneroContacto == 'Femenino' ? ' checked' : '') . ' id="rGeneroContacto2" class="usr_radio_field validate[\'required\']" />
+												<label for="rGeneroContacto2" class="usr_lbl usr_rlbl">' . PG_USER_FEMENINO . '</label>
+										</div>
+										
+										<div class="form-group row">
+											<label class="col-12 text-left usr_td_lbl pg-label-date-right">' . PG_USER_FECHA_NAC . '</label></br>
+											<div class="col-12 d-md-none"></div>
+											<div class="col pr-md-0">
+												<label for="selDiaContacto" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
+												<select name="selDiaContacto" id="selDiaContacto" class="usr_select_field validate[\'required\']">
+													<option value="">' . PG_USER_DIA_NAC . '</option>';
+		for ($i = 1; $i <= 31; $i++) {
+			$prinHtml .= '
+													<option value="' . $i . '"' . ($registroActual->selDiaContacto == $i ? ' selected' : '') . '>' . $i . '</option>';
+		}
+		$prinHtml .= '
+												</select>
+											</div>
+											<div class="col pl-md-0 pr-md-0">
+												<label for="selMesContacto" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
+												<select name="selMesContacto" id="selMesContacto" class="usr_select_field validate[\'required\']">
+													<option value="">' . PG_USER_MES_NAC . '</option>';
+		for ($i = 1; $i <= 12; $i++) {
+			$prinHtml .= '
+													<option value="' . $i . '"' . ($registroActual->selMesContacto == $i ? ' selected' : '') . '>' . $i . '</option>';
+		}
+		$prinHtml .= '
+												</select>
+											</div>
+											<div class="col pl-md-0">
+												<label for="selYearContacto" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
+												<select name="selYearContacto" id="selYearContacto" class="usr_select_field validate[\'required\']">
+													<option value="">' . PG_USER_ANO_NAC . '</option>';
+		for ($i = (date("Y") - 18); $i >= 1905; $i--) {
+			$prinHtml .= '
+													<option value="' . $i . '"' . ($registroActual->selYearContacto == $i ? ' selected' : '') . '>' . $i . '</option>';
+		}
+		$prinHtml .= '
+												</select>
+											</div>
+										</div>
+										
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_EMAIL . '</label>
+											<input type="text" name="txtCorreoContacto" value="' . $registroActual->txtCorreoContacto . '" id="txtCorreoContacto" class="form-control usr_text_field validate[\'required\',\'email\']" maxlength="50" />
+											
+										</div>
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_USER_TELEFONO . '</label>
+											<input name="txtTelefonoContacto" value="' . $registroActual->txtTelefonoContacto . '" id="txtTelefonoContacto" class="form-control usr_text_field validate[\'required\',\'phone\']" maxlength="20" />
+										</div>
+										
+										
+									</div>
+									
+								</fieldset>
+								<fieldset>
+									<div class="usr_tbl mt-4">
+										<div class="form-group">
+											<label class="usr_td_lbl">' . PG_COMREGISTRO_CODIGO_DESCUENTO . '</label>
+											<input name="txtCodigoDescuento" value="' . $registroActual->txtCodigoDescuento . '" id="txtCodigoDescuento" class="form-control usr_text_field" maxlength="8" />
+											<small class="form-text text-muted">' . PG_COMREGISTRO_CODIGO_DESCUENTO_INFO . '</small>
+										</div>
+									</div>
+									
+								</fieldset>
+							</div>
+						</div><!-- end row -->
                         <div class="usr_clear"></div>
                         <div class="usr_wide">
@@ -268,4 +277,5 @@
 
     $prinHtml .= '
+		
             <h1 class="usr_titulo">' . PG_USER_ABRA_SU_BILLETERA . '</h1>';
 
@@ -278,89 +288,93 @@
     $prinHtml .= '
             <div id="usr_paso_1" class="usr_paso">
-                <div id="usr_col_left">
+				<div class="container-fluid">
+					<div class="row">
+					<div id="usr_col_left" class="col-sm-12 col-md-5">
                     <form class="usr_frm" id="frmProcRegistroFase1" name="frmProcRegistroFase1" action="index.php?mod=user&hac=pregf1" method="post">
-                        <table class="usr_tbl" cellpadding="0" cellspacing="0" border="0">
-                            <tbody>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_NOMBRES . '</td>
-                                    <td><input type="text" name="txtNombre" value="' . $registroActual->txtNombre . '" id="txtNombre" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_APELLIDOS . '</td>
-                                    <td><input type="text" name="txtApellidos" value="' . $registroActual->txtApellidos . '" id="txtApellidos" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_SEXO . '</td>
-                                    <td>
-                                        <input type="radio" name="rGenero" value="Masculino"' . ($registroActual->rGenero == 'Masculino' ? ' checked' : '') . ' id="rGenero1" class="usr_radio_field validate[\'required\']" />
-                                        <label for="rGenero1" class="usr_lbl">' . PG_USER_MASCULINO . '</label>
-                                        <input type="radio" name="rGenero" value="Femenino"' . ($registroActual->rGenero == 'Femenino' ? ' checked' : '') . ' id="rGenero2" class="usr_radio_field validate[\'required\']" />
-                                        <label for="rGenero2" class="usr_lbl">' . PG_USER_FEMENINO . '</label>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_FECHA_NAC . '</td>
-                                    <td>
-                                        <label for="selDia" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
-                                        <select name="selDia" id="selDia" class="usr_select_field validate[\'required\']">
-                                            <option value="">' . PG_USER_DIA_NAC . '</option>';
-    for ($i = 1; $i <= 31; $i++) {
-        $prinHtml .= '
-                                            <option value="' . $i . '"' . ($registroActual->selDia == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                        </select>
-                                        <label for="selMes" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
-                                        <select name="selMes" id="selMes" class="usr_select_field validate[\'required\']">
-                                            <option value="">' . PG_USER_MES_NAC . '</option>';
-    for ($i = 1; $i <= 12; $i++) {
-        $prinHtml .= '
-                                            <option value="' . $i . '"' . ($registroActual->selMes == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                        </select>
-                                        <label for="selYear" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
-                                        <select name="selYear" id="selYear" class="usr_select_field validate[\'required\']">
-                                            <option value="">' . PG_USER_ANO_NAC . '</option>';
-    for ($i = (date("Y") - 18); $i >= 1905; $i--) {
-        $prinHtml .= '
-                                            <option value="' . $i . '"' . ($registroActual->selYear == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                        </select>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_EMAIL . '</td>
-                                    <td>
-                                        <input type="text" name="txtCorreo" value="' . $registroActual->txtCorreo . '" id="txtCorreo" class="usr_text_field validate[\'required\',\'email\']" maxlength="50" />
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_PASSWORD . '</td>
-                                    <td>
-                                        <input type="password" name="txtPassword" value="" id="txtPassword" class="usr_text_field validate[\'required\',\'~regexPass\']" maxlength="20" autocomplete="off" />
-                                        <span class="usr_span">' . PG_USER_PASSWORD_INFO . '</span>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td colspan="2" class="usr_td_center">
-                                        <input type="checkbox" name="ckAcuerdo" value="1"' . ($registroActual->ckAcuerdo == 1 ? ' checked' : '') . ' id="ckAcuerdo" class="usr_checkbox_field validate[\'required\']" />
-                                        <span class="usr_span">' . PG_USER_ESTOY_ACUERDO . ' <a href="index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO" target="_blank" title="' . PG_USER_ACUERDOS_CONDICIONES . '" alt="' . PG_USER_ACUERDOS_CONDICIONES . '">' . PG_USER_ACUERDOS_CONDICIONES . '</a>.</span>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td colspan="2" class="usr_td_center">
-                                        <input type="submit" name="btnRegistrarme" value="' . PG_USER_CONTINUAR . '" id="btnRegistrarme" class="usr_btn" />
-                                    </td>
-                                </tr>
-                            </tbody>
-                        </table>
+						<div class="usr_tbl">
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_NOMBRES . '</label>
+								<input type="text" name="txtNombre" value="' . $registroActual->txtNombre . '" id="txtNombre" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+								
+							</div>
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_APELLIDOS . '</label>
+								<input type="text" name="txtApellidos" value="' . $registroActual->txtApellidos . '" id="txtApellidos" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+								
+							</div>
+							<div class="form-group form-check"> 
+								<label class="usr_td_lbl">' . PG_USER_SEXO . '</label>
+								<input type="radio" name="rGenero" value="Masculino"' . ($registroActual->rGenero == 'Masculino' ? ' checked' : '') . ' id="rGenero1" class="usr_radio_field validate[\'required\']" />
+								<label for="rGenero1" class="usr_lbl">' . PG_USER_MASCULINO . '</label>
+								<input type="radio" name="rGenero" value="Femenino"' . ($registroActual->rGenero == 'Femenino' ? ' checked' : '') . ' id="rGenero2" class="usr_radio_field validate[\'required\']" />
+								<label for="rGenero2" class="usr_lbl">' . PG_USER_FEMENINO . '</label>
+							</div>
+							
+							<div class="form-group row">
+								<label class="col-12 text-left usr_td_lbl">' . PG_USER_FECHA_NAC . '</label></br>
+								<div class="col-12"></div>
+								<div class="col">
+									<label for="selDia" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
+									<select name="selDia" id="selDia" class="usr_select_field validate[\'required\']">
+										<option value="">' . PG_USER_DIA_NAC . '</option>';
+										for ($i = 1; $i <= 31; $i++) {
+											$prinHtml .= '
+												<option value="' . $i . '"' . ($registroActual->selDia == $i ? ' selected' : '') . '>' . $i . '</option>';
+										}
+										$prinHtml .= '
+									</select>
+								</div>
+								<div class="col">
+									<label for="selMes" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
+									<select name="selMes" id="selMes" class="usr_select_field validate[\'required\']">
+										<option value="">' . PG_USER_MES_NAC . '</option>';
+										for ($i = 1; $i <= 12; $i++) {
+											$prinHtml .= '
+												<option value="' . $i . '"' . ($registroActual->selMes == $i ? ' selected' : '') . '>' . $i . '</option>';
+										}
+										$prinHtml .= '
+									</select>
+								</div>
+								<div class="col">
+									<label for="selYear" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
+									<select name="selYear" id="selYear" class="usr_select_field validate[\'required\']">
+										<option value="">' . PG_USER_ANO_NAC . '</option>';
+										for ($i = (date("Y") - 18); $i >= 1905; $i--) {
+											$prinHtml .= '
+												<option value="' . $i . '"' . ($registroActual->selYear == $i ? ' selected' : '') . '>' . $i . '</option>';
+										}
+										$prinHtml .= '
+									</select>
+								</div>
+							</div>
+							
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_EMAIL . '</label>
+								<input type="text" name="txtCorreo" value="' . $registroActual->txtCorreo . '" id="txtCorreo" class="form-control usr_text_field validate[\'required\',\'email\']" maxlength="50" />
+								
+							</div>
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_PASSWORD . '</label>
+								<input type="password" name="txtPassword" value="" id="txtPassword" class="form-control usr_text_field validate[\'required\',\'~regexPass\']" maxlength="20" autocomplete="off" />
+								<small class="form-text text-muted">' . PG_USER_PASSWORD_INFO . '</small>
+							</div>
+							<div class="form-group form-check">
+								<input type="checkbox" name="ckAcuerdo" value="1"' . ($registroActual->ckAcuerdo == 1 ? ' checked' : '') . ' id="ckAcuerdo" class="form-check-input usr_checkbox_field validate[\'required\']" />
+								<label class="usr_span">' . PG_USER_ESTOY_ACUERDO . ' <a href="index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO" target="_blank" title="' . PG_USER_ACUERDOS_CONDICIONES . '" alt="' . PG_USER_ACUERDOS_CONDICIONES . '">' . PG_USER_ACUERDOS_CONDICIONES . '</a>.</label>
+							</div>
+							<div class="form-group text-center">
+								<input type="submit" name="btnRegistrarme" value="' . PG_USER_CONTINUAR . '" id="btnRegistrarme" class="usr_btn" />
+							</div>
+						</div>
+                        
                     </form>
-                </div>
-                <div id="usr_col_right">
-                    <img id="usr_img_pg" alt="Abra su Billetera" src="img/version_2/pg_user_step_1.jpg" />
+					
+				</div>
+                <div id="usr_col_right" class="col-sm-12 col-md-7">
+                    <img class="img-fluid" id="usr_img_pg" alt="Abra su Billetera" src="img/version_2/pg_user_step_1.jpg" />
                     <div class="usr_clear"></div>
                     <div id="usr_description_pg">' . PG_USER_INFO_BILLETERA . '</div>
+                </div>		
+                </div><!-- end row -->
                 </div>
                 <div class="usr_clear"></div>
@@ -396,4 +410,6 @@
             <div id="usr_paso_2" class="usr_paso">
                 <div id="usr_banner">
+                <div class="pg-primary">
+					<div class="container-fluid">
                     <h1 class="usr_banner_titulo1">' . (isset($registroActual->id_usuario) ? PG_USER_CREADA : PG_USER_COMLETE_REGISTRO_TITULO) . '</h1>
                     <div class="usr_banner_titulo2_contenedor">
@@ -425,14 +441,19 @@
     }
     $prinHtml .= '
+					</div>
+				</div>
+				
                 <form id="frmProcRegistroFase2" class="usr_frm" name="frmProcRegistroFase2" action="index.php?mod=user&hac=pregf2" method="post">
-                    <div class="usr_col_left">
-                        <table class="usr_tbl" cellspacing="0" cellpadding="0" border="0">
-                            <tbody>
+                    
+					<div class="container-fluid">
+					<div class="row"><!-- start row -->
+					<div class="usr_col_left col-md-6">
+						<div class="usr_tbl">
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_PAIS . '</label>
+														
         ';
     $prinHtml .= '
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_PAIS . '</td>
-                                    <td>
-                                        <select name="selPais" id="selPais" class="usr_select_field validate[\'required\']" tabindex="1" ' . ($Progreso->cumplimientos["REGISTRARTARJETA"] ? 'disabled=disabled' : '') . '>
+                                        <select name="selPais" id="selPais" class="form-control usr_select_field validate[\'required\']" tabindex="1" ' . ($Progreso->cumplimientos["REGISTRARTARJETA"] ? 'disabled=disabled' : '') . '>
                                             <option value="">' . PG_USER_SELECCIONE . '</option>
         ';
@@ -451,10 +472,10 @@
     $prinHtml .= '
                                         </select>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl" id="cel_name_dept">' . $array_division['estado'] . ':</td>
-                                    <td>
-                                        <select name="selDepartamento" id="selDepartamento" class="usr_select_field validate[\'required\']" tabindex="2" ' . ($Progreso->cumplimientos["REGISTRARTARJETA"] ? 'disabled=disabled' : '') . '>
+                            </div>
+							
+							<div class="form-group">
+								<label class="usr_td_lbl" id="cel_name_dept">' . $array_division['estado'] . '</label>
+															
+                                        <select name="selDepartamento" id="selDepartamento" class="form-control usr_select_field validate[\'required\']" tabindex="2" ' . ($Progreso->cumplimientos["REGISTRARTARJETA"] ? 'disabled=disabled' : '') . '>
                                             <option value="">' . PG_USER_SELECCIONE . '</option>
         ';
@@ -465,53 +486,52 @@
     $prinHtml .= '
                                         </select>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl" id="cel_name_city">' . $array_division['ciudad'] . ':</td>
-                                    <td><input type="text" name="txtCiudad" value="' . $registroActual->txtCiudad . '" id="txtCiudad" class="usr_text_field validate[\'required\']" maxlength="50" tabindex="3" ' . ($Progreso->cumplimientos["REGISTRARTARJETA"] ? 'disabled=disabled' : '') . ' /></td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_DIRECCION . '</td>
-                                    <td>
-                                        <textarea name="txtDireccion" id="txtDireccion" class="usr_textarea_field validate[\'required\']" maxlength="200" tabindex="4">' . $registroActual->txtDireccion . '</textarea>
-                                    </td>
-                                </tr>
-                            </tbody>
-                        </table>
+                            
+							</div>
+							<div class="form-group">
+								<label class="usr_td_lbl" id="cel_name_city">' . $array_division['ciudad'] . '</label>
+								<input type="text" name="txtCiudad" value="' . $registroActual->txtCiudad . '" id="txtCiudad" class="form-control usr_text_field validate[\'required\']" maxlength="50" tabindex="3" ' . ($Progreso->cumplimientos["REGISTRARTARJETA"] ? 'disabled=disabled' : '') . ' />
+								
+							</div>
+                            <div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_DIRECCION . '</label>
+								<textarea name="txtDireccion" id="txtDireccion" class="form-control usr_textarea_field validate[\'required\']" maxlength="200" tabindex="4">' . $registroActual->txtDireccion . '</textarea>
+								
+							</div>   
+                            
+						</div>
                     </div>
-                    <div class="usr_col_right">
-                        <table class="usr_tbl" cellspacing="0" cellpadding="0" border="0">
-                            <tbody>
+                    <div class="usr_col_right col-md-6">
+						<div class="usr_tbl">
+							
         ';
     $prinHtml .= '
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_ZIP . '</td>
-                                    <td><input type="text" name="txtZip" value="' . $registroActual->txtZip . '" id="txtZip" class="usr_text_field" maxlength="15" ' . (!inicVerificarValidarZipCode($registroActual->selPais) ? 'disabled="disabled"' : '') . ' tabindex="5" /></td>
-                                </tr>
-                                <tr>
-                                    <td colspan="2"><span class="usr_span">' . PG_USER_ASEGURE_CONTACTO . '</span></td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_TELEFONO . '</td>
-                                    <td><input type="text" name="txtTelefono" value="' . $registroActual->txtTelefono . '" id="txtTelefono" class="usr_text_field validate[\'required\',\'phone\']" maxlength="22" tabindex="6" /></td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_CELULAR . '</td>
-                                    <td>
-                                        <input type="text" name="txtCelular" value="' . $registroActual->txtCelular . '" id="txtCelular" class="usr_text_field validate[\'required\',\'phone\']" maxlength="22" tabindex="7" />
-                                    </td>
-                                </tr>
-                            </tbody>
-                        </table>
+								<div class="form-group">
+									<label class="usr_td_lbl">' . PG_USER_ZIP . '</label>
+									<input type="text" name="txtZip" value="' . $registroActual->txtZip . '" id="txtZip" class="form-control usr_text_field" maxlength="15" ' . (!inicVerificarValidarZipCode($registroActual->selPais) ? 'disabled="disabled"' : '') . ' tabindex="5" />
+									
+								</div> 
+								<div class="form-group">
+									<big class="form-text text-muted">' . PG_USER_ASEGURE_CONTACTO . '</big>
+								</div> 
+                                <div class="form-group">
+									<label class="usr_td_lbl">' . PG_USER_TELEFONO . '</label>
+									<input type="text" name="txtTelefono" value="' . $registroActual->txtTelefono . '" id="txtTelefono" class="form-control usr_text_field validate[\'required\',\'phone\']" maxlength="22" tabindex="6" />
+									
+								</div> 
+                                <div class="form-group">
+									<label class="usr_td_lbl">' . PG_USER_CELULAR . '</label>
+									<input type="text" name="txtCelular" value="' . $registroActual->txtCelular . '" id="txtCelular" class="form-control usr_text_field validate[\'required\',\'phone\']" maxlength="22" tabindex="7" />
+									
+								</div> 
+                                
+                           </div> 
                     </div>
-                <div class="usr_clear"></div>
+                
                 <hr>
-                <div class="usr_col_left">
-                        <table class="usr_tbl" cellspacing="0" cellpadding="0" border="0">
-                            <tbody>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_PREGUNTA . '</td>
-                                    <td>
-                                        <select name="selPregunta" id="selPregunta" class="usr_select_field validate[\'required\']" tabindex="7">
+                <div class="usr_col_left col-md-6">
+						<div class="usr_tbl">
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_PREGUNTA . '</label>
+								<select name="selPregunta" id="selPregunta" class="form-control usr_select_field validate[\'required\']" tabindex="7">
                                             <option value="">' . PG_USER_SELECCIONE . '</option>';
     foreach ($preguntas as $id => $datos) {
@@ -520,22 +540,21 @@
     }
     $prinHtml .= '
-                                        </select>
-                                    </td>
-                                </tr>
-                            </tbody>
-                        </table>
+								</select>
+							</div>
+						</div>
+                        
                     </div>
-                    <div class="usr_col_right">
-                        <table class="usr_tbl" cellspacing="0" cellpadding="0" border="0">
-                            <tbody>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_RESPUESTA . '</td>
-                                    <td><input type="text" name="txtRespuesta" value="' . $registroActual->txtRespuesta . '" id="txtRespuesta" class="usr_text_field validate[\'required\']" maxlength="50" tabindex="8" /></td>
-                                </tr>
-                            </tbody>
-                        </table>
+                    <div class="usr_col_right col-md-6">
+						<div class="usr_tbl">
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_RESPUESTA . '</label>
+								<input type="text" name="txtRespuesta" value="' . $registroActual->txtRespuesta . '" id="txtRespuesta" class="form-control usr_text_field validate[\'required\']" maxlength="50" tabindex="8" />
+								
+							</div>
+						</div>
+                        
                     </div>
                     <div class="usr_clear"></div>
-                    <div class="usr_wide">
+                    <div class="usr_wide col-12">
                         <input type="submit" name="btnGuardar" value="' . PG_USER_GUARDAR_INFO . '" id="btnGuardar" class="usr_btn" tabindex="9" />';
     if (!$Progreso->cumplimientos["REGISTRARTARJETA"]) {
@@ -543,4 +562,6 @@
     }
     $prinHtml .= '
+                    </div>
+                    </div><!-- end row -->
                     </div>
                 </form>
@@ -620,5 +641,5 @@
             <script type="text/javascript" src="javascript/simple-modal.js"></script>
             <link rel="stylesheet" href="css/simple-modal/css/simplemodal.css" type="text/css" media="screen" title="no title" charset="utf-8">
-            <h1 class="usr_titulo">' . PG_USER_REGISTRO_TARJETA . '</h1>';
+            <h1 class="usr_titulo ml-3">' . PG_USER_REGISTRO_TARJETA . '</h1>';
 
     if ($registroActual->mensaje->texto != "") {
@@ -638,21 +659,21 @@
                     <span class="info_inner">' . $registroActual->mensaje->texto . '</span>
                 </p>';
+				
         }
     }
     $prinHtml .= '
             <div id="usr_paso_3" class="usr_paso">
-                <form class="usr_frm" id="frmProcRegistroFase3" name="frmProcRegistroFase3" action="index.php?mod=user&hac=pregf3" method="post">
-                    <table class="usr_tbl" cellpadding="0" cellspacing="0" border="0">
-                        <tbody>
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_TARJETA_NOMBRE . '</td>
-                                <td>
-                                    <input type="text" name="txtPropietario" id="txtPropietario" class="usr_text_field validate[\'required\']" maxlength="35" />
-                                    <span class="usr_span">' . PG_USER_NOMBRE_INSTRUCCION . '</span>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_TARJETA_TIPO . '</td>
-                                <td>';
+				<div class="container-fluid pg-secondary">
+				<div class="row"><!-- start row -->
+                <form class=" col-md-5 usr_frm" id="frmProcRegistroFase3" name="frmProcRegistroFase3" action="index.php?mod=user&hac=pregf3" method="post">
+                    <div class="usr_tbl">
+						<div class="form-group">
+							<label class="usr_td_lbl">' . PG_USER_TARJETA_NOMBRE . '</label>
+							<input type="text" name="txtPropietario" id="txtPropietario" class="form-control usr_text_field validate[\'required\']" maxlength="35" />
+							<small class="form-text text-muted">' . PG_USER_NOMBRE_INSTRUCCION . '</small>
+						</div>
+						<div class="form-group row">
+							<label class="usr_td_lbl col-12 text-left">' . PG_USER_TARJETA_TIPO . '</label>
+							<div class="col-12 text-left">';
     foreach ($tipos as $id => $datos) {
         $prinHtml .= '
@@ -661,68 +682,69 @@
     }
     $prinHtml .= '
-                                </td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_TARJETA_NUMERO . '</td>
-                                <td>
-                                    <input type="text" name="txtNumero" id="txtNumero" class="usr_text_field validate[\'required\',\'digit\']" maxlength="16" />';
-
-    if (SANDBOX_MODE) {
-        $sandbox_tarjetas = '<p>' . PG_USER_TARJETAS_DE_PRUEBA_INSTRUCCION . '</p><table id=\'tablaTarjetasSandbox\'>';
-        foreach ($sandbox_credit_card_test as $id => $brand) {
-            $sandbox_tarjetas.='<tr><td><img src=\'' . $urlIcono[$id] . '\' class=\'usr_img_cardtype\' /></td><td><ul>';
-            foreach ($brand as $card) {
-                $sandbox_tarjetas.='<li>' . $card . '</li>';
-            }
-            $sandbox_tarjetas.='</ul></td></tr>';
-        }
-        $sandbox_tarjetas.='</table>';
-        $prinHtml .= '          <br />
-                                    <a title="' . PG_USER_TARJETAS_DE_PRUEBA . '" alt="' . PG_USER_TARJETAS_DE_PRUEBA . '" class="usr_lbl"
-                                        href="#" id="popcard" onClick="openPopup(\'' . PG_USER_TARJETAS_DE_PRUEBA_TITULO . '\',\'' . addslashes($sandbox_tarjetas) . '\')">' . PG_USER_TARJETAS_DE_PRUEBA . '</a>';
-    } else {
-        $prinHtml .= '          <span class="usr_span">' . PG_USER_NUMERO_INSTRUCCION . '</span>';
-    }
-
-    $prinHtml .= '          </td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_FECHA_EXP . '</td>
-                                <td>
-                                    <select name="selMesCard" id="selMesCard" class="usr_select_field validate[\'required\']">
+							</div>
+						</div>
+						<div class="form-group">
+							<label class="usr_td_lbl">' . PG_USER_TARJETA_NUMERO . '</label>
+							<input type="text" name="txtNumero" id="txtNumero" class="form-control usr_text_field validate[\'required\',\'digit\']" maxlength="16" />';
+							
+							if (SANDBOX_MODE) {
+								$sandbox_tarjetas = '<p>' . PG_USER_TARJETAS_DE_PRUEBA_INSTRUCCION . '</p><table id=\'tablaTarjetasSandbox\'>';
+								foreach ($sandbox_credit_card_test as $id => $brand) {
+									$sandbox_tarjetas.='<tr><td><img src=\'' . $urlIcono[$id] . '\' class=\'usr_img_cardtype\' /></td><td><ul>';
+									foreach ($brand as $card) {
+										$sandbox_tarjetas.='<li>' . $card . '</li>';
+									}
+									$sandbox_tarjetas.='</ul></td></tr>';
+								}
+								$sandbox_tarjetas.='</table>';
+								$prinHtml .= '          <br />
+															<a title="' . PG_USER_TARJETAS_DE_PRUEBA . '" alt="' . PG_USER_TARJETAS_DE_PRUEBA . '" class="usr_lbl"
+																href="#" id="popcard" onClick="openPopup(\'' . PG_USER_TARJETAS_DE_PRUEBA_TITULO . '\',\'' . addslashes($sandbox_tarjetas) . '\')">' . PG_USER_TARJETAS_DE_PRUEBA . '</a>';
+							} else {
+								$prinHtml .= '         <small class="form-text text-muted usr_span">' . PG_USER_NUMERO_INSTRUCCION . '</small>';
+							}
+
+							$prinHtml .= '
+						</div>
+						
+						<div class="form-group row">
+							<label class="col-12 col-md-auto col-sm-12 mt-2 text-left usr_td_lbl">' . PG_USER_FECHA_EXP . '</label>
+							<div class="col-12 col-sm-6 col-md-auto mt-2">
+								<select name="selMesCard" id="selMesCard" class="form-control usr_select_field validate[\'required\']">
                                         <option value="">' . PG_USER_FECHA_EXP_MES . '</option>';
-    for ($i = 1; $i <= 12; $i++) {
-        $prinHtml .= '
+										for ($i = 1; $i <= 12; $i++) {
+											$prinHtml .= '
+												<option value="' . $i . '">' . $i . '</option>';
+										}
+										$prinHtml .= '
+								</select>
+							</div>
+							<div class="col-12 col-sm-6 col-md-auto mt-2">
+								<select name="selYearCard" id="selYearCard" class="form-control usr_select_field validate[\'required\']">
+                                        <option value="">' . PG_USER_FECHA_EXP_ANO . '</option>';
+									for ($i = date("Y"); $i <= date("Y") + 20; $i++) {
+										$prinHtml .= '
                                         <option value="' . $i . '">' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                    </select>
-                                    <select name="selYearCard" id="selYearCard" class="usr_select_field validate[\'required\']">
-                                        <option value="">' . PG_USER_FECHA_EXP_ANO . '</option>';
-    for ($i = date("Y"); $i <= date("Y") + 20; $i++) {
-        $prinHtml .= '
-                                        <option value="' . $i . '">' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                    </select>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_TARJETA_CODIGO . '</td>
-                                <td>
-                                    <input type="password" name="txtCvv" value="" id="txtCvv" class="usr_text_field validate[\'required\',\'digit\']" maxlength="4" />
-                                    <a class="usr_lbl" id="_linkDigitos" href="javascript:void(0);">' . PG_USER_QUE_ES_ESTO . '</a>
-                                    <span class="usr_span">' . PG_USER_SE_ENCUENTRA . '</span>
-                                </td>
-                            </tr>
+									}
+										$prinHtml .= '
+								</select>
+							</div>
+						</div>
+						
+						<div class="form-group row">
+							<label class="col-auto mt-1 usr_td_lbl">' . PG_USER_TARJETA_CODIGO . '</label>
+							<input type="password" name="txtCvv" value="" id="txtCvv" class="form-control usr_text_field validate[\'required\',\'digit\']" maxlength="4" />
+							<a class="mt-1 usr_lbl" id="_linkDigitos" href="javascript:void(0);">' . PG_USER_QUE_ES_ESTO . '</a>
+							<small class="col-12 form-text text-muted usr_span">' . PG_USER_SE_ENCUENTRA . '</small>
+							
+						</div>
+					       
         ';
     //si no ha completado el paso 2, se solicita el país, departamento y ciudad
     if (!$Progreso->cumplimientos["PASO2"] && !$Progreso->cumplimientos["REGISTRARTARJETA"]) {
         $prinHtml .= '
-
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_PAIS . '</td>
-                                <td>
-                                    <select name="selPais" id="selPais" class="usr_select_field validate[\'required\']">
+						<div class="form-group">
+							<label class="usr_td_lbl">' . PG_USER_PAIS . '</label>
+							<select name="selPais" id="selPais" class="usr_select_field validate[\'required\']">
                                         <option value="">' . PG_USER_SELECCIONE . '</option>
             ';
@@ -738,10 +760,9 @@
         $prinHtml .= '
                                     </select>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl" id="cel_name_dept">' . $array_division['estado'] . '</td>
-                                <td>
-                                    <select name="selDepartamento" id="selDepartamento" class="usr_select_field validate[\'required\']">
+							</div>
+                            
+							<div class="form-group">
+								<label class="usr_td_lbl" id="cel_name_dept">' . $array_division['estado'] . '</label>
+								<select name="selDepartamento" id="selDepartamento" class="usr_select_field validate[\'required\']">
                                         <option value="">' . PG_USER_SELECCIONE . '</option>
             ';
@@ -751,33 +772,31 @@
         }
         $prinHtml .= '
-                                    </select>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl" id="cel_name_city">' . $array_division['ciudad'] . '</td>
-                                <td><input type="text" name="txtCiudad" value="' . $registroActual->txtCiudad . '" id="txtCiudad" class="usr_text_field validate[\'required\']" maxlength="50" /></td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_ZIP . '</td>
-                                <td><input type="text" name="txtZip" value="' . $registroActual->txtZip . '" id="txtZip" class="usr_text_field" maxlength="15" ' . (!inicVerificarValidarZipCode($registroActual->selPais) ? 'disabled="disabled"' : '') . ' /></td>
-                            </tr>
+								</select>
+							</div>
+                            
+							<div class="form-group">
+								<label class="usr_td_lbl" id="cel_name_city">' . $array_division['ciudad'] . '</label>
+								<input type="text" name="txtCiudad" value="' . $registroActual->txtCiudad . '" id="txtCiudad" class="form-control usr_text_field validate[\'required\']" maxlength="50" />
+							</div>
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_ZIP . '</label>
+								<input type="text" name="txtZip" value="' . $registroActual->txtZip . '" id="txtZip" class="form-control usr_text_field" maxlength="15" ' . (!inicVerificarValidarZipCode($registroActual->selPais) ? 'disabled="disabled"' : '') . ' />
+							</div>
+                           
             ';
     }
     $prinHtml .= '
-                            <tr>
-                                <td class="usr_td_lbl">' . PG_USER_TARJETA_DIRECCION . '</td>
-                                <td>
-                                    <textarea name="txtDireccion" id="txtDireccion" class="usr_textarea_field validate[\'required\']" maxlength="60">' . htmlspecialchars_decode($registroActual->txtDireccion) . '</textarea>
-                                    <span class="usr_span">' . PG_USER_DIRECCION_INSTRUCCION . '</span>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>&nbsp;</td>
-                                <td class="usr_td_msg">' . PG_USER_MSG_SE_HARA_CARGO . $monto . PG_USER_MSG_A_SU_TARJETA . '</td>
-                            </tr>
-                            <tr>
-                                <td class="usr_td_lbl"></td>
-                                <td>
-                                    <input type="submit" name="btnGuardar" value="' . PG_USER_GUARDAR_TC . '" id="btnGuardar" class="usr_btn" />';
+							<div class="form-group">
+								<label class="usr_td_lbl">' . PG_USER_TARJETA_DIRECCION . '</label>
+								<textarea name="txtDireccion" id="txtDireccion" class="form-control usr_textarea_field validate[\'required\']" maxlength="60">' . htmlspecialchars_decode($registroActual->txtDireccion) . '</textarea>
+								<small class="form-text text-muted">' . PG_USER_DIRECCION_INSTRUCCION . '</small>
+							</div>
+                            <div class="form-group">
+								
+								<big class="form-text text-muted">' . PG_USER_MSG_SE_HARA_CARGO . $monto . PG_USER_MSG_A_SU_TARJETA . '</big>
+							</div>
+                            <div class="form-group">
+								
+								<input type="submit" name="btnGuardar" value="' . PG_USER_GUARDAR_TC . '" id="btnGuardar" class="usr_btn" />';
 
     if ($Progreso->cumplimientos["REGISTRARTARJETA"]) {
@@ -786,19 +805,20 @@
         $prinHtml .= '       <a href="index.php?mod=dashboard" class="usr_link">' . PG_USER_LLENAR_DESPUES_TC . '</a>';
     }
+							
+                           
 
     $prinHtml .= '
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <span class="usr_span" id="usr_nota">' . PG_USER_POR_POLITICAS . '</span>
-                                </td>
-                            </tr>
-                        </tbody>
-                    </table>
+							</div>
+							<div class="form-group">
+								
+								<big class="form-text text-muted" id="usr_nota">' . PG_USER_POR_POLITICAS . '</big>
+							</div>
+						</div>
                     <script type="text/javascript">
                         document.write(\'<input type="hidden" name="deviceFingerprintID" value="\' + cybs_dfprofiler("' . DFID_MERCHAT_ID . '", "' . DFID_ENVIROMENT . '") + \'">\');
                     </script>
                 </form>
+            </div><!-- start row -->
+            </div>
             </div>
             <script>
@@ -839,4 +859,7 @@
     $prinHtml .='
             <div id="usr_banner">
+				<div class="pg-primary">
+					<div class="container-fluid">
+					
             <h1 class="usr_banner_titulo1">' . (isset($registroActual->id_usuario) ? PG_USER_CREADA : $titulo) . '</h1>
                     <div class="usr_banner_titulo2_contenedor">
@@ -868,79 +891,105 @@
     }
     $prinHtml .= '
+					</div>
+				</div>
+				
                 <form id="frmProcRegistroFase5" class="usr_frm" name="frmProcRegistroFase5" action="index.php?mod=user&hac=pregf4" method="post">
-                <div class="usr_col_left">
-                        <table class="usr_tbl" cellspacing="0" cellpadding="0" border="0">
-                            <tbody>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_SEXO . '</td>
-                                    <td>
-                                        <input type="radio" name="rGenero" value="Masculino"' . ($registroActual->rGenero == 'Masculino' ? ' checked' : '') . ' id="rGenero1" class="usr_radio_field validate[\'required\']" />
-                                        <label for="rGenero1" class="usr_lbl">' . PG_USER_MASCULINO . '</label>
-                                        <input type="radio" name="rGenero" value="Femenino"' . ($registroActual->rGenero == 'Femenino' ? ' checked' : '') . ' id="rGenero2" class="usr_radio_field validate[\'required\']" />
-                                        <label for="rGenero2" class="usr_lbl">' . PG_USER_FEMENINO . '</label>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_PREGUNTA . '</td>
-                                    <td>
-                                        <select name="selPregunta" id="selPregunta" class="usr_select_field validate[\'required\']" tabindex="7">
-                                            <option value="">' . PG_USER_SELECCIONE . '</option>';
-    foreach ($preguntas as $id => $datos) {
-        $prinHtml .= '
-                                            <option value="' . $id . '"' . ($registroActual->selPregunta == $id ? ' selected' : '') . '>' . ($idioma == 'es' ? $datos["pregunta"] : $datos["pregunta_en"]) . '</option>';
-    }
-    $prinHtml .= '
-                                        </select>
-                                    </td>
-                                </tr>
-                            </tbody>
-                        </table>
-                    </div>
-                    <div class="usr_col_right">
-                        <table class="usr_tbl" cellspacing="0" cellpadding="0" border="0">
-                            <tbody>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_FECHA_NAC . '</td>
-                                    <td>
-                                        <label for="selDia" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
-                                        <select name="selDia" id="selDia" class="usr_select_field validate[\'required\']">
-                                            <option value="">' . PG_USER_DIA_NAC . '</option>';
-    for ($i = 1; $i <= 31; $i++) {
-        $prinHtml .= '
-                                            <option value="' . $i . '"' . ($registroActual->selDia == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                        </select>
-                                        <label for="selMes" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
-                                        <select name="selMes" id="selMes" class="usr_select_field validate[\'required\']">
-                                            <option value="">' . PG_USER_MES_NAC . '</option>';
-    for ($i = 1; $i <= 12; $i++) {
-        $prinHtml .= '
-                                            <option value="' . $i . '"' . ($registroActual->selMes == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                        </select>
-                                        <label for="selYear" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
-                                        <select name="selYear" id="selYear" class="usr_select_field validate[\'required\']">
-                                            <option value="">' . PG_USER_ANO_NAC . '</option>';
-    for ($i = (date("Y") - 18); $i >= 1905; $i--) {
-        $prinHtml .= '
-                                            <option value="' . $i . '"' . ($registroActual->selYear == $i ? ' selected' : '') . '>' . $i . '</option>';
-    }
-    $prinHtml .= '
-                                        </select>
-                                    </td>
-                                </tr>
-                                <tr>
-                                    <td class="usr_td_lbl">' . PG_USER_RESPUESTA . '</td>
-                                    <td><input type="text" name="txtRespuesta" value="' . $registroActual->txtRespuesta . '" id="txtRespuesta" class="usr_text_field validate[\'required\']" maxlength="50" tabindex="8" /></td>
-                                </tr>
-                            </tbody>
-                        </table>
-                    </div>
-                    <div class="usr_clear"></div>
-                    <div class="usr_wide">
+					<div class="container-fluid">
+					<div class="row"><!-- start row -->
+						<div class="usr_col_left col-md-6">
+							<div class="usr_tbl">
+								<div class="form-group form-check"> 
+									<label class="usr_td_lbl">' . PG_USER_SEXO . '</label>
+									<input type="radio" name="rGenero" value="Masculino"' . ($registroActual->rGenero == 'Masculino' ? ' checked' : '') . ' id="rGenero1" class="usr_radio_field validate[\'required\']" />
+									<label for="rGenero1" class="usr_lbl">' . PG_USER_MASCULINO . '</label>
+									<input type="radio" name="rGenero" value="Femenino"' . ($registroActual->rGenero == 'Femenino' ? ' checked' : '') . ' id="rGenero2" class="usr_radio_field validate[\'required\']" />
+									<label for="rGenero2" class="usr_lbl">' . PG_USER_FEMENINO . '</label>
+								</div>
+								
+								
+							</div>
+							
+						</div>
+						<div class="usr_col_right col-md-6">
+							<div class="usr_tbl">
+								
+								<div class="form-group row">
+									<label class="col-12 text-left usr_td_lbl pg-label-date-left">' . PG_USER_FECHA_NAC . '</label></br>
+									<div class="col-12 d-md-none"></div>
+									<div class="col pr-md-0">
+										<label for="selDia" class="usr_lbl">' . PG_USER_DIA_NAC . '</label>
+										<select name="selDia" id="selDia" class="usr_select_field validate[\'required\']">
+											<option value="">' . PG_USER_DIA_NAC . '</option>';
+											for ($i = 1; $i <= 31; $i++) {
+												$prinHtml .= '
+													<option value="' . $i . '"' . ($registroActual->selDia == $i ? ' selected' : '') . '>' . $i . '</option>';
+											}
+											$prinHtml .= '
+										</select>
+									</div>
+									<div class="col pl-md-0 pr-md-0">
+										<label for="selMes" class="usr_lbl">' . PG_USER_MES_NAC . '</label>
+										<select name="selMes" id="selMes" class="usr_select_field validate[\'required\']">
+											<option value="">' . PG_USER_MES_NAC . '</option>';
+											for ($i = 1; $i <= 12; $i++) {
+												$prinHtml .= '
+													<option value="' . $i . '"' . ($registroActual->selMes == $i ? ' selected' : '') . '>' . $i . '</option>';
+											}
+											$prinHtml .= '
+										</select>
+									</div>
+									<div class="col pl-md-0">
+										<label for="selYear" class="usr_lbl">' . PG_USER_ANO_NAC . '</label>
+										<select name="selYear" id="selYear" class="usr_select_field validate[\'required\']">
+											<option value="">' . PG_USER_ANO_NAC . '</option>';
+											for ($i = (date("Y") - 18); $i >= 1905; $i--) {
+												$prinHtml .= '
+													<option value="' . $i . '"' . ($registroActual->selYear == $i ? ' selected' : '') . '>' . $i . '</option>';
+											}
+											$prinHtml .= '
+										</select>
+									</div>
+								</div>
+								
+								
+							</div>
+							
+						</div>
+
+						<div class="usr_col_left col-md-6">
+							<div class="usr_tbl">
+								<div class="form-group">
+									<label class="usr_td_lbl">' . PG_USER_PREGUNTA . '</label>
+									<select name="selPregunta" id="selPregunta" class="form-control usr_select_field validate[\'required\']" tabindex="7">
+										<option value="">' . PG_USER_SELECCIONE . '</option>';
+		foreach ($preguntas as $id => $datos) {
+			$prinHtml .= '
+										<option value="' . $id . '"' . ($registroActual->selPregunta == $id ? ' selected' : '') . '>' . ($idioma == 'es' ? $datos["pregunta"] : $datos["pregunta_en"]) . '</option>';
+		}
+		$prinHtml .= '
+									</select>
+								</div>
+								
+							</div>
+							
+						</div>
+						<div class="usr_col_right col-md-6">
+							<div class="usr_tbl">
+							
+								<div class="form-group">
+									<label class="usr_td_lbl">' . PG_USER_RESPUESTA . '</label>
+									<input type="text" name="txtRespuesta" value="' . $registroActual->txtRespuesta . '" id="txtRespuesta" class="form-control usr_text_field validate[\'required\']" maxlength="50" tabindex="8" />
+									
+								</div>
+							</div>
+							
+						</div>
+                   
+                    <div class="usr_wide col-12">
                         <input type="submit" name="btnGuardar" value="' . PG_USER_GUARDAR_INFO . '" id="btnGuardar" class="usr_btn" tabindex="9" />';
     $prinHtml .= '
+                    </div>
+					
+					</div><!-- end row -->
                     </div>
                 </form>
@@ -990,9 +1039,11 @@
 
     $prinHtml .= '
-            <div class="usr_paso" id="usr_validacion_correo">
-                <div id="usr_banner' . $sufijo_css . '">
-                    <h1 class="usr_banner_titulo1">' . $titulo1 . '</h1>
-                    <h2 class="usr_banner_titulo2">' . $titulo2 . '</h2>
-                    ' . $boton . '
+            <div class="usr_paso" id="usr_validacion_correo">	
+				<div id="usr_banner' . $sufijo_css . '">	
+					<div class="container-fluid pg-primary text-center text-md-left">
+						<h1 class="usr_banner_titulo1_correo">' . $titulo1 . '</h1>
+						<h2 class="usr_banner_titulo2">' . $titulo2 . '</h2>
+						' . $boton . '
+					</div>
                 </div>
             </div>';
@@ -1006,4 +1057,5 @@
  */
 function viewValidarTarjeta() {
+    
     include_once("./librerias/class.Tarjeta.php");
     include_once("./librerias/class.CodigoValidacion.php");
@@ -1017,100 +1069,148 @@
     $Imagen = new ImagenValidacion($db);
     $imagenes_subidas = $Imagen->obtenerImagenesSubidasPorTarjeta($id_tarjeta);
-    if ($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] && count($imagenes_subidas) < $Imagen->max_imagenes_subidas) {
-        $Codigo = new CodigoValidacion($db);
-        $codigos_anulados = $Codigo->obtenerCodigosAnuladosPorTarjeta($Tarjeta->id_tarjeta);
-        $codigos = $Codigo->obtenerCodigosPorTarjeta($Tarjeta->id_tarjeta);
+    if ($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && 
+            ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] ||
+            $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] ||
+            $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"]) && 
+            count($imagenes_subidas) < $Imagen->max_imagenes_subidas) {
+        
+        // identificar si el estado de la tarjeta es verificacion por primera recarga
+        $estado_tarjeta_vxpr = ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] ? TRUE : FALSE);
+        
+        // identificar si el estado de la tarjeta es verificacion por segunda o posterior recarga
+        $estado_tarjeta_vxr = ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"] ? TRUE : FALSE);
         $prinHtml .= "
                 <script type='text/javascript' src='javascript/iFrameFormRequest.js'></script>
                 <script type='text/javascript' src='javascript/simple-modal.js'></script>
                 <link rel='stylesheet' href='css/simple-modal/css/simplemodal.css' type='text/css' media='screen' title='no title' charset='utf-8'>
-                <div class='usr_paso' id='usr_paso_4'>
+                <div class='usr_paso container-fluid' id='usr_paso_4'>
                     <div id='usr_tarjeta'>
-                        <span id='usr_span_valide'>" . PG_USER_VALIDE_SU_TARJETA . "</span>
-                        <span id='usr_img_tarjeta'><img border='0' src='../img/version_2/tarjetas/" . $Tarjeta->datos["logo"] . "' /></span>
-                        <span id='usr_span_tarjeta'>" . PG_USER_QUE_TERMINA_EN . "<span id='usr_terminacion'>" . $Tarjeta->datos["ultdigitos"] . "</span></span>
+						<div class='row align-items-center'>
+							<span id='usr_span_valide' class='col-auto'>" . PG_USER_VALIDE_SU_TARJETA . "</span>
+							<span id='usr_img_tarjeta' class='col-auto'><img border='0' src='../img/version_2/tarjetas/" . $Tarjeta->datos["logo"] . "' /></span>
+							<span id='usr_span_tarjeta' class='col-auto'>" . PG_USER_QUE_TERMINA_EN . "<span id='usr_terminacion'>" . $Tarjeta->datos["ultdigitos"] . "</span></span>
+						</div>
                     </div>
-                    <p class='usr_texto_fuera'>" . PG_USER_VALIDACION_EXPLICACION . " <a title='" . PG_USER_VER_TUTORIAL . "' alt='" . PG_USER_VER_TUTORIAL . "' href='#' id='valvideo'>" . PG_USER_VER_TUTORIAL . "</a></p>
+                    <p class='usr_texto_fuera'>
+						<div class='row align-items-center'>
+							<span class='col-12 col-md-auto col-sm-6'>" . ($estado_tarjeta_vxpr ? PG_USER_VALIDACION_EXPLICACION_ESTADO_TARJETA_VXPR : PG_USER_VALIDACION_EXPLICACION) . "</span>
+							<div  class='col-auto col-md-auto col-sm-6'>
+								<a title='" . PG_USER_VER_TUTORIAL . "' alt='" . PG_USER_VER_TUTORIAL . "' href='#' id='valvideo'>" . PG_USER_VER_TUTORIAL . "</a>
+							</div>
+						</div>
+					 </p>
             ";
-        if (count($codigos_anulados) < $Codigo->max_codigos_anulados || count($codigos) == 0) {
-            //si la tarjeta tiene códigos anulados menores al máximo, se da la opción de validación por código
-            $prinHtml .= "
-                    <div class='usr_bloque'>
-                        <div class='usr_pestana_contenedor'>
-                            <div class='usr_pestana'>" . PG_USER_OPCION1 . "</div>
+        
+        // no mostrar opción de codigo si es verificacion por primera recarga
+        if (!$estado_tarjeta_vxpr) {
+            
+            $Codigo = new CodigoValidacion($db);
+            // se verifica si el estado de la tarjeta es en verificacion por recarga
+            if ($estado_tarjeta_vxr) {
+                
+                /**
+                 * si es en verificacion por recarga se obtiene el ultimo codigo 
+                 * de validacion generado para obtener el id de la operacion y 
+                 * luego se obtienen los datos filtrando por el id de la operacion
+                 */
+                $id_operacion_recarga = $Codigo->obtenerIdOperacionUltimoCodigo($id_tarjeta);
+                $codigos_anulados = $Codigo->obtenerCodigosAnuladosPorTarjetaVXRS($Tarjeta->id_tarjeta, $id_operacion_recarga);
+                $codigos = $Codigo->obtenerCodigosPorTarjetaVXRS($Tarjeta->id_tarjeta, $id_operacion_recarga);
+            } else {
+                
+                // si es otro estado se obtienen los datos normalmente
+                $codigos_anulados = $Codigo->obtenerCodigosAnuladosPorTarjeta($Tarjeta->id_tarjeta);
+                $codigos = $Codigo->obtenerCodigosPorTarjeta($Tarjeta->id_tarjeta);
+            }
+            if (count($codigos_anulados) < $Codigo->max_codigos_anulados || count($codigos) == 0) {
+                
+                //si la tarjeta tiene códigos anulados menores al máximo, se da la opción de validación por código
+                $prinHtml .= "
+                        <div class='usr_bloque'>
+                            <div class='usr_pestana_contenedor'>
+                                <div class='usr_pestana'>" . PG_USER_OPCION1 . "</div>
+                            </div>
+                            <div class='usr_contenido'>
+                                <h1 class='usr_subtitulo'>" . PG_USER_CODIGO_DE_ACTIVACION . "</h1>
+                                <div class='usr_contenido_center'>
+                    ";
+                //si la tarjeta tiene un código activo, se da la opción de ingresar código
+                $Comision = new Comision($db);
+                $monto = 0;
+                if ($com_usuario = $Comision->obtenerComisionPorCodigo("CUP001")) {
+                    
+                    $monto = $com_usuario["valor_constante"];
+                }
+                $prinHtml .= "
+                                    <p class='usr_texto'>" . (count($codigos) == 0 ? str_replace("[amount]", number_format($monto, 2), PG_USER_NUEVO_CODIGO_INFO_PRIMERO) : str_replace("[amount]", number_format($monto, 2), PG_USER_NUEVO_CODIGO_INFO)) . "</p>
+                                    <p class='usr_texto' id='usr_imagen_pagadito_code'>
+                                        <img border='0' src='../img/pagadito_code.png' title='" . PG_USER_CODIGO_DE_ACTIVACION . "' alt='" . PG_USER_CODIGO_DE_ACTIVACION . "'>
+                                    </p>
+                                    <p class='usr_texto'>" . PG_USER_INGRESE_CODIGO . "</p>
+                                    <p class='usr_texto'>
+                                        <span id='usr_codigo_validacion'>" . PG_USER_PAG_COD . "</span>
+                                        <input type='text' name='txtCodigo' value='' maxlength='5' id='txtCodigo' class='usr_text_field'" . ($Codigo->cargarActivo($Tarjeta->id_tarjeta) ? "" : " disabled='disabled'") . " />
+                                        <br /><label id='lbMensaje'></label>
+                                    </p>
+                                    <p class='usr_texto'>
+                        ";
+                if ($Codigo->cargarActivo($Tarjeta->id_tarjeta)) {
+                    
+                    //si tiene código activo se le da la opción de validarlo
+                    $prinHtml .= "
+                                        <input type='button' name='btnValidar' value='" . PG_USER_VALIDAR_MI_TARJETA . "' id='btnValidar' class='usr_btn' />
+                        ";
+                } elseif (count($codigos_anulados) <= ($Codigo->max_codigos_anulados - 1)) {
+                    
+                    //si a la tarjeta le restan códigos por generar, se da la opción de generar código
+                    $prinHtml .= "
+                                        <input type='button' name='btnNuevoCodigo' value='" . PG_USER_NUEVO_CODIGO . "' id='btnNuevoCodigo' class='usr_btn' />
+                        ";
+                }
+                $prinHtml .= "
+                                    </p>
+                                </div>
+                                <h1 class='usr_subtitulo'>" . PG_USER_DONDE_ENCONTRAR . "</h1>
+                                <div class='row'>
+                                    <div class='usr_contenido_box usr_contenido_box_left col-md-4 col-sm text-center'>
+                                        <div class='usr_contenido_box_imagen'>
+                                            <img src='../img/estado_de_cuenta.png' title='" . PG_USER_ESTADO_CUENTA . "' alt='" . PG_USER_ESTADO_CUENTA . "' />
+                                        </div>
+                                        <strong>" . PG_USER_ESTADO_CUENTA . "</strong>
+                                        <p class='usr_texto usr_texto_no_margin'>" . PG_USER_ESTADO_CUENTA_TEXTO . "</p>
+                                        <img id='usr_img_ejemplo' src='../img/estado_de_cuenta_ejemplo.png' />
+                                        <a id='usr_link_ejemplo' title='" . PG_VER_EJEMPLO . "'>" . PG_VER_EJEMPLO . " <img src='../img/lupa.png' /></a>
+                                    </div>
+                                    <div class='usr_contenido_box usr_contenido_box_center col-md-4 col-sm text-center'>
+                                        <div class='usr_contenido_box_imagen'>
+                                            <img src='../img/estado_de_cuenta_online.png' title='" . PG_USER_CONSULTA_ONLINE . "' alt='" . PG_USER_CONSULTA_ONLINE . "' />
+                                        </div>
+                                        <strong>" . PG_USER_CONSULTA_ONLINE . "</strong>
+                                        <p class='usr_texto usr_texto_no_margin'>" . PG_USER_CONSULTA_ONLINE_TEXTO . "</p>
+                                    </div>
+                                    <div class='usr_contenido_box usr_contenido_box_right col-md-4 col-sm text-center'>
+                                        <div class='usr_contenido_box_imagen'>
+                                            <img src='../img/estado_de_cuenta_tel.png' title='" . PG_USER_VIA_TELEFONICA . "' alt='" . PG_USER_VIA_TELEFONICA . "' />
+                                        </div>
+                                        <strong>" . PG_USER_VIA_TELEFONICA . "</strong>
+                                        <p class='usr_texto usr_texto_no_margin'>" . PG_USER_VIA_TELEFONICA_TEXTO . "</p>
+                                    </div>
+                                </div>
+                                <div class='clear'></div>
+                            </div>
                         </div>
-                        <div class='usr_contenido'>
-                            <h1 class='usr_subtitulo'>" . PG_USER_CODIGO_DE_ACTIVACION . "</h1>
-                            <div class='usr_contenido_center'>
-                ";
-            //if($Codigo->cargarActivo($Tarjeta->id_tarjeta)){
-            //si la tarjeta tiene un código activo, se da la opción de ingresar código
-            $Comision = new Comision($db);
-            $monto = 0;
-            if ($com_usuario = $Comision->obtenerComisionPorCodigo("CUP001")) {
-                $monto = $com_usuario["valor_constante"];
-            }
-            $prinHtml .= "
-                                <p class='usr_texto'>" . (count($codigos) == 0 ? str_replace("[amount]", number_format($monto, 2), PG_USER_NUEVO_CODIGO_INFO_PRIMERO) : str_replace("[amount]", number_format($monto, 2), PG_USER_NUEVO_CODIGO_INFO)) . "</p>
-                                <p class='usr_texto' id='usr_imagen_pagadito_code'>
-                                    <img border='0' src='../img/pagadito_code.png' title='" . PG_USER_CODIGO_DE_ACTIVACION . "' alt='" . PG_USER_CODIGO_DE_ACTIVACION . "'>
-                                </p>
-                                <p class='usr_texto'>" . PG_USER_INGRESE_CODIGO . "</p>
-                                <p class='usr_texto'>
-                                    <span id='usr_codigo_validacion'>" . PG_USER_PAG_COD . "</span>
-                                    <input type='text' name='txtCodigo' value='' maxlength='5' id='txtCodigo' class='usr_text_field'" . ($Codigo->cargarActivo($Tarjeta->id_tarjeta) ? "" : " disabled='disabled'") . " />
-                                    <br /><label id='lbMensaje'></label>
-                                </p>
-                                <p class='usr_texto'>
-                    ";
-            //}
-            if ($Codigo->cargarActivo($Tarjeta->id_tarjeta)) {
-                //si tiene código activo se le da la opción de validarlo
-                $prinHtml .= "
-                                    <input type='button' name='btnValidar' value='" . PG_USER_VALIDAR_MI_TARJETA . "' id='btnValidar' class='usr_btn' />
-                    ";
-            } elseif (count($codigos_anulados) <= ($Codigo->max_codigos_anulados - 1)) {
-                //si a la tarjeta le restan códigos por generar, se da la opción de generar código
-                $prinHtml .= "
-                                    <input type='button' name='btnNuevoCodigo' value='" . PG_USER_NUEVO_CODIGO . "' id='btnNuevoCodigo' class='usr_btn' />
                     ";
             }
+        }
+        $prinHtml .= "
+                    <div class='usr_bloque'>";
+        if (!$estado_tarjeta_vxpr) {
+            
             $prinHtml .= "
-                                </p>
-                            </div>
-                            <h1 class='usr_subtitulo'>" . PG_USER_DONDE_ENCONTRAR . "</h1>
-                            <div class='usr_contenido_box usr_contenido_box_left'>
-                                <div class='usr_contenido_box_imagen'>
-                                    <img src='../img/estado_de_cuenta.png' title='" . PG_USER_ESTADO_CUENTA . "' alt='" . PG_USER_ESTADO_CUENTA . "' />
-                                </div>
-                                <strong>" . PG_USER_ESTADO_CUENTA . "</strong>
-                                <p class='usr_texto usr_texto_no_margin'>" . PG_USER_ESTADO_CUENTA_TEXTO . "</p>
-                                <img id='usr_img_ejemplo' src='../img/estado_de_cuenta_ejemplo.png' />
-                                <a id='usr_link_ejemplo' title='" . PG_VER_EJEMPLO . "'>" . PG_VER_EJEMPLO . " <img src='../img/lupa.png' /></a>
-                            </div>
-                            <div class='usr_contenido_box usr_contenido_box_center'>
-                                <div class='usr_contenido_box_imagen'>
-                                    <img src='../img/estado_de_cuenta_online.png' title='" . PG_USER_CONSULTA_ONLINE . "' alt='" . PG_USER_CONSULTA_ONLINE . "' />
-                                </div>
-                                <strong>" . PG_USER_CONSULTA_ONLINE . "</strong>
-                                <p class='usr_texto usr_texto_no_margin'>" . PG_USER_CONSULTA_ONLINE_TEXTO . "</p>
-                            </div>
-                            <div class='usr_contenido_box usr_contenido_box_right'>
-                                <div class='usr_contenido_box_imagen'>
-                                    <img src='../img/estado_de_cuenta_tel.png' title='" . PG_USER_VIA_TELEFONICA . "' alt='" . PG_USER_VIA_TELEFONICA . "' />
-                                </div>
-                                <strong>" . PG_USER_VIA_TELEFONICA . "</strong>
-                                <p class='usr_texto usr_texto_no_margin'>" . PG_USER_VIA_TELEFONICA_TEXTO . "</p>
-                            </div>
-                            <div class='clear'></div>
-                        </div>
-                    </div>
-                ";
-        }
-        $prinHtml .= "
-                    <div class='usr_bloque'>
                         <div class='usr_pestana_contenedor'>
                             <div class='usr_pestana'>" . PG_USER_OPCION2 . "</div>
-                        </div>
+                        </div>";
+        }
+        $prinHtml .= "
                         <div class='usr_contenido'>
                             <h1 class='usr_subtitulo'>" . PG_USER_IMAGENES . "</h1>
@@ -1120,15 +1220,16 @@
                             <form method='post' action='../auxcall/gen.php?ahac=subir_imagenes' id='frmImagenes' name='frmImagenes' enctype='multipart/form-data'>
                                 <input type='hidden' name='t' value='" . $Cripto->cifrar($id_tarjeta) . "' />
-
                                 <p class='subtitulo_subrayado' style='position:relative;'>
                                     <span>1</span>" . PG_USER_FRENTE_TARJETA_DESCRIPCION . "
                                     <img id='tip_cvv_content' src='" . URL_PG . "/img/pg_cvv_amex_" . $idioma . ".jpg' />
                                 </p>
-                                <div class='usr_imagen'>
-                                    <div class='usr_imagen_control'>
+                                <div class='align-items-center d-flex form-group justify-content-center mb-4 mt-4 row usr_imagen'>
+                                    <div class='usr_imagen_control  col-12 col-md-auto'>
                                         <label for='fImagenTarjeta' class='usr_lbl'>" . PG_USER_IMAGEN . "</label>
                                         <input type='file' name='fImagenTarjeta' id='fImagenTarjeta' class='validate[\"required\",\"image\"]' />
                                     </div>
-                                    <img id='usr_imagen_frente_tarjeta' src='../img/frente_tarjeta.png' title='" . PG_USER_FRENTE_TARJETA . "' alt='" . PG_USER_FRENTE_TARJETA . "' />
+									<div class='text-center  col-12 col-md-auto'>
+										<img class='img-fluid' id='usr_imagen_frente_tarjeta' src='../img/frente_tarjeta.png' title='" . PG_USER_FRENTE_TARJETA . "' alt='" . PG_USER_FRENTE_TARJETA . "' />
+									</div>
                                 </div>
 
@@ -1136,10 +1237,12 @@
                                     <span>2</span>" . PG_USER_FRENTE_DOCUMENTO_DESCRIPCION . "
                                 </p>
-                                <div class='usr_imagen'>
-                                    <div class='usr_imagen_control'>
+                                <div class='usr_imagen align-items-center d-flex form-group justify-content-center mb-4 mt-4 row'>
+                                    <div class='usr_imagen_control  col-12 col-md-auto'>
                                         <label for='fImagenDocumentoFrente' class='usr_lbl'>" . PG_USER_IMAGEN . "</label>
                                         <input type='file' name='fImagenDocumentoFrente' id='fImagenDocumentoFrente' class='validate[\"required\",\"image\"]' />
                                     </div>
-                                    <img id='usr_imagen_frente_documento' src='../img/frente_documento.png' title='" . PG_USER_FRENTE_DOCUMENTO . "' alt='" . PG_USER_FRENTE_DOCUMENTO . "' />
+									<div class='text-center  col-12 col-md-auto'>
+										<img class='img-fluid' id='usr_imagen_frente_documento' src='../img/frente_documento.png' title='" . PG_USER_FRENTE_DOCUMENTO . "' alt='" . PG_USER_FRENTE_DOCUMENTO . "' />
+									</div>
                                 </div>
 
@@ -1147,10 +1250,12 @@
                                     <span>3</span>" . PG_USER_REVERSO_DOCUMENTO_DESCRIPCION . "
                                 </p>
-                                <div class='usr_imagen'>
-                                    <div class='usr_imagen_control'>
+                                <div class='usr_imagen align-items-center d-flex form-group justify-content-center mb-4 mt-4 row'>
+                                    <div class='usr_imagen_control col-12 col-md-auto'>
                                         <label for='fImagenDocumentoReverso' class='usr_lbl'>" . PG_USER_IMAGEN . "</label>
                                         <input type='file' name='fImagenDocumentoReverso' id='fImagenDocumentoReverso' class='validate[\"required\",\"image\"]' />
                                     </div>
-                                    <img id='usr_imagen_reverso_documento' src='../img/reverso_documento.png' title='" . PG_USER_REVERSO_DOCUMENTO . "' alt='" . PG_USER_REVERSO_DOCUMENTO . "' />
+									<div class='text-center  col-12 col-md-auto'>
+										<img class='img-fluid' id='usr_imagen_reverso_documento' src='../img/reverso_documento.png' title='" . PG_USER_REVERSO_DOCUMENTO . "' alt='" . PG_USER_REVERSO_DOCUMENTO . "' />
+									</div>
                                 </div>
                                 <p class='usr_texto usr_texto_centrado'>
@@ -1166,4 +1271,5 @@
             ";
     } else {
+        
         header("Location: index.php?mod=dashboard");
         exit();
@@ -1187,8 +1293,14 @@
                 <div class="usr_paso" id="usr_validacion_imagenes_tarjeta">
                     <div id="usr_banner">
-                        <h1 class="usr_banner_titulo1">' . PG_USER_GRACIAS_CODIGO . '</h1>
-                        <h2 class="usr_banner_titulo2">' . PG_USER_CODIGO_RECIBIDO . '</h2>
-                        <h3 class="usr_banner_titulo3">' . PG_USER_PROCESO_REVISION . '</h3>
-                        <a class="usr_btn" id="usr_btn_mi_cuenta" href="' . URL_SITIO . '/index.php?mod=dashboard">' . PG_USER_IR_A_CUENTA_FOTOS . '</a>
+						<div class="container-fluid pg-sec-banner-2">
+							<div class="row text-center text-md-left">
+								<div class="col-md-8">
+									<h1 class="usr_banner_titulo1">' . PG_USER_GRACIAS_CODIGO . '</h1>
+									<h2 class="usr_banner_titulo2">' . PG_USER_CODIGO_RECIBIDO . '</h2>
+									<h3 class="usr_banner_titulo3">' . PG_USER_PROCESO_REVISION . '</h3>
+									<a class="usr_btn" id="usr_btn_mi_cuenta" href="' . URL_SITIO . '/index.php?mod=dashboard">' . PG_USER_IR_A_CUENTA_FOTOS . '</a>
+								</div>
+							</div>
+						</div>
                     </div>
                 </div>';
@@ -1205,4 +1317,5 @@
  */
 function viewImagenesSubidas() {
+    
     include_once("./librerias/class.Tarjeta.php");
     include_once("./librerias/class.ImagenValidacion.php");
@@ -1212,16 +1325,28 @@
     $id_tarjeta = $Cripto->descifrar($_GET["t"]);
     $Tarjeta = new Tarjeta($db, $id_tarjeta);
-    if ($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"]) {
+    if ($Tarjeta->datos["id_usuario"] == $_SESSION["usuaPagaditoUsuario"] && 
+            ($Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["ACTIVADA"] || 
+            $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_PRIMERA_RECARGA"] ||
+            $Tarjeta->datos["id_tarjeta_estado"] == $Tarjeta->constantes["VERIFICACION_X_RECARGA"])) {
+        
         $Imagen = new ImagenValidacion($db);
         $prinHtml .= '
-                <div class="usr_paso" id="usr_validacion_imagenes_tarjeta">
+				<div class="usr_paso" id="usr_validacion_imagenes_tarjeta">
                     <div id="usr_banner">
-                        <h1 class="usr_banner_titulo1">' . PG_USER_GRACIAS_FOTOS . '</h1>
-                        <h2 class="usr_banner_titulo2">' . PG_USER_HEMOS_RECIBIDO . '</h2>
-                        <h3 class="usr_banner_titulo3">' . PG_USER_PROCESO_INFO . '</h3>
-                        <a class="usr_btn" id="usr_btn_mi_cuenta" href="' . URL_SITIO . '/index.php?mod=dashboard">' . PG_USER_IR_A_CUENTA_FOTOS . '</a>
+						<div class="container-fluid pg-sec-banner-2">
+							<div class="row text-center text-md-left">
+								<div class="col-md-8">
+									<h1 class="usr_banner_titulo1">' . PG_USER_GRACIAS_FOTOS . '</h1>
+									<h2 class="usr_banner_titulo2">' . PG_USER_HEMOS_RECIBIDO . '</h2>
+									<h3 class="usr_banner_titulo3">' . PG_USER_PROCESO_INFO . '</h3>
+									<a class="usr_btn" id="usr_btn_mi_cuenta" href="' . URL_SITIO . '/index.php?mod=dashboard">' . PG_USER_IR_A_CUENTA_FOTOS . '</a>
+								</div>
+							</div>
+						</div>
                     </div>
-                </div>';
+                </div>
+                ';
     } else {
+        
         header("Location: index.php?mod=dashboard");
         exit();
@@ -2081,5 +2206,5 @@
         if (!SANDBOX_MODE) {
 
-            if (!$Tarjeta->notificarGeneracionCodigo($registro_comercio)) {
+            if (!$Tarjeta->notificarGeneracionCodigo($registro_comercio, $tipo_tarjeta)) {
 
                 inicRegistrarError("Falló paso 10 - Envío de notificación de código de validación");
Index: branches/b-20180319.02/modulos/user/index.php
===================================================================
--- trunk/modulos/user/index.php	(revision 3384)
+++ branches/b-20180319.02/modulos/user/index.php	(revision 3579)
@@ -2,10 +2,10 @@
 
 include("funciones.php");
-
 $strb = Array("'");
 $strr = Array("&#39;");
-
 if (isset($_GET) && count($_GET) > 0) {
+    
     foreach ($_GET as $llave => $valor) {
+        
         $valor = str_replace($strb, $strr, $valor);
         $_GET[$llave] = $valor;
@@ -13,10 +13,11 @@
 }
 if (isset($_POST) && count($_POST) > 0) {
+    
     foreach ($_POST as $llave => $valor) {
+        
         $valor = str_replace($strb, $strr, $valor);
         $_POST[$llave] = $valor;
     }
 }
-
 $usuaHacer = isset($_GET['hac']) ? htmlentities($db->escapeString($_GET['hac'])) : "";
 
@@ -30,22 +31,30 @@
 $esComercio = false;
 if (in_array($usuaHacer, array("vregfC", "pregfC"))) {
+    
     $esComercio = true;
 }
 $ubicacion = inicVerificarPaisRestriccion(true, $esComercio);
-
 switch ($usuaHacer) {
+    
     case "vregfC": //vista de la fase de comercios
+        
         if (!isset($_SESSION['usuaPagaditoUsuario'])) {
+            
             viewRegistroFaseC();
         } else {
+            
             header("Location: index.php");
             exit();
         }
         break;
+        
     case "vregf1": //vista de la fase 1
+        
         //Si ya se encuentra logueado el usuario, no deja iniciar registro
         if (!isset($_SESSION['usuaPagaditoUsuario'])) {
+            
             viewRegistroFase1();
         } else {
+            
             header("Location: index.php");
             exit();
@@ -53,4 +62,5 @@
         break;
     case "vregf2": //vista de la fase 2 del registro
+        
         viewRegistroFase2();
         break;
@@ -65,26 +75,40 @@
 
     case "vregf4":
+        
         viewRegistroFase4();
         break;
     
     case "vcorval":
+        
         viewValidarCorreo();
         break;
+    
     case "vvalcard":
+        
         viewValidarTarjeta();
         break;
+    
     case "vvalcardok":
+        
         viewTarjetaEnRevision();
         break;
+    
     case "vimgup":
+        
         viewImagenesSubidas();
         break;
+    
     case "pregfC": //procesamiento de registro del comercio
+        
         procRegistroFaseC();
         break;
+    
     case "pregf1": //procesamiento de la fase 1 del registro
+        
         procRegistroFase1();
         break;
+    
     case "pregf2": //procesamiento de la fase 2 del registro
+        
         procRegistroFase2();
         break;
@@ -97,4 +121,5 @@
     
     case "pregf4":
+        
         //procesamiento de la fase 4 del registro en caso que el registro se haya dado desde el pago a un comercio
         procRegistroFase4();
@@ -102,7 +127,10 @@
     
     case "pcorval": //procesamiento de validación de correo
+        
         procValidarCorreo();
         break;
+    
     default:
+        
         header("Location: index.php");
         exit();
Index: branches/b-20180319.02/modulos/usuarios/funciones.php
===================================================================
--- trunk/modulos/usuarios/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/usuarios/funciones.php	(revision 3579)
@@ -229,5 +229,5 @@
 									<h1>' . PG_USUARIO_HOME_INFORMACION_ACCESO_CUENTA . '</h1>
 									<h4>' . PG_USUARIO_HOME_CUENTA_INFO_CORREO . '</h4>
-            <table name="tblInfoCorreo" id="tblInfoCorreo" class="informacion" width="750" border="0">';
+            <table name="tblInfoCorreo" id="tblInfoCorreo" class="informacion" width="100%" border="0">';
         $prinHtml .= '<tr>
 								<td>';
@@ -240,5 +240,5 @@
 			</tr>
 			</table>
-			<table class="informacion" border="0" width="750">
+			<table class="informacion" border="0" width="100%">
 				<tr>
 					<td>
@@ -2321,247 +2321,230 @@
             }
             $tempHtml .= formtearSalidaErrores($_SESSION['erroresModuloCred']) . '
-                <form enctype="multipart/form-data" method="post" action="index.php?mod=usuarios&hac=cnfc">
-                    <!-- LOGO DIRECTORIO INVOCE -->
-                    <div class="detallecuerpo">
-                        <h1>' . PG_USUARIO_CREDENCIALES_LOGO_C_TITULO . '</h1>
-                        <table border="0" width="750">
-                            <tr>
-                                <td colspan="2">
-                                ' . PG_USUARIO_CREDENCIALES_LOGO_C_INFO . '
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>' . PG_USUARIO_CREDENCIALES_LOGO_C_IMAGEN . '</td>
-                                <td>
-                                    <table>
-                                        <tr>
-                                            <td><input type="file" name="logologo" class="vl_texto" />&nbsp;&nbsp;&nbsp;</td>
-                                            <td align="center">' . (!empty($archivo_logo) ? '<img src="' . $raizImg . $archivo_logo . '" />' : '') . '</td>
-                                        </tr>
-                                    </table>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <br />
-                                    <span class="tituloGris">
-                                    ' . PG_USUARIO_CREDENCIALES_LOGO_C_CARACTERISTICAS . '
-                                    </span>
-                                    <br /><br />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <input type="submit" name="cambiar_logo" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_LOGO . '" class="p-button p-button-submit" />
-                                </td>
-                            </tr>
-                        </table>
-                    </div>
-                    <!-- LOGO PANTALLA DE PAGO -->
-                    <div class="detallecuerpo"><h1>' . PG_USUARIO_CREDENCIALES_LOGO_TITULO . '</h1>
-                        <table border="0" width="750">
-                            <tr>
-                                <td colspan="2">
-                                ' . PG_USUARIO_CREDENCIALES_LOGO_INFO . '
-                                </td>
-                            </tr>
-                            <tr>
-                                <td>' . PG_USUARIO_CREDENCIALES_LOGO_IMAGEN . '</td>
-                                <td>
-                                    <table>
-                                        <tr>
-                                            <td><input type="file" name="logoca" class="vl_texto" />&nbsp;&nbsp;&nbsp;</td>
-                                            <td align="center">' . (!empty($archivo) ? '<img src="' . $raizImg . $archivo . '" />' : '') . '</td>
-                                        </tr>
-                                    </table>
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <br />
-                                    <span class="tituloGris">
-                                    ' . PG_USUARIO_CREDENCIALES_LOGO_CARACTERISTICAS . '
-                                    </span>
-                                    <br /><br />
-                                </td>
-                            </tr>
-                            <tr>
-                                <td colspan="2">
-                                    <input type="submit" name="cambiar_ca" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_IMAGEN . '" class="p-button p-button-submit" />
-                                </td>
-                            </tr>
-                        </table>
-                    </div>
-
-                        <div class="detallecuerpo"><h1>' . PG_USUARIO_CREDENCIALES_URL_TITULO . '</h1>
-                        <table border="0" width="750">
-                                <tr>
-                                        <td colspan="2">
-                                                ' . PG_USUARIO_CREDENCIALES_URL_INFO . '
-                                        </td>
-                                </tr>
-                                <tr>
-                                        <td>URL</td>
-                                        <td><input type="textbox" name="url" value="' . urldecode($aDatos[3]) . '" class="vl_texto" style="width: 400px;" /></td>
-                                </tr>
-                                <tr>
-                                        <td colspan="2">
-                                                ' . PG_USUARIO_CREDENCIALES_URL_FORMATOS_VALIDOS . '
-                                        </td>
-                                </tr>
-                                <tr>
-                                        <td colspan="2">
-                                                <input type="submit" name="cambiar_ca_url" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_URL . '" class="p-button p-button-submit" />
-                                        </td>
-                                </tr>
-                                </table>
-                        </div>
-
-                        <div class="detallecuerpo"><h1>' . PG_USUARIO_CREDENCIALES_CONEXION_TITULO . '</h1>
-                        <table border="0" width="750">
-                                <tr>
-                                        <td colspan="2">
-                                                ' . PG_USUARIO_CREDENCIALES_CONEXION_INFO . '
-                                        </td>
-                                </tr>
-
-                        <tr>
-                                <td width="200">UID</td>
-                                <td width="550"><span>' . $aDatos[0] . '</span></td>
-                        </tr>
-                        <tr>
-                                <td>WSK</td>
-                                <td><span>' . $aDatos[1] . '</span></td>
-                        </tr>
-                        <tr>
-                                <td>
-                                        <input type="submit" name="cambiar_cred" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_CREDENCIALES . '" class="p-button p-button-submit" />
-                                </td>
-                        </tr>
-                        </table>
-                        </div>';
-            
-            /* permitir pagos en review */
-            $tempHtml .= '
-                <div class="detallecuerpo">
-                    <h1>' . PG_USUARIO_PERMITIR_REVIEWS_TITULO . '</h1>
-                    <table border="0" width="750">
-                        <tr>
-                            <td colspan="2">
-                                ' . PG_USUARIO_PERMITIR_REVIEWS_INFO . '
-                                <p></p>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td width="200">' . PG_USUARIO_PERMITIR_REVIEWS_INFO_SI_NO . '</td>
-                            <td width="550">
-                                <input type="radio" name="ppr" id="rd_ppr_si" value="1"' . ($aDatos[5] == 1 ? ' checked="checked"' : '') . ' />
-                                <label for="rd_prr_si">' . PG_GEN_SI . '</label>
-                                &nbsp;&nbsp;
-                                <input type="radio" name="ppr" id="rd_ppr_no" value="0"' . ($aDatos[5] == 0 ? ' checked="checked"' : '') . ' />
-                                <label for="rd_prr_no">' . PG_GEN_NO . '</label>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td colspan="2">
-                                <p></p>
-                                ' . PG_USUARIO_PERMITIR_REVIEWS_INFO_FUNCIONAMIENTO . '
-                                <p></p>
-                            </td>
-                        </tr>
-                        <tr>
-                            <td>
-                                <input type="submit" name="cambiar_ppr" value="' . PG_USUARIO_PERMITIR_REVIEWS_BOTON_CAMBIAR_PERMITIR_REVIEWS . '" class="p-button p-button-submit" />
-                            </td>
-                        </tr>
-                    </table>
-                </div>';
-            
-            /* parametros personalizados */
-            if (count($parametrosDisponibles) > 0) {
-                $tempHtml .= '
-                                <div class="detallecuerpo"><h1>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_TITULO . '</h1>
-                                    <table border="0" width="750">
-                                        <tr>
-                                                <td colspan="2">
-                                                        ' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_INFO . '
-                                                </td>
-                                        </tr>
-                                        <tr>
-                                            <td>
-                                                <table class="parametros">
-                                                    <thead>
-                                                        <th colspan="2">' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_PARAMETRO . '</th>
-                                                        <th>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_CODIGO . '</th>
-                                                        <th>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_NOMBRE . PG_USUARIO_PARAMETROS_PERSONALIZADOS_ESPANIOL . '</th>
-                                                        <th>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_NOMBRE . PG_USUARIO_PARAMETROS_PERSONALIZADOS_INGLES . '</th>
-                                                    </thead>
-                                                    <tbody>';
-                $cont_row = 0;
-                foreach ($parametrosDisponibles as $parametroDisponible) {
-                    $campoSeleccionado = ($parametroDisponible['estado'] == $comercio->constantes['EXPARAMACT']) ? true : false;
-                    $tempHtml .= '
-                                                        <tr>
-                                                                <td class="selector">
-                                                                    <input type="checkbox" id="chk' . $cont_row . '" name="param_id[]" value="' . base64_encode($parametroDisponible['id_comercio_parametro']) . '" onClick="seleccionarParametro(this, ' . $cont_row . ')" ' . ($campoSeleccionado ? "checked" : "") . ' />
-                                                                </td>
-                                                                <td class="parametro">' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_PARAMETRO . ($cont_row + 1) . '</td>
-                                                                <td class="codigo">' . $parametroDisponible['codigo'] . '</td>
-                                                                <td class="nombre">
-                                                                    <input type="text" id="esp' . $cont_row . '" name="nombre_es[]" value="' . $parametroDisponible['esp'] . '" class="vl_texto" ' . ($campoSeleccionado ? "" : "disabled") . ' maxlength="25" />
-                                                                </td>
-                                                                <td class="nombre">
-                                                                    <input type="text" id="en' . $cont_row . '" name="nombre_en[]" value="' . $parametroDisponible['en'] . '" class="vl_texto" ' . ($campoSeleccionado ? "" : "disabled") . ' maxlength="25" />
-                                                                </td>
-                                                        </tr>';
-                    $cont_row++;
-                }
-                $tempHtml .= '
-                                                    </tbody>
-                                                </table>
-                                            </td>
-                                        </tr>
-                                        <tr>
-                                                <td colspan="2">
-                                                        <input type="submit" name="cambiar_pp" value="' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_BOTON . '" class="p-button p-button-submit" />
-                                                </td>
-                                        </tr>
-                                    </table>
-				</div>';
-            }
-            
-            /* DESCARGAR SELLO DE COMERCIOS CERTIFICADO */
-            if (!SANDBOX_MODE) {
-                
-                $array_sellos = array('s', 'm', 'l');
-                $tempHtml .= '
-                    <div class="detallecuerpo">
-                        <h1>' . PG_USUARIO_SELLO_CC_TITULO . '</h1>
-                        <p>' . PG_USUARIO_SELLO_CC_INFO . '</p>
-                        <div id="div_sellos">';
-                
-                foreach ($array_sellos as $size) {
-                    
-                    $tempHtml .= '
-                            <div class="div_col_sellos">
-                                <div class="div_img_sello">
-                                    <img alt="' . PG_USUARIO_SELLO_CC_IMG_ALT . '" src="' . URL_SITIO . '/img/sellos-comercios/' . usuariosGetIMGSello($size, $idioma) . '" />
-                                </div>
-                                <div class="div_toggler_codigo">' . PG_USUARIO_SELLO_CC_BTN_OBTENER_CODIGO_FUENTE . '</div>
-                                <div class="div_codigo_sello">
-                                    <div class="div_codigo_sello_padding">
-                                        ' . usuariosGetCodigoSello($aDatos[0], $size, $idioma) . '
-                                    </div>
-                                </div>
-                            </div>';
-                }
-                $tempHtml .= '
-                            <div class="clear"></div>
-                        </div>
-                    </div>';
-            }
-            $tempHtml .= '
-			<input type="hidden" name="vp" />
-		</form>
+                <div class="container-fluid">
+					<form class="pg-form-file" enctype="multipart/form-data" method="post" action="index.php?mod=usuarios&hac=cnfc">
+						<!-- LOGO DIRECTORIO INVOCE -->
+						<div class="detallecuerpo">
+							<h1>' . PG_USUARIO_CREDENCIALES_LOGO_C_TITULO . '</h1>
+							<div class="row text-center text-md-left">
+								<div class="form-group col-12">
+									<label>'.PG_USUARIO_CREDENCIALES_LOGO_C_INFO.'</label>
+									
+								</div>
+								<div class="form-group col-12 col-md-auto">
+									<label>'.PG_USUARIO_CREDENCIALES_LOGO_C_IMAGEN.'</label>
+									<input type="file" name="logologo" class="vl_texto form-control" />
+								</div>
+								<div class="form-group col-12 col-md-auto">
+									' . (!empty($archivo_logo) ? '<img src="' . $raizImg . $archivo_logo . '" />' : '') . '
+								</div>
+								<div class="form-group col-12">
+									<span class="tituloGris">
+									' . PG_USUARIO_CREDENCIALES_LOGO_C_CARACTERISTICAS . '
+									</span>
+								</div>
+								<div class="form-group col-12">
+									<input type="submit" name="cambiar_logo" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_LOGO . '" class="p-button p-button-submit" />
+								</div>
+							</div>
+							
+						</div>
+						<!-- LOGO PANTALLA DE PAGO -->
+						<div class="detallecuerpo"><h1>' . PG_USUARIO_CREDENCIALES_LOGO_TITULO . '</h1>
+						
+							<div class="row text-center text-md-left">
+								<div class="form-group col-12">
+									<label>'.PG_USUARIO_CREDENCIALES_LOGO_INFO.'</label>
+									
+								</div>
+								<div class="form-group col-12 col-md-auto">
+									<label>'.PG_USUARIO_CREDENCIALES_LOGO_IMAGEN.'</label>
+									<input type="file" name="logoca" class="vl_texto form-control" />
+								</div>
+								<div class="form-group col-12 col-md-auto">
+									' . (!empty($archivo) ? '<img class="img-fluid" src="' . $raizImg . $archivo . '" />' : '') . '
+								</div>
+								<div class="form-group col-12">
+									<span class="tituloGris">
+									' . PG_USUARIO_CREDENCIALES_LOGO_CARACTERISTICAS . '
+									</span>
+								</div>
+								<div class="form-group col-12">
+									<input type="submit" name="cambiar_ca" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_IMAGEN . '" class="p-button p-button-submit" />
+								</div>
+							</div>
+							
+						</div>
+
+							<div class="detallecuerpo"><h1>' . PG_USUARIO_CREDENCIALES_URL_TITULO . '</h1>
+							<table border="0" width="100%">
+									<tr>
+											<td colspan="2">
+													' . PG_USUARIO_CREDENCIALES_URL_INFO . '
+											</td>
+									</tr>
+									<tr class="form-group">
+											<td>URL</td>
+											<td><input id="url_retorno" type="textbox" name="url" value="' . urldecode($aDatos[3]) . '" class="vl_texto form-control" style="" /></td>
+									</tr>
+									<tr>
+											<td colspan="2" class="pg-large-text">
+													' . PG_USUARIO_CREDENCIALES_URL_FORMATOS_VALIDOS . '
+											</td>
+									</tr>
+									<tr>
+											<td colspan="2">
+													<input type="submit" name="cambiar_ca_url" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_URL . '" class="p-button p-button-submit" />
+											</td>
+									</tr>
+									</table>
+							</div>
+
+							<div class="detallecuerpo"><h1>' . PG_USUARIO_CREDENCIALES_CONEXION_TITULO . '</h1>
+							<table border="0" width="100%">
+									<tr>
+											<td colspan="2">
+													' . PG_USUARIO_CREDENCIALES_CONEXION_INFO . '
+											</td>
+									</tr>
+
+							<tr class="pg-large-text">
+									<td>UID</td>
+									<td><span>' . $aDatos[0] . '</span></td>
+							</tr>
+							<tr>
+									<td>WSK</td>
+									<td><span>' . $aDatos[1] . '</span></td>
+							</tr>
+							<tr>
+									<td colspan="2">
+											<input type="submit" name="cambiar_cred" value="' . PG_USUARIO_CREDENCIALES_BOTON_CAMBIAR_CREDENCIALES . '" class="p-button p-button-submit" />
+									</td>
+							</tr>
+							</table>
+							</div>';
+				
+				/* permitir pagos en review */
+				$tempHtml .= '
+					<div class="detallecuerpo">
+						<h1>' . PG_USUARIO_PERMITIR_REVIEWS_TITULO . '</h1>
+						<table border="0" width="100%">
+							<tr>
+								<td colspan="2">
+									' . PG_USUARIO_PERMITIR_REVIEWS_INFO . '
+									<p></p>
+								</td>
+							</tr>
+							<tr>
+								<td>' . PG_USUARIO_PERMITIR_REVIEWS_INFO_SI_NO . '</td>
+								<td>
+									<input type="radio" name="ppr" id="rd_ppr_si" value="1"' . ($aDatos[5] == 1 ? ' checked="checked"' : '') . ' />
+									<label for="rd_prr_si">' . PG_GEN_SI . '</label>
+									&nbsp;&nbsp;
+									<input type="radio" name="ppr" id="rd_ppr_no" value="0"' . ($aDatos[5] == 0 ? ' checked="checked"' : '') . ' />
+									<label for="rd_prr_no">' . PG_GEN_NO . '</label>
+								</td>
+							</tr>
+							<tr>
+								<td colspan="2">
+									<p></p>
+									' . PG_USUARIO_PERMITIR_REVIEWS_INFO_FUNCIONAMIENTO . '
+									<p></p>
+								</td>
+							</tr>
+							<tr>
+								<td colspan="2">
+									<input type="submit" name="cambiar_ppr" value="' . PG_USUARIO_PERMITIR_REVIEWS_BOTON_CAMBIAR_PERMITIR_REVIEWS . '" class="p-button p-button-submit" />
+								</td>
+							</tr>
+						</table>
+					</div>';
+				
+				/* parametros personalizados */
+				if (count($parametrosDisponibles) > 0) {
+					$tempHtml .= '
+									<div class="detallecuerpo"><h1>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_TITULO . '</h1>
+										<table border="0" width="100%">
+											<tr>
+													<td colspan="2">
+															' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_INFO . '
+													</td>
+											</tr>
+											<tr>
+												<td>
+													<table class="parametros">
+														<thead>
+															<th colspan="2">' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_PARAMETRO . '</th>
+															<th>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_CODIGO . '</th>
+															<th>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_NOMBRE . PG_USUARIO_PARAMETROS_PERSONALIZADOS_ESPANIOL . '</th>
+															<th>' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_NOMBRE . PG_USUARIO_PARAMETROS_PERSONALIZADOS_INGLES . '</th>
+														</thead>
+														<tbody>';
+					$cont_row = 0;
+					foreach ($parametrosDisponibles as $parametroDisponible) {
+						$campoSeleccionado = ($parametroDisponible['estado'] == $comercio->constantes['EXPARAMACT']) ? true : false;
+						$tempHtml .= '
+															<tr>
+																	<td class="selector">
+																		<input type="checkbox" id="chk' . $cont_row . '" name="param_id[]" value="' . base64_encode($parametroDisponible['id_comercio_parametro']) . '" onClick="seleccionarParametro(this, ' . $cont_row . ')" ' . ($campoSeleccionado ? "checked" : "") . ' />
+																	</td>
+																	<td class="parametro">' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_PARAMETRO . ($cont_row + 1) . '</td>
+																	<td class="codigo">' . $parametroDisponible['codigo'] . '</td>
+																	<td class="nombre">
+																		<input type="text" id="esp' . $cont_row . '" name="nombre_es[]" value="' . $parametroDisponible['esp'] . '" class="vl_texto" ' . ($campoSeleccionado ? "" : "disabled") . ' maxlength="25" />
+																	</td>
+																	<td class="nombre">
+																		<input type="text" id="en' . $cont_row . '" name="nombre_en[]" value="' . $parametroDisponible['en'] . '" class="vl_texto" ' . ($campoSeleccionado ? "" : "disabled") . ' maxlength="25" />
+																	</td>
+															</tr>';
+						$cont_row++;
+					}
+					$tempHtml .= '
+														</tbody>
+													</table>
+												</td>
+											</tr>
+											<tr>
+													<td colspan="2">
+															<input type="submit" name="cambiar_pp" value="' . PG_USUARIO_PARAMETROS_PERSONALIZADOS_BOTON . '" class="p-button p-button-submit" />
+													</td>
+											</tr>
+										</table>
+					</div>';
+				}
+				
+				/* DESCARGAR SELLO DE COMERCIOS CERTIFICADO */
+				if (!SANDBOX_MODE) {
+					
+					$array_sellos = array('s', 'm', 'l');
+					$tempHtml .= '
+						<div class="detallecuerpo">
+							<h1>' . PG_USUARIO_SELLO_CC_TITULO . '</h1>
+							<p>' . PG_USUARIO_SELLO_CC_INFO . '</p>
+							<div id="div_sellos" class="row align-items-end text-center">';
+					
+					foreach ($array_sellos as $size) {
+						
+						$tempHtml .= '
+								<div class="div_col_sellos col-12 col-md-4 mb-4">
+									<div class="div_img_sello">
+										<img class="img-fluid" alt="' . PG_USUARIO_SELLO_CC_IMG_ALT . '" src="' . URL_SITIO . '/img/sellos-comercios/' . usuariosGetIMGSello($size, $idioma) . '" />
+									</div>
+									<div class="div_toggler_codigo">' . PG_USUARIO_SELLO_CC_BTN_OBTENER_CODIGO_FUENTE . '</div>
+									<div class="div_codigo_sello">
+										<div class="div_codigo_sello_padding">
+											' . usuariosGetCodigoSello($aDatos[0], $size, $idioma) . '
+										</div>
+									</div>
+								</div>';
+					}
+					$tempHtml .= '
+								<div class="clear"></div>
+							</div>
+						</div>';
+				}
+				$tempHtml .= '
+				<input type="hidden" name="vp" />
+			</form>
+		</div>
 		';
         }
@@ -2930,5 +2913,5 @@
 
         $tempHtml .= '<br /><form method="post" action="index.php?mod=usuarios&hac=cnfc">
-			<table border="0" width="750">
+			<table border="0" width="100%">
 				<tr>
 					<td colspan="2">
@@ -2997,5 +2980,5 @@
 
 function formtearSalidaErrores($e) {
-    $tempHtml = '<table><tr><td style="color: #ff0000;">' . $e . '</td></tr></table><br />';
+    $tempHtml = '<div class="container-fluid"><table class="mt-3"><tr><td style="color: #ff0000;">' . $e . '</td></tr></table></div><br />';
     return $tempHtml;
 }
Index: branches/b-20180319.02/modulos/views/funciones.php
===================================================================
--- trunk/modulos/views/funciones.php	(revision 3384)
+++ branches/b-20180319.02/modulos/views/funciones.php	(revision 3579)
@@ -71,9 +71,9 @@
                             </div>
                         <?php endif; ?>
-                        <a id="link_recuperar_password" href="<?= URL_SITIO ?>/index.php?mod=recuperar" title="<?= PG_GEN_LOGIN_RECUPERAR_PASSWORD_TITLE; ?>"><?= PG_GEN_LOGIN_RECUPERAR_PASSWORD; ?></a>
+                        
                     </div>
                     <div id="botones">
                         <input type="submit" class="pg_btn_gris" id="btn-iniciar-sesion" name="btn-iniciar-sesion" value="<?= PG_GEN_BTN_LOGIN; ?>" />
-                        <input type="button" class="pg_btn_verde" id="btn-abra-su-billetera" name="btn-abra-su-billetera" value="<?= PG_GEN_BTN_ABRA_SU_BILLETERA; ?>" onClick="location.href = '<?= getURLSEF('acp'); ?>'" />
+                        <a class="recuperar_pass" href="<?= URL_SITIO ?>/index.php?mod=recuperar" title="<?= PG_GEN_LOGIN_RECUPERAR_PASSWORD_TITLE; ?>"><?= PG_GEN_LOGIN_RECUPERAR_PASSWORD_TITLE; ?></a>
                     </div>
                     <input type="hidden" name="verif" value="<?= $verif ?>" />
@@ -140,28 +140,128 @@
     }
     ?>
-    <header id="header">
-        <a href="<?= getURLSEF('home'); ?>" id="a_logo">
-            <h2>
-                <img src="<?= $url_img_logo_pagadito ?>" alt="<?= PG_VW_ALT_IMG_LOGO_PG;?>" />
-            </h2>
-        </a>
-        <div id="div_header_right">
-            <nav id="nav_language" class="nav_language_1116">
-                <a href="javascript:void(0);"><?= PG_GEN_LENGUAJE; ?></a>
-                <div class="clear"></div>
-                <ul>
-                    <li>
-                        <a id="es" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_CASTELLANO; ?></a>
-                    </li>
-                    <li>
-                        <a id="en" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_ENGLISH; ?></a>
-                    </li>
-                </ul>
-            </nav>
-            <div class="clear"></div>
-        </div>
-        <div class="clear"></div>
-        <nav id="nav_main_menu" class="nav_main_menu_sub_menu<?= ($vwcode == 'rc' || $vwcode == 'ct' || $vwcode == 'acp' || $vwcode == 'pil' ? ' nav_main_menu_no_active' : '') ?>">
-            <ul>
+	<header id="header" class="container-fluid">
+		<div class="align-items-center d-flex justify-content-between row"><!-- start row -->
+			<div class="col-6 col-sm-auto">
+				<a href="<?= getURLSEF('home'); ?>" id="a_logo">
+					<h2>
+						<img src="<?= $url_img_logo_pagadito ?>" alt="<?= PG_VW_ALT_IMG_LOGO_PG; ?>" class="img-fluid" />
+					</h2>
+				</a>
+			</div>
+			<div class="col-6 col-sm-auto">
+				<!-- start menu mobile -->
+				<div id="pg-nav-icon" onclick="pg_open_menu();">
+				  <span></span>
+				  <span></span>
+				  <span></span>
+				</div>
+			</div>
+			<div class="col-12 col-sm-12 col-md-auto">
+				<div id="div_header_right">
+					<div class="row justify-content-end"><!-- start row -->
+					
+						<div class="col-auto">
+							<nav id="nav_language" class="nav_language_1116">
+								<a href="javascript:void(0);"><?= PG_GEN_LENGUAJE; ?></a>
+								<div class="clear"></div>
+								<ul>
+									<li>
+										<a id="es" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_CASTELLANO; ?></a>
+									</li>
+									<li>
+										<a id="en" class="pgc_link_idioma" href="javascript:void(0);"><?= PG_GEN_HOME_TB_LINK_ENGLISH; ?></a>
+									</li>
+								</ul>
+							</nav>
+						</div>
+						
+					</div><!-- end row -->
+					
+					
+					
+				</div>
+			</div>
+		</div><!-- end row -->
+		
+		<div class="row justify-content-between pg-menu-desktop"><!-- start row -->
+			<nav id="nav_main_menu" class="col-10 nav_main_menu_sub_menu<?= ($vwcode == 'rc' || $vwcode == 'ct' || $vwcode == 'acp' || $vwcode == 'pil' ? ' nav_main_menu_no_active' : '') ?>">
+				<ul>
+					<li id="li_inicio">
+						<a href="<?= getURLSEF('home'); ?>" class="<?= ($vwcode == 'home' ? 'active' : '') ?>">
+							<h2><?= PG_GEN_NAV_MM_PAGADITO; ?></h2>
+						</a>
+						<?= ($vwcode == 'home' ? '<div class="div_active_nmm"></div>' : '') ?>
+						<ul id="ul_submenu">
+							<li></li>
+							<li>
+								<a href="<?= getURLSEF('pdp'); ?>" class="">
+									<h2><?= PG_GEN_NAV_MM_PASARELA_PAGO; ?></h2>
+								</a>
+							</li>
+							<li>
+								<a href="<?= getURLSEF('pel'); ?>" class="">
+									<h2><?= PG_GEN_NAV_MM_PAGOS_LINEA; ?></h2>
+								</a>
+							</li>
+							<li>
+								<a href="<?= getURLSEF('fe'); ?>" class="">
+									<h2><?= PG_GEN_NAV_MM_FACTURACION_ELECTRONICA; ?></h2>
+								</a>
+							</li>
+							<li>
+								<a href="<?= getURLSEF('ryt'); ?>" class="">
+									<h2><?= PG_GEN_NAV_MM_RETIROS_BANCARIOS; ?></h2>
+								</a>
+							</li>
+							<li>
+								<a href="<?= getURLSEF('ct'); ?>" class="">
+									<h2><?= PG_GEN_NAV_MM_CONTACTENOS; ?></h2>
+								</a>
+							</li>
+						</ul>
+					</li>
+					<li class="li_separetor"></li>
+					<li>
+						<a href="<?= getURLSEF('pp'); ?>" class="<?= ($vwcode == 'pp' ? 'active' : '') ?>">
+							<h2><?= PG_GEN_NAV_MM_BILLETERA; ?></h2>
+						</a>
+						<?= ($vwcode == 'pp' ? '<div class="div_active_nmm"></div>' : '') ?>
+					</li>
+					<li class="li_separetor"></li>
+					<li>
+						<a href="<?= getURLSEF('homecom'); ?>" class="<?= ($vwcode == 'homecom' ? 'active' : '') ?>">
+							<h2><?= PG_GEN_NAV_MM_COMERCIOS; ?></h2>
+						</a>
+						<?= ($vwcode == 'homecom' ? '<div class="div_active_nmm"></div>' : '') ?>
+					</li>
+					<li class="li_separetor"></li>
+					<li>
+						<a href="<?= getURLSEF('homedev'); ?>" class="<?= ($vwcode == 'homedev' ? 'active' : '') ?>">
+							<h2><?= PG_GEN_NAV_MM_DEVELOPERS; ?></h2>
+						</a>
+						<?= ($vwcode == 'homedev' ? '<div class="div_active_nmm"></div>' : '') ?>
+					</li>
+					<li class="li_separetor"></li>
+					<li>
+						<a href="<?= getURLSEF('tyc'); ?>" class="<?= ($vwcode == 'tyc' ? 'active' : '') ?>">
+							<h2><?= PG_GEN_NAV_MM_TARIFAS; ?></h2>
+						</a>
+						<?= ($vwcode == 'tyc' ? '<div class="div_active_nmm"></div>' : '') ?>
+					</li>
+				</ul>
+			</nav>
+			<nav id="nav_countries" class="nav_countries_sub_menu col-auto">
+				<?= getSelectPaises($id_pais, $idioma); ?>
+			</nav>
+		</div><!-- end row -->
+		<div class="clear"></div>
+                <?php
+                    if ($vwcode != 'tyc' && $vwcode != 'rc' && $vwcode != 'pil') {
+                ?>
+		<!-- start menu mobile -->
+		<div id="pg-menu-mobile-screen" class="">
+			<div>
+				
+				<ul>
                 <li id="li_inicio">
                     <a href="<?= getURLSEF('home'); ?>" class="<?= ($vwcode == 'home' ? 'active' : '') ?>">
@@ -227,16 +327,148 @@
                 </li>
             </ul>
-        </nav>
-        <nav id="nav_countries" class="nav_countries_sub_menu">
-            <?= getSelectPaises($id_pais, $idioma); ?>
-        </nav>
-        <div class="clear"></div>
-    </header>
+				
+			</div>
+			
+		</div>
+		<!-- end menu mobile -->
+                <?php
+                    }
+                ?>
+	</header>
+    
     <?php
 }
 
+function vwFooter_r() {
+    global $vwcode;
+    
+    ?>
+	<footer id="footer">
+		<section id="sec_pagadito_footer" class="container-fluid">
+			<div class="row"><!-- start row -->
+				<div class="column col-sm-6 col-md col-lg-3" id="column_1">
+					<h2><?= PG_GEN_FOOTER_CENTRO_DE_AYUDA; ?></h2>
+					<ul class="optionsList">
+						<li>
+							<a href="<?= URL_PG; ?>/index.php?mod=contenidos&pag=FAQ">
+								<h3><?= PG_GEN_FOOTER_PREGUNTAS_FRECUENTES; ?></h3>
+							</a>
+						</li>
+						<li>
+							<a href="<?= getURLSEF('ct'); ?>">
+								<h3><?= PG_GEN_FOOTER_CONTACTENOS; ?></h3>
+							</a>
+						</li>
+					</ul>
+					<h2><?= PG_GEN_FOOTER_SEGURIDAD; ?></h2>
+					<ul class="optionsList">
+						<li>
+							<a href="<?= URL_PG; ?>/index.php?mod=contenidos&pag=ZS">
+								<h3><?= PG_GEN_FOOTER_ZONA_SEGURA; ?></h3>
+							</a>
+						</li>
+					</ul>
+					<h2><?= PG_GEN_FOOTER_POLITICAS; ?></h2>
+					<ul class="optionsList">
+						<li>
+							<a href="<?= URL_PG; ?>/index.php?mod=contenidos&pag=ACUERDOS_Y_CONDICIONES_DE_USO">
+								<h3><?= PG_GEN_FOOTER_ACUERDOS_Y_CONDICIONES; ?></h3>
+							</a>
+						</li>
+						<li>
+							<a href="<?= URL_PG; ?>/index.php?mod=contenidos&pag=POLITICAS_RESERVA_INFO">
+								<h3><?= PG_GEN_FOOTER_POLITICAS_DE_RESERVA_DE_LA_INFORMACION; ?></h3>
+							</a>
+						</li>
+						<li>
+							<a href="<?= URL_PG; ?>/index.php?mod=contenidos&pag=POLITICAS_COMERCIOS">
+								<h3><?= PG_GEN_FOOTER_POLITICAS_DE_USO_DE_PAGADITO_COMERCIOS; ?></h3>
+							</a>
+						</li>
+						<li>
+							<a href="<?= getURLSEF('tyc'); ?>">
+								<h3><?= PG_GEN_FOOTER_TARIFAS; ?></h3>
+							</a>
+						</li>
+					</ul>
+				</div>
+				<div class="column col-sm-6 col-md col-lg-3" id="column_2">
+					<h2><?= PG_GEN_FOOTER_SUSCRIBETE; ?></h2>
+					<form id="frm_suscribete" name="frm_suscribete" action="javascript: guardarSuscripcion();">
+						<label for="txt_suscribete_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE; ?></label>
+						<input type="text" id="txt_suscribete_email" name="txt_suscribete_email" value="" placeholder="<?= PG_GEN_FOOTER_VALUE_INPUT_SUSCRIBETE; ?>" />
+						<input type="button" id="btn_suscribete_ok" name="btn_suscribete_ok" value="<?= PG_GEN_FOOTER_VALUE_BTN_SUSCRIBETE; ?>" onclick="javascript: guardarSuscripcion();" />
+						<div class="clear"></div>
+						<label id="msj_suscribete_no_email"><?= PG_GEN_FOOTER_LBL_SUSCRIBETE_NO_EMAIL; ?></label>
+						<label id="msj_suscribete"></label>
+						<div class="clear"></div>
+					</form>
+				</div>
+				<div class="col-lg-3 col-md col-sm-6 column text-center text-sm-left" id="column_3">
+					<h2><?= PG_GEN_FOOTER_CERTIFICACION_DE_TRANSACCIONES; ?></h2>
+					<div id="certificados">
+						<div id="verisign">
+							<img id="sello1" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_ssl_off.png" alt="<?= PG_VW_ALT_IMG_ICONO_TRUSTWAVE_SSL; ?>" />
+						</div>
+						<div id="pci">
+							<img id="sello2" src="<?= URL_SITIO; ?>/img/vw_home/pg-trustwave_pci_off.png" alt="<?= PG_VW_ALT_IMG_ICONO_TRUSTWAVE_PCI; ?>" />
+						</div>
+						<div class="clear"></div>
+						<div id="div_tarjetas">
+							<img id="img_tarjetas_footer" src="<?= URL_SITIO; ?>/img/vw_home/pg-iconos-tarjetas-2.png" alt="<?= PG_VW_ALT_IMG_ICONO_TARJETAS; ?>" />
+						</div>
+						<div class="clear"></div>
+					</div>
+				</div>
+				<div class="col-12 col-lg-3 col-md-12 col-sm-6 column text-center text-lg-left text-md-center" id="column_4">
+					<h2><?= PG_GEN_FOOTER_BUSQUENOS_EN; ?></h2>
+					<div id="redes_sociales">
+						<a class="pg_redes_sociales btn_social_facebook" href="<?= URL_PG_FACEBOOK;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_FACEBOOK; ?>" target="_blank">&nbsp;</a>
+						<a class="pg_redes_sociales btn_social_twitter" href="<?= URL_PG_TWITTER;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_TWITTER; ?>" target="_blank">&nbsp;</a>
+						<a class="pg_redes_sociales btn_social_youtube" href="<?= URL_PG_YOUTUBE;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_YOUTUBE; ?>" target="_blank">&nbsp;</a>
+						<a class="pg_redes_sociales btn_social_google_plus" href="<?= URL_PG_GOOGLE_PLUS;?>" rel="publisher" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_GOOGLE_PLUS; ?>" target="_blank">&nbsp;</a>
+						<a class="pg_redes_sociales btn_social_wordpress" href="<?= URL_PG_WORDPRESS;?>" title="<?= PG_GEN_FOOTER_TITULO_ENLACE_WORDPRESS; ?>" target="_blank">&nbsp;</a>
+						<div class="clear"></div>
+					</div>
+				</div>
+			</div><!-- end row -->
+			<div class="row"><!-- start row -->
+				<div class="col-12">
+					<?php if ($vwcode == 'pil') { ?>
+					<h1 id="h2_pague_seguro">
+						<strong><?= PG_VW_PIL_H1_FOOTER_SLOGAN ?></strong>
+					</h1>
+					<?php } else { ?>
+					<h2 id="h2_pague_seguro">
+						<strong><?= PG_GEN_FOOTER_SLOGAN; ?></strong>
+					</h2>
+					<?php } ?>
+				</div>
+			</div><!-- end row -->
+			<div class="clear"></div>
+		</section>
+		<section id="sec_pagaditogroup_footer">
+			<div id="center" class="container-fluid">
+				<div class="row"><!-- start row -->
+					<div id="copys" class="col-md-8 col-sm-12"><?= PG_GEN_FOOTER_COPY; ?></div>
+					<div id="link-group" class="col-md-4 col-sm-12 text-center">
+						<a href="http://www.pagaditogroup.com/" target="_blank">
+							<h3>
+								<img src="<?= URL_SITIO; ?>/img/vw_home/pg-logo-pagaditogroup.jpg" alt="<?= PG_VW_ALT_IMG_ICONO_PG_GROUP; ?>" class="img-fluid"/>
+							</h3>
+						</a>
+					</div>
+				</div><!-- end row -->
+				<div class="clear"></div>
+			</div>
+		</section>
+	</footer>
+    
+    <?php
+}
+
 function vwFooter() {
     global $vwcode;
-    
+   
     ?>
     <footer id="footer">
@@ -337,5 +569,5 @@
             </h2>
             <?php } ?>
-            
+           
             <div class="clear"></div>
         </section>
@@ -413,5 +645,5 @@
                                     <p><?= str_replace($array_search, $array_replace, PG_VW_PDP_P_RECIBIR); ?></p>
                                     <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= getURLSEF('acp') . '?tc=pc'; ?>">
-                                        <h2><?= PG_VW_PDP_LINK_ABRA_SU_CUENTA; ?></h2>
+                                        <h2><?= PG_VW_ACP_LINK_AFILIATE_AHORA; ?></h2>
                                     </a>
                                 </div>
@@ -457,5 +689,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -522,6 +759,6 @@
                                 <p><?= str_replace($array_search, $array_replace, PG_VW_PEL_P_VENDA); ?></p>
                                 <p><?= str_replace($array_search, $array_replace, PG_VW_PEL_P_USE_NUESTRO_SISTEMA); ?></p>
-                                <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= getURLSEF('acp'); ?>">
-                                    <h3><?= PG_VW_PEL_LINK_ABRA_SU_CUENTA; ?></h3>
+                                <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= getURLSEF('acp') . '?tc=pc'; ?>">
+                                    <h3><?= PG_VW_ACP_LINK_AFILIATE_AHORA; ?></h3>
                                 </a>
                             </div>
@@ -647,5 +884,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -755,6 +997,6 @@
                                     <?= str_replace($array_search, $array_replace, PG_VW_FE_LINK_VER_REQUISITOS); ?>
                                 </div>
-                                <a href="<?= URL_SITIO; ?>/index.php?mod=user&hac=vregfC" class="pg_btn_verde_home" id="link_envie_fe_ya">
-                                    <h3><?= PG_VW_FE_LINK_ENVIE_SU_FACTURA; ?></h3>
+                                <a href="<?= getURLSEF('acp') . '?tc=pc'; ?>" class="pg_btn_verde_home" id="link_envie_fe_ya">
+                                    <h3><?= PG_VW_ACP_LINK_AFILIATE_AHORA; ?></h3>
                                 </a>
                             </div>
@@ -779,5 +1021,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -860,6 +1107,6 @@
                             <div class="div_section_content">
                                 <p><?= PG_VW_RYT_P_RETIRE_FONDOS; ?></p>
-                                <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= getURLSEF('acp'); ?>">
-                                    <h3><?= PG_VW_RYT_LINK_ABRA_SU_CUENTA; ?></h3>
+                                <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= getURLSEF('acp') . '?tc=pc'; ?>">
+                                    <h3><?= PG_VW_ACP_LINK_AFILIATE_AHORA; ?></h3>
                                 </a>
                             </div>
@@ -871,6 +1118,6 @@
                             <div class="div_section_content">
                                 <p><?= PG_VW_RYT_P_RETIRE_FONDOS; ?></p>
-                                <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= getURLSEF('acp'); ?>">
-                                    <h3><?= PG_VW_RYT_LINK_ABRA_SU_CUENTA; ?></h3>
+                                <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= getURLSEF('acp') . '?tc=pc'; ?>">
+                                    <h3><?= PG_VW_ACP_LINK_AFILIATE_AHORA; ?></h3>
                                 </a>
                             </div>
@@ -929,5 +1176,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -1103,5 +1355,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -1235,5 +1492,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -1636,5 +1898,5 @@
         }
     }
-    return $return;
+    return '<span class="strong">' . $return . '</span>';
 }
 
@@ -1647,4 +1909,5 @@
             <title><?= PG_VW_PP_TITLE; ?></title>
             <meta charset="UTF-8">
+			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
             <meta name="description" content="<?= PG_VW_PP_DESCRIPTION; ?>" />
             <meta name="keywords" content="<?= PG_VW_PP_KEYWORDS; ?>" />
@@ -1663,5 +1926,7 @@
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO ?>/css/animate.min.css<?= $varCache ?>">
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/javascript/FancySelect/FancySelect.css<?= $varCache ?>">
-            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO ?>/css/views.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO ?>/css/views_r.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/grid.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/pagadito_responsive.css<?= $varCache ?>">
             <?= getLinkHREFLANG($vwcode); ?>
             
@@ -1682,46 +1947,59 @@
                     <div id="div_secctions" class="div_sec_pp">
                         <section class="sec_pg" id="sec_title">
-                            <div class="div_section_content">
-                                <div class="div_title">
-                                    <h1><?= PG_VW_PP_H2_TITULO; ?></h1>
-                                    <div class="lp_registro_comercio">
-                                        <img src="<?= URL_SITIO; ?>/img/vw_pagadito_personas/pg-personas-icono-venda.png" alt="<?= PG_VW_PP_LINK_REGISTRO_COMERCIO; ?>" />
-                                        <a href="<?= getURLSEF('homecom'); ?>">
-                                            <h2><?= PG_VW_PP_LINK_REGISTRO_COMERCIO; ?></h2>
-                                        </a>
-                                    </div>
-                                </div>
+                            <div class="div_section_content container-fluid">
+                                <div class="align-items-center d-flex div_title justify-content-between row"><!-- start row -->
+									<div class="col-12 col-sm-auto">
+										<h1><?= PG_VW_PP_H2_TITULO; ?></h1>
+									</div>
+                                    <div class="col-12 col-sm-auto">
+										<div class="lp_registro_comercio">
+											<div class="media">
+											  <img class="align-self-center mr-3" src="<?= URL_SITIO; ?>/img/vw_pagadito_personas/pg-personas-icono-venda.png" alt="<?= PG_VW_PP_LINK_REGISTRO_COMERCIO; ?>" />
+											  <div class="media-body pg-media-body">
+												<a href="<?= getURLSEF('homecom'); ?>" class="mt-4">
+													<h2><?= PG_VW_PP_LINK_REGISTRO_COMERCIO; ?></h2>
+												</a>
+												
+											  </div>
+											</div>
+											
+										</div>
+									</div>
+                                    
+                                </div><!-- end row -->
                             </div>
                         </section>
                         <section class="sec_pg" id="sec_banner">
-                            <div class="div_section_content">
-                                <h2><?= PG_VW_PP_BODY_HEADER; ?></h2>
-                                <ul>
-                                    <li><?= PG_VW_PP_BODY_LI_01; ?></li>
-                                    <li><?= PG_VW_PP_BODY_LI_02; ?></li>
-                                    <li><?= PG_VW_PP_BODY_LI_03; ?></li>
-                                    <li><?= PG_VW_PP_BODY_LI_04; ?></li>
-                                    <li><?= PG_VW_PP_BODY_LI_05; ?></li>
-                                    <li><?= PG_VW_PP_BODY_LI_06; ?></li>
-                                </ul>
-                                <a href="<?= URL_SITIO; ?>/index.php?mod=user&hac=vregf1">
-                                    <h3><?= PG_VW_PP_BODY_ABRIR_CUENTA; ?></h3>
-                                </a>
+							<div class="pg-sec-banner">
+								<div class="div_section_content container-fluid">
+									<h2><?= PG_VW_PP_BODY_HEADER; ?></h2>
+									<ul>
+										<li><?= PG_VW_PP_BODY_LI_01; ?></li>
+										<li><?= PG_VW_PP_BODY_LI_02; ?></li>
+										<li><?= PG_VW_PP_BODY_LI_03; ?></li>
+										<li><?= PG_VW_PP_BODY_LI_04; ?></li>
+										<li><?= PG_VW_PP_BODY_LI_05; ?></li>
+										<li><?= PG_VW_PP_BODY_LI_06; ?></li>
+									</ul>
+									<a href="<?= URL_SITIO; ?>/index.php?mod=user&hac=vregf1">
+										<h3><?= PG_VW_PP_BODY_ABRIR_CUENTA; ?></h3>
+									</a>
+								</div>
                             </div>
                         </section>
                         <section class="sec_pg" id="sec_personas">
-                            <div class="div_section_content">
-                                <div class="lp_footer_container">
-                                    <div class="lp_footer_block">
+                            <div class="div_section_content container-fluid">
+                                <div class="lp_footer_container row">
+                                    <div class="lp_footer_block col-sm-6 col-md-4">
                                         <img src="<?= URL_SITIO; ?>/img/vw_pagadito_personas/pg-personas-icono-ok.png" alt="<?= PG_VW_PP_ICON_OK; ?>" />
                                         <h2><?= PG_VW_PP_FOOTER_FACIL; ?></h2>
                                         <p><?= PG_VW_PP_FOOTER_FACIL_PARRAFO; ?></p>
                                     </div>
-                                    <div class="lp_footer_block">
+                                    <div class="lp_footer_block col-sm-6 col-md-4">
                                         <img src="<?= URL_SITIO; ?>/img/vw_pagadito_personas/pg-personas-icono-laptop.png" alt="<?= PG_VW_PP_ICON_LAPTOP; ?>" />
                                         <h2><?= PG_VW_PP_FOOTER_SEGURO; ?></h2>
                                         <p><?= PG_VW_PP_FOOTER_SEGURO_PARRAFO; ?></p>
                                     </div>
-                                    <div class="lp_footer_block" id="div_versatil">
+                                    <div class="lp_footer_block col-sm-12 col-md-4" id="div_versatil">
                                         <img src="<?= URL_SITIO; ?>/img/vw_pagadito_personas/pg-personas-icono-rubik.png" alt="<?= PG_VW_PP_ICON_RUBIK; ?>" />
                                         <h2><?= PG_VW_PP_FOOTER_VERSATIL; ?></h2>
@@ -1746,5 +2024,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -2160,5 +2443,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -2190,4 +2478,5 @@
             <title><?= PG_VW_ACP_TITLE; ?></title>
             <meta charset="UTF-8">
+			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
             <meta name="description" content="<?= PG_VW_ACP_DESCRIPTION; ?>" />
             <meta name="keywords" content="<?= PG_VW_ACP_KEYWORDS; ?>" />
@@ -2205,6 +2494,8 @@
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/resetv2.0.css<?= $varCache; ?>">
             <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/animate.min.css<?= $varCache; ?>">
-            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/javascript/FancySelect/FancySelect.css<?= $varCache; ?>">
-            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/views.css<?= $varCache; ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/javascript/FancySelect/FancySelect.css<?= $varCache; ?>">            
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/views_r.css<?= $varCache; ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/grid.css<?= $varCache ?>">
+            <link rel="stylesheet" type="text/css" href="<?= URL_SITIO; ?>/css/bootstrap/pagadito_responsive.css<?= $varCache ?>">
             <?= getLinkHREFLANG($vwcode); ?>
             
@@ -2232,43 +2523,71 @@
                     <div id="div_secctions" class="div_sec_acp">
                         <section class="sec_pg" id="sec_title">
-                            <div class="div_section_content">
+                            <div class="div_section_content container-fluid">
                                 <div class="div_title">
-                                    <h1><?= PG_VW_ACP_H2_TITULO; ?></h1>
-                                </div>
-                            </div>
-                        </section>
+                                    <h1><?php echo ($tipo_cuenta == 'pc' ? PG_VW_ACP_H2_TITULO2 : PG_VW_ACP_H2_TITULO); ?></h1>
+                                </div>
+                            </div>
+                        </section>
+                        <?php if ($tipo_cuenta != 'pc') { ?>
                         <section class="sec_pg" id="sec_banner">
-                            <div id="div_layer_banner"></div>
-                            <div id="div_layer_contenido">
-                                <div class="div_section_content">
-                                    <p><?= PG_VW_ACP_P_USE_PAGADITO_PARA; ?></p>
-                                </div>
-                            </div>
-                        </section>
+                            <div class="pg-sec-banner">
+								<div id="div_layer_contenido" class="container-fluid">
+									<div class="row"><!-- start row -->
+										<div class="col-12 col-sm-6 div_section_content">
+											<p><?= PG_VW_ACP_P_USE_PAGADITO_PARA; ?></p>
+										</div>
+									</div><!-- end row -->
+								</div>
+							</div>
+                        </section>
+                        <?php } ?>
                         <section class="sec_pg" id="sec_escoger">
                             <div class="div_section_content">
-                                <h3><?= PG_VW_ACP_H3_EN_PAGADITO_PUEDE_ESCOGER; ?></h3>
+                                <h3><?php echo ($tipo_cuenta != 'pc' ? PG_VW_ACP_H3_EN_PAGADITO_PUEDE_ESCOGER : '<br>'); ?></h3>
                             </div>
                         </section>
                         <section class="sec_pg" id="sec_registro">
-                            <div class="div_section_content">
-                                <div class="div_registro">
-                                    <div class="div_tipos_cuentas">
-                                        <div class="div_tipo_cuenta<?= ($tipo_cuenta == 'pc' ? ' div_tipo_cuenta_hidden' : ''); ?>">
-                                            <img alt="<?= PG_VW_ACP_H2_PAGADITO_PERSONAS; ?>" src="<?= URL_SITIO; ?>/img/vw_abra_cuenta_pagadito/pg-registro-icono-personas.jpg">
-                                            <h2><?= PG_VW_ACP_H2_PAGADITO_PERSONAS; ?></h2>
-                                            <div class="div_rd_tipo_cuenta<?= ($tipo_cuenta == 'pp' ? ' div_rd_tipo_cuenta_active': ''); ?>" id="div_rd_tipo_cuenta_personas" tc="personas">
-                                                <div></div>
-                                            </div>
-                                        </div>
-                                        <div class="div_tipo_cuenta">
-                                            <img alt="<?= PG_VW_ACP_H2_PAGADITO_COMERCIOS; ?>" src="<?= URL_SITIO; ?>/img/vw_abra_cuenta_pagadito/pg-registro-icono-comercios.jpg">
-                                            <h2><?= PG_VW_ACP_H2_PAGADITO_COMERCIOS; ?></h2>
-                                            <div class="div_rd_tipo_cuenta<?= ($tipo_cuenta == 'pc' ? ' div_rd_tipo_cuenta_active': ''); ?>" id="div_rd_tipo_cuenta_comercios" tc="comercios">
-                                                <div></div>
-                                            </div>
-                                        </div>
-                                    </div>
-                                    <div class="div_detalles">
+                            <div class="div_section_content container-fluid">
+                                <div class="div_registro row"><!-- start row -->
+                                    <div class="div_tipos_cuentas col-md-6">
+                                        <div class="row"><!-- start row -->
+											<div class="col col-md-12 col-sm-6 div_tipo_cuenta<?= ($tipo_cuenta == 'pc' ? ' div_tipo_cuenta_hidden' : ''); ?>">
+												<div class="media">
+												  <img class="align-self-center mr-3" alt="<?= PG_VW_ACP_H2_PAGADITO_PERSONAS; ?>" src="<?= URL_SITIO; ?>/img/vw_abra_cuenta_pagadito/pg-registro-icono-personas.jpg">
+												  <div class="media-body row">
+													<div class="col-10">
+														<h2 class="mt-3"><?= PG_VW_ACP_H2_PAGADITO_PERSONAS; ?></h2>
+													</div>
+													<div class="col-2">
+														<div class="mt-4 div_rd_tipo_cuenta<?= ($tipo_cuenta == 'pp' ? ' div_rd_tipo_cuenta_active': ''); ?>" id="div_rd_tipo_cuenta_personas" tc="personas">
+															<div></div>
+														</div>
+													</div>
+													
+												  </div>
+												</div>
+												
+											</div>
+											<div class="col col-md-12 col-sm-6 div_tipo_cuenta">
+												<div class="media">
+												  <img class="align-self-center mr-3" alt="<?= PG_VW_ACP_H2_PAGADITO_COMERCIOS; ?>" src="<?= URL_SITIO; ?>/img/vw_abra_cuenta_pagadito/pg-registro-icono-comercios.jpg">
+												  <div class="media-body row">
+													<div class="col-10">
+														<h2 class="mt-3"><?= PG_VW_ACP_H2_PAGADITO_COMERCIOS; ?></h2>
+													</div>
+													<div class="col-2">
+														<div class="mt-4 div_rd_tipo_cuenta<?= ($tipo_cuenta == 'pc' ? ' div_rd_tipo_cuenta_active': ''); ?>" id="div_rd_tipo_cuenta_comercios" tc="comercios">
+															<div></div>
+														</div>
+													</div>
+													
+												  </div>
+												  
+												</div>
+												
+											</div>
+                                        </div><!-- end row -->
+                                    </div>
+                                    <div class="div_detalles col-md-6">
                                         <div class="div_detalle<?= ($tipo_cuenta == 'pp' ? ' div_detalle_activo': ''); ?>" id="div_detalle_personas">
                                             <h3 class="h3_subtitulo"><?= PG_VW_ACP_PP_H3_SUBTITULO; ?></h3>
@@ -2308,6 +2627,6 @@
                                                 </a>
                                                 <div class="clear"></div>
-                                                <a class="pg_btn_verde_home" id="link_abra_su_cuenta" href="<?= URL_SITIO; ?>/index.php?mod=user&hac=vregfC">
-                                                    <h3><?= PG_VW_ACP_LINK_ABRA_SU_CUENTA; ?></h3>
+                                                <a class="pg_btn_verde_home" id="link_afiliate" href="<?= URL_SITIO; ?>/index.php?mod=user&hac=vregfC">
+                                                    <h3><?= PG_VW_ACP_LINK_AFILIATE; ?></h3>
                                                 </a>
                                             </div>
@@ -2315,9 +2634,9 @@
                                     </div>
                                     <div class="clear"></div>
-                                </div>
+                                </div><!-- start row -->
                             </div>
                         </section>
                     </div>
-                    <?php echo vwFooter(); ?>
+                    <?php echo vwFooter_r(); ?>
                 </div>
             </div>
@@ -2332,5 +2651,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -2425,6 +2749,6 @@
                                             </li>
                                         </ol>
-                                        <a class="pg_btn_verde_home" id="link_abra_su_cuenta_pn" href="<?= URL_SITIO; ?>/index.php?mod=user&hac=vregfC">
-                                            <h3><?= PG_VW_RC_LINK_ABRA_SU_CUENTA; ?></h3>
+                                        <a class="pg_btn_verde_home" id="link_abra_su_cuenta_pn" href="<?= getURLSEF('acp') . '?tc=pc';  ?>">
+                                            <h3><?= PG_VW_ACP_LINK_AFILIATE_AHORA; ?></h3>
                                         </a>
                                     </div>
@@ -2464,6 +2788,6 @@
                                             </li>
                                         </ol>
-                                        <a class="pg_btn_verde_home" id="link_abra_su_cuenta_pj" href="<?= URL_SITIO; ?>/index.php?mod=user&hac=vregfC">
-                                            <h3><?= PG_VW_RC_LINK_ABRA_SU_CUENTA; ?></h3>
+                                        <a class="pg_btn_verde_home" id="link_abra_su_cuenta_pj" href="<?= getURLSEF('acp') . '?tc=pc'; ?>">
+                                            <h3><?= PG_VW_ACP_LINK_AFILIATE_AHORA; ?></h3>
                                         </a>
                                     </div>
@@ -2486,5 +2810,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            }
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -2834,5 +3163,10 @@
                 echo $google_remarketing_code;
             } ?>
-            <?php echo inicSetearGoogleConversionCode(); ?>
+            <?php echo inicSetearGoogleConversionCode(); 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -3120,5 +3454,10 @@
                 echo $google_remarketing_code;
             } ?>
-            <?php echo inicSetearGoogleConversionCode(); ?>
+            <?php echo inicSetearGoogleConversionCode();
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -3382,5 +3721,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            } 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -3554,5 +3898,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            } 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -3714,5 +4063,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            } 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -3871,5 +4225,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            } 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -4333,5 +4692,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            } 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
@@ -4691,5 +5055,10 @@
                 include_once './javascript/google-remarketing.php';
                 echo $google_remarketing_code;
-            } ?>
+            } 
+            if (IMPRIMIR_TWITTER_CODE) {
+                include_once './javascript/twitter-code.php';
+                echo $twitter_code;
+            }
+            ?>
         </body>
     </html>
Index: branches/b-20180319.02/pagadito_r.css
===================================================================
--- branches/b-20180319.02/pagadito_r.css	(revision 3579)
+++ branches/b-20180319.02/pagadito_r.css	(revision 3579)
@@ -0,0 +1,1385 @@
+/* CSS General */
+
+body {
+    
+    background-color: #ffffff;
+    font-family: arial;
+    
+    font-size: 11px;
+    color: #000000;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+}
+
+a {
+    color: #552F44;
+    text-decoration: none;
+}
+
+a:hover {
+    text-decoration: underline;
+}
+
+h1, h2, h3, h4, h5, h6 {
+    color: #404040;
+    font-weight: bold;
+}
+
+img {
+    border: 0;
+}
+
+
+table.informacion {
+    font-size: 11px; 	
+}
+
+
+div.cuerpo{
+    width: 100%;
+    float: left;
+    margin:3px 0px;
+}
+div.principal{
+    
+
+    
+}
+div.superior{
+    width: 800px;
+}
+div.inicio{
+    width: 800px;
+}
+div.menu{
+    width: 800px;
+    height: 31px;
+    background: url(imagenes/fondo_menu.png);
+    color: #FFF;
+    margin: 1px 0px 0px 0px;
+    padding: 0px;
+}
+div.menu table{
+    width: 800px;
+}
+div.menu td{
+    text-align: center;
+}
+div.menu a{
+    text-decoration: none;
+    color: #FFF;
+}
+
+
+div.PanelBanner{
+    border: 0;
+    border-radius: 10px 10px 10px 10px;
+    display: block;
+    margin: 10px auto;
+    
+}
+div.PanelBanner .banner{
+    background-color: #552F44;
+    
+    padding: 5px;
+    
+    border: 0;
+}
+div.PanelBanner .banner .interno{
+}
+div.PanelBanner .banner .interno .texto{
+    color: #FFFFFF;
+}
+div.PanelBanner .banner .interno .texto a{
+    color: #999999;
+    font-weight: bold;
+}
+div.PanelBanner .banner .interno .texto p{
+    font-size: 12px;
+    text-align: center;
+}
+div.PanelBanner .banner .interno .texto span{
+}
+
+
+
+div.menuinferior{
+    
+    height: 110px;
+    font-size: 10px;
+    margin-top: 40px;
+    clear: both;
+}
+div.menuinferior td{
+    vertical-align: top;
+    padding: 8px 0px 0px 18px;
+}
+div.menuinferior h1{
+    color: #3b8795;
+    font-size: 10px;
+}
+div.menuinferior a{
+    color: #919191;
+    text-decoration: none;
+}
+div.menuinferior a:hover{
+    color: #3b8795;
+}
+div.detallecuerpo{
+    
+    margin-top: 30px;
+}
+div.detallecuerpo h1{
+    color: #3b8795;
+    border-bottom: 1px solid #3b8795;
+    font-size: 14px;
+    margin-top: 0;
+    padding: 0px 0px 8px 0px;
+    text-align: left;  
+}
+
+.tituloAzul1 {
+    color: #3b8795; 
+    font-weight: bold; 
+    font-size: 12px;
+}
+
+.tituloGris {
+    color: #888888; 
+
+    font-size: 11px;
+}
+
+
+table{
+    border-collapse: collapse;
+}
+table.supcontenedor{
+    width: 100%;
+}
+table.supingreso{
+    color: #FFF;
+}
+._loginError{
+    float: left;
+    margin-top: -5px;
+    text-align: center;
+    width: 100%;
+    color: #FFFFFF !important;
+    background-color: #5C2946;
+}
+table.supregistro{
+    margin: 24px 0px 0px 0px;
+}
+table.introduccion{
+    width: 100%;
+    margin-top: 2px;
+}
+.Info {
+    float: left;
+    width: 100%;
+    margin-bottom:20px;
+    margin-top:8px;
+}
+.Info .cContent {
+    float: left;
+    height: 218px;
+    width: 394px;
+}
+.Info .cContent.rgt { float: right; }
+.Info .cContent.rgt .cInfo { float: left; }
+
+.Info .cContent .cInfo{
+    clear: left;
+    float: left;
+    height: 100px;
+    width: 100%;
+    margin-bottom:14px;
+}
+.Info .cContent .cInfo .clft  {
+    background: url(imagenes/pg_inf_lft.gif) no-repeat scroll left top;
+    margin: 0px;
+    padding: 0px;
+    float: left;
+    height: 104px;
+    width: 6px;
+}
+.Info .cContent .cInfo .ccont {
+    background: url("imagenes/pg_inf_bg.gif") repeat-x scroll left top transparent;
+    float: left;
+    height: 104px;
+    width: 382px;
+}
+.Info .cContent .cInfo .ccont img{
+    clear: left;
+    float: left;
+    margin-bottom: 0;
+    margin-left: 8px;
+    margin-top: 6px;
+    padding: 0;
+}
+.Info .cContent .cInfo .ccont p{
+    clear: left;
+    color: #666666;
+    float: left;
+    margin: 4px;
+}
+.Info .cContent .cInfo .cright  {
+    background: url(imagenes/pg_inf_rgt.gif) no-repeat scroll left top;
+    margin: 0px;
+    padding: 0px;
+    float: left;
+    height: 104px;
+    width: 6px;
+}
+.Info .cContent a{
+    text-decoration: none;
+}
+
+table.cuenta{
+    float: left;
+    width: 100%;
+}
+table.cuenta .informacion{
+    float: left;
+}
+table.cuenta .informacion tbody td{
+    vertical-align: top;
+}
+
+table.introduccion td{
+    padding: 0px;
+}
+table.introduccion p{
+    padding: 0px 4px 0px 4px;
+    margin: 4px;
+}
+table.introduccion h1{
+    border-bottom: 1px dotted #3f3f3e;
+    font-size: 18px;
+    color: #356373;
+    font-weight: normal;
+    margin: 0px 0px 0px 6px;
+    padding: 0px 0px 4px 0px;
+}
+table.introduccion h3{
+    border-bottom: 1px dotted #3f3f3e;
+    font-size: 12px;
+    color: #356373;
+    font-weight: normal;
+    margin: 0px 0px 0px 6px;
+    padding: 0px 0px 4px 0px;
+}
+table.introduccion ul {
+    float: left;
+    width: 100%;
+    list-style: none;
+    margin: 0px;
+    padding: 0px;
+}
+table.introduccion ul li   {
+    float: left;
+    margin: 5px 0;
+    padding: 0;
+    text-align: center;
+    width: 100%;
+}
+table.introduccionul li img {
+    margin-top: 5px;
+    margin-left: 5px;
+}
+
+
+table.seguridad{
+    width: 800px;
+    margin-top: 10px;
+    font-size: 10px;
+    color: #999999;
+}
+table.seguridad td{
+    padding-left: 20px;
+}
+table.formulario td{
+    padding: 8px 0px 8px 0px;
+}
+fieldset {
+  border-radius: 5px 5px 5px 5px;
+}
+
+td.menusuperior{
+    text-align: right;
+    vertical-align: top;
+    padding-right: 2px;
+}
+td.ingreso{
+    background: url(imagenes/fondo_ingreso.png) no-repeat;
+    width: 241px;
+    padding: 20px 0px 0px 16px;
+    height: 181px;
+    vertical-align: top;
+    text-align: left;
+}
+td.ingreso td{
+    height: 30px;
+}
+
+a.vintipo1{
+    text-decoration: none;
+    color: #552f44;
+}
+a.vintipo1:hover{
+    color: #3b8695;
+}
+
+input {
+    font-size: 14px;
+}
+
+
+input.ingresar{
+    background: url(imagenes/boton_ingresar.png); 
+    border: 0px;
+    width: 77px;
+    height: 33px;
+}
+
+
+input.ingresarConf{
+    background: url(imagenes/pg_btn_confpago.png); 
+    border: 0px;
+    
+    
+}
+
+
+select{
+    width: 170px;
+    font-size: 10px;
+}
+
+span.info{
+    color: #969696;
+    font-size: 10px;
+}
+span.infoRojo{
+    color: #D14836;
+    font-size: 10px;
+}
+span.infoRojoRemarcado{
+    color: #D14836;
+    font-size: 10px;
+    font-weight: bold;
+}
+
+
+div .funds{
+    float:left;
+    display:table;
+    height:27px;
+}
+
+div .funds #left{
+    float:left;
+    width:4px;
+    height:27px;
+    background:url(imagenes/pg_fundsw_bg.png) no-repeat left;
+}
+
+div .funds #right{
+    float: left;
+    width:5px;
+    height:27px;
+    background:url(imagenes/pg_fundsp_bg.png) no-repeat right;
+}
+
+div .funds #title{
+    width: 164px;
+    padding-right: 70px;
+    padding-left: 40px;
+    display: table-cell;
+    vertical-align: middle;
+    color:#000;
+    background: #fff;
+}
+
+div .funds #funds{
+    width: 120px;
+    padding-left: 50px;
+    color: #552f44;
+    display: table-cell;
+    vertical-align: middle;
+    font-weight: bold;
+    background: #ece4e9;
+}
+
+input.buttonsAux{
+    background-color: #ffffff;
+    border-radius: 5px;
+    border-style: solid;
+    border-width: 0px;
+
+    height: 23px;
+    text-align: center;
+    padding-top: 10px;
+    color: #999999;
+    cursor: pointer;
+    float: right;
+    font-family: Verdana,Geneva,sans-serif,umpush;
+    font-weight: normal;
+}
+
+
+div .titles_lightblue{
+    color:#3b8795;
+}
+
+div .titles_tables{
+    float:left;
+    display:table;
+}
+
+div .titles_tables #left{
+    background: url(imagenes/pg_titles_topleft_bg.png);
+    width:6px;
+    height:30px;
+    float:left;
+}
+
+table.fondo1 {
+    background: url(imagenes/pg_titles_topleft_bg.png);	
+}
+
+div .titles_tables bleft{
+    background: url(imagenes/pg_titles_bottomleft_bg.png) no-repeat left;
+    clear:left;
+    width:6px;
+    height:28px;
+    float:left;
+}
+
+div .titles_tables #right{
+    background: url(imagenes/pg_titles_topright_bg.png);
+    width:5px;
+    height:30px;
+    float:left;
+    clear:right;
+}
+
+div .titles_tables #bright{
+    background: url(imagenes/pg_titles_bottomright_bg.png);
+    width:5px;
+    height:28px;
+    float:left;
+    clear:right;
+}
+
+div .titles_tables #middle{
+    background: #ece4e9;
+    height:30px;
+    display:table-cell;
+    vertical-align: middle;
+    padding-left:10px;
+    padding-right:10px;
+    color:#552f44;
+    font-weight:bold;
+}
+
+div .wspace{
+    width:100%;
+    height: 2px;
+    background: #fff;
+    clear:both;
+}
+
+div .submenu{
+    
+    
+    
+}
+
+div .submenu #left{
+    width:5px;
+    height:31px;
+    float:left;
+    background: url(imagenes/pg_submenu_left.png) no-repeat left;
+}
+
+div .submenu #right{
+    width:5px;
+    height:31px;
+    float:left;
+    background: url(imagenes/pg_submenu_right.png) no-repeat right;
+}
+
+
+
+
+
+div .submenuCorto{
+    float:left;
+    display:table;
+    margin-bottom: 1px;
+}
+
+div .submenuCorto #Izq{
+    width:4px;
+    height:31px;
+    float:left;
+    background: url(imagenes/fondo_menu_corto-izq.png) no-repeat left;
+}
+
+div .submenuCorto #Centro{
+    height:31px;
+    background: url(imagenes/fondo_menu_corto-backg.png);
+    display:table-cell;
+    vertical-align: middle;
+    color:#fff;
+    padding-left:5px;
+    padding-right:5px;
+    
+    text-align: center;
+}
+
+div .submenuCorto #Der{
+    width:4px;
+    height:31px;
+    float:left;
+    background: url(imagenes/fondo_menu_corto-der.png) no-repeat right;
+}
+
+
+
+
+
+
+
+div .submenu #separator{
+    width:1px;
+    height:30px;
+    background: url(imagenes/pg_submenu_separator.png) no-repeat left;
+    display:table-cell;
+    vertical-align: middle;
+}
+
+div .submenu #middle{
+    
+    
+
+    height:31px;
+    background: #3b8795;
+    display:table-cell;
+    vertical-align: middle;
+    color:#fff;
+    padding-left:5px;
+    padding-right:5px;
+    
+    text-align: center;
+}
+
+
+div .submenu #middle100{
+    
+    width: 100%;
+    height: auto;
+    background: #3b8795;
+    
+    
+    color:#fff;
+    
+    
+    
+    
+    font-size: 10px;
+    
+    text-align: center;
+    border-radius: 5px;
+}
+div .submenu #middle100 a{
+	padding-left: 5px;
+    padding-right: 5px;
+    padding-top: 10px;
+    padding-bottom: 10px;
+    width: 100%;
+    display: block;
+}
+div .submenu #middle100 a:hover{
+	background: #2f6f7b;
+}
+
+div .purples{
+    float:left;
+    height: 28px;
+    background:#efefef;
+    display:table;
+}
+
+div .purples div{
+    display: table-cell;
+    vertical-align: middle;
+    color:#552f44;
+}
+
+div .separatorp{
+    width:100%;
+    float:left;
+    width:2px;
+    background:#ece4e9;
+}
+
+div .counters{
+    float:left;
+    display: table;
+    width:31px;
+}
+
+div .counters #left{
+    float: left;
+    width:6px;
+    height: 31px;
+    background: url(imagenes/pg_counters_left_bg.png) no-repeat left;
+}
+
+div .counters #righ{
+    float: left;
+    width:4px;
+    height: 31px;
+    background: url(imagenes/pg_counters_right_bg.png) no-repeat left;
+}
+
+div .counters #middle{
+    display:table-cell;
+    background: #ededed;
+    vertical-align: middle;
+    color:#552f44;
+    font-weight:bold;
+}
+
+
+
+input.vl_textoNumero {
+    border-style: solid; border-width: 1px; border-color: #AAAAAA;
+}
+input.vl_texto {
+    border-style: solid; border-width: 1px; border-color: #AAAAAA;
+}
+input.vl_correo {
+    border-style: solid;
+    border-width: 1px;
+    border-color: #AAAAAA;
+    height: 25px;
+}
+textarea.vl_contenido {
+    border-style: solid; border-width: 1px; border-color: #AAAAAA;
+}
+input.vl_telefono {
+    border-style: solid; border-width: 1px; border-color: #AAAAAA;
+}
+input.vl_numero {
+    border-style: solid; border-width: 1px; border-color: #AAAAAA;
+}
+input.vl_dinero {
+    border-style: solid;
+    border-width: 1px;
+    border-color: #AAAAAA;
+    font-size: 14px;
+    padding: 1px 4px 1px 4px;
+    height: 25px;
+}
+input.vl_clave {
+    border-style: solid;
+    border-width: 1px;
+    border-color: #AAAAAA;
+    font-size: 14px;
+    height: 25px;
+}
+input.vl_textoDirecciones {
+    border-style: solid; border-width: 1px; border-color: #AAAAAA;
+}
+
+
+textarea.cajaTexto1 {
+
+    font-family: Verdana, Geneva, sans-serif, umpush;
+    font-size: 10px;
+
+} 
+
+td.alturaFilaTarj {
+    height: 30px;	
+}
+
+a.tituloLink:active {
+    color: #3b8795;
+    font-size: 11px;
+    line-height: 150%;
+}
+a.tituloLink:link {
+    color: #3b8795;
+    font-size: 11px;
+    line-height: 150%;
+}
+a.tituloLink:visited {
+    color: #3b8795;
+    font-size: 11px;
+    line-height: 150%;
+}
+a.tituloLink:hover {
+    color: #3b8795;
+    font-size: 11px;
+    line-height: 150%;
+}
+
+
+a.tituloLink2:active {
+    color: #3b8795;
+    font-size: 11px;
+    font-weight: bold;
+    line-height: 150%;
+}
+a.tituloLink2:link {
+    color: #3b8795;
+    font-size: 11px;
+    font-weight: bold;
+    line-height: 150%;
+}
+a.tituloLink2:visited {
+    color: #3b8795;
+    font-size: 11px;
+    font-weight: bold;
+    line-height: 150%;
+}
+a.tituloLink2:hover {
+    color: #3b8795;
+    font-size: 11px;
+    font-weight: bold;
+    line-height: 150%;
+}
+
+
+td.tEspacio {
+    padding-top: 10px;
+}
+
+
+.cheque{
+    display: none;
+}
+
+.otros_bancos{
+    display: none;
+}
+
+.bancos_asociados{
+    display: none;
+}
+
+.form_pr{
+    width: 400px;;
+    float: left;
+}
+.form_pr fieldset legend{
+    text-align: center;
+}
+.form_pr fieldset label{
+    float: left;
+    width: 150px;
+    text-align: right;
+    margin-right: 5px;
+}
+.form_pr fieldset input,
+.form_pr fieldset select{
+    float: left;
+    width: 150px;
+}
+.form_pr fieldset br{
+    clear: left;
+}
+.form_pr fieldset #enviar{
+    margin-left: 158px;
+}
+.form_pr textarea{
+    float: left;
+    width: 100%;
+    height: 100px;
+}
+
+#loading {
+    border: 1px solid #CCCCCC;
+    height: auto;
+    left: 0;
+    right: 0;
+    
+    padding: 2px;
+    position: absolute;
+    top: 30%;
+    z-index: 20001;
+    max-width: 300px;
+    width: 80%;
+    display: block;
+    margin: 0 auto;
+}
+
+#loading .loading-indicator {
+    background: none repeat scroll 0 0 white;
+    color: #444444;
+    font: bold 13px tahoma,arial,helvetica;
+    height: auto;
+    margin: 0;
+    padding: 10px;
+}
+#loading .loading-indicator img {
+    float: left;
+    margin-right: 8px;
+    vertical-align: top;
+}
+
+#loading-title {
+    min-width: 200px;
+    display: inline-block;
+    text-align: left;
+}
+
+#loading-msg {
+    min-width: 200px;
+    display: inline-block;
+    font: 10px arial,tahoma,sans-serif;
+    color: #666666;
+    text-align: left;
+}
+
+.overlay {
+    background: none repeat scroll 0 0 #000000;
+    height: 100%;
+    left: 0;
+    filter:alpha(opacity=75);
+    -moz-opacity:0.75;
+    opacity:0.75;
+    position: fixed;
+    top: 0;
+    width: 100%;
+    z-index: 1001;
+    display: none;
+}
+
+
+div._msg{
+    float: left;
+    clear: left;
+    width: 100%;
+    margin: 5px 0;
+    padding: 5px;
+}
+div._msg span{
+    float: right;
+    line-height: 14px;
+    text-align: left;
+    width: 90%;
+    font-size: 10px;
+}
+
+div._msgError{
+    background: #f6dfdf  url("/imagenes/iconos/st_icowar.gif") center left no-repeat;
+    border: 1px solid #f9c9c9;
+}
+div._msgError span{
+    color: #f05c60;
+}
+div._msgOk{
+    background: #e1f8eb  url("/imagenes/iconos/tick.png") center left no-repeat;
+    border: 1px solid #a7c5a3;
+}
+div._msgOk span{
+    color: #2a3923;
+}
+
+
+._info {
+    background: url(./imagenes/infobar_right.gif) no-repeat scroll right top white;
+    border: 0 none;
+    cursor: pointer;
+    display: block;
+    font-size: 11px !important;
+    font-style: italic;
+    font-weight: bold;
+    height: 30px;
+    margin-bottom: 10px !important;
+    margin-left: 25px;
+    margin-right: 25px;
+    margin-top: 5px;
+    overflow: hidden;
+    padding: 0 !important;
+    text-align: -webkit-auto;
+    width: 65%;
+    
+    
+    
+}
+._info .info_inner {
+    display: block;
+    height: 30px;
+    padding: 6px 25px 0 30px;
+}
+#success .info_inner {
+    background: url("./imagenes/iconos/icon_success.gif") no-repeat scroll left top transparent;
+    border: 0 none;
+    color: #3B8795;
+}
+#error .info_inner {
+    background: url("./imagenes/iconos/icon_error.gif") no-repeat scroll left top transparent;
+    border: 0 none;
+    color: #D14836;
+}
+#warning .info_inner {
+    background: url("./imagenes/iconos/icon_warning.gif") no-repeat scroll left top transparent;
+    border: 0 none;
+    color: #E89326;
+}
+
+#info .info_inner {
+    background: url("./imagenes/iconos/icon_info.gif") no-repeat scroll left top transparent;
+    border: 0 none;
+    color: #4985B2;
+}
+
+.tpsv{
+    background-color: #552F44;
+    border: 1px solid #4B0082;
+    border-radius: 0;
+    left: 0 !important;
+    opacity: 0.3;
+    
+    position: relative;
+    top: 0;
+    text-align: center;
+}
+.tpsv span{
+    color: #FFF;
+    font-weight: bold;
+}
+.err{
+    color: #f05c60;
+}
+
+.sboxTarjetas{
+    background-color: #EEEEEE;
+    border: 1px solid #AAA;
+    float: right;
+    padding: 5px;
+    width: 250px;    
+    margin-top: 8px;
+    color: #999;
+    line-height: 18px;
+}
+.sboxTarjetas h3{
+    color: #666;
+}
+
+#topBarsBox{
+    width: 100%;
+    
+    background-color: #5C2946;
+    border-bottom: 2px solid #442035;
+}
+
+#topBarsBox #center{
+    width: 100%;
+    margin: 0 auto;
+    text-align: center;
+    line-height: 16px;
+    color: #fff;
+    padding: 5px 2px 2px 2px;
+}
+._error{
+    background-color: #5B283E;
+    float: left;
+    min-height: 60px;
+    padding: 20px 5px 5px;
+    text-align: center;
+    width: 788px;
+    margin: 50px 0;
+}
+._error div{
+    float: left;
+    margin-top: 0;
+    padding: 0 10px;
+    width: 768px;   
+}
+._error div img{
+    float: left;
+}
+._error span{
+    color: #FFFFFF;
+    float: left;
+    font-size: 18px;
+    margin-top: 9px;
+    width: 709px; 
+}
+._error span a{
+    color: #AA9EA3;
+}
+.red{
+    border: #DD4B39;    
+}
+.h{
+    display: none;
+}
+.fc-field-error {
+    border : 1px solid #DD4B39 !important;
+}
+
+
+#tblDashSR{
+    background-color: #F9F9F9;
+}
+
+#tblDashSR td{
+    width: 20%;
+    height: 50px;
+    text-align: center;
+    font-size: 14px;
+    border-right: 1px #EBEBEB solid;
+}
+
+.tblLast{
+    background-color: #EBEBEB;
+    font-weight: bold;
+    border-right: none !important;
+}
+
+#tblTrans{
+    margin-top: 5px;
+    width: 100%;
+}
+
+#tblTrans thead, .titulos_productos{
+    color: #FFFFFF;
+    background-color: #552F44;
+    font-weight: bold;
+}
+
+#tblTrans th, #tblTrans td{
+    padding: 5px;
+}
+
+.tblTransLast{
+    text-align: center;
+}
+
+#tblTrans th{
+    text-align: center;
+}
+
+.odd{
+    background-color: #ededed;
+}
+
+.even{
+
+}
+
+.titulos_productos p{
+    text-align: center;
+}
+
+.cant, .desc, .dolar, .precio, .dolar_precio{
+    margin: -1px;
+    padding: 0px;
+    display: inline-block;
+    *display: inline;
+    zoom: 1;
+    padding: 5px;
+}
+
+.cant{
+    width: 60px;
+    text-align: center;
+}
+
+.desc{
+    width: 380px;
+}
+
+.dolar{
+    margin-left: 10px;
+    width: 35px;
+}
+
+.precio{
+    width: 45px;
+    text-align: right;
+    margin-right: 10px;
+}
+
+.dolar_precio{
+    width: 115px;
+}
+
+.tblDet{
+    width: 100%;
+    border: 1px solid #BAB9B9;
+    margin: 5px 0;
+}
+.tblDet .center{
+    text-align: center;
+}
+.tblDet thead{
+    background: none repeat scroll 0 0 #D9D8D8;
+    color: #464646;
+    font-size: 12px;
+}
+.tblDet thead tr{
+    height: 31px;
+}
+.tblDet thead tr th{
+    border-bottom: 1px solid #BAB9B9;
+}
+.tblDet tbody{
+    color: #646264;
+}
+.tblDet tbody tr{
+    height: 31px;
+}
+.tblDet tbody tr.band{
+    background-color: #F7F7F7;
+}
+.tblDet tbody tr td{
+    padding: 5px 0;
+}
+
+.footnotes{
+    color: #646264;
+    font-size: 8px;
+}
+
+#wrapper {
+    
+    
+    
+    
+    
+    
+    background-color: #ffffff;
+}
+#header {
+    
+    
+    
+    font-size: 11px;
+}
+#content {
+    
+    
+    
+    
+}
+
+#contactanos{
+    height: 282px;
+    padding: 0 100px 0 100px;
+}
+
+#contactanos .left{
+    float: left;
+    padding-top: 1px;
+    width: 325px; 
+    margin: 0 auto;
+}
+
+#contactanos .right{
+    float: right;
+    padding-top: 1px; 
+    width: 350px; 
+    margin: 0 auto;
+}
+
+#menu-bar{
+    width: 100%;
+    height: 30px;
+    margin-top: 25px;
+}
+
+#menu-bar ul{
+    margin: 0;
+    padding: 0;
+    float: right;
+}
+
+#menu-bar ul li{
+    float: left;
+    vertical-align: middle;
+    list-style: none;
+    width: 183px;
+    height: 26px;
+    padding: 2px 0 2px 0;
+    margin-right: 10px;
+}
+
+#menu-bar ul li img{
+    width: 30px;
+    height: 26px;
+    background-image: url("imagenes/menu_bar.png");
+    display: inline-block;
+    float: left;
+    margin-right: 5px;
+}
+
+#menu-bar ul li a{
+    height: 20px;
+    padding-top: 4px;
+    display: block;
+    float: left;
+    text-decoration: none;
+    font-size: 16px;
+    color: #8b9396;
+}
+
+#menu-bar ul li a:hover, .menu-opt-selected a{
+    color: #552F44 !important;
+}
+
+#menu-opt-inicio img{
+    background-position: -27px -3px;
+}
+
+#menu-opt-recarga img{
+    background-position: -27px -3px;
+}
+
+#menu-opt-recarga-selected img{
+    background-position: 3px -3px;
+}
+
+#menu-opt-retiro img{
+    background-position: -80px -3px;
+}
+
+#menu-opt-retiro-selected img{
+    background-position: -55px -3px;
+}
+
+#menu-opt-transferencia img{
+    background-position: -136px -3px;
+}
+
+#menu-opt-transferencia-selected img{
+    background-position: -107px -3px;
+}
+
+#menu-opt-tarjetas img{
+    background-position: -202px -3px;
+}
+
+#menu-opt-tarjetas-selected img{
+    background-position: -169px -3px;
+}
+
+#menu-opt-invoice img{
+    background-position: -269px -3px;
+}
+
+#menu-opt-invoice-selected img{
+    background-position: -236px -3px;
+}
+
+
+#win_contact { width: 900px; margin: 0 auto; }
+#win_contact .title { width: 900px; text-transform: uppercase; font-size: 14px; padding-bottom: 2px; border-bottom: 1px solid #ccc; margin: 10px 0; }
+#win_contact #email { width: 900px; margin: 0 auto 40px auto;  }
+#win_contact #email a { font-size: 12px; color: #333; text-decoration: none; }
+#win_contact #email a:hover { text-decoration: underline; }
+#win_contact #telephone { width: 900px; margin: 0 auto 40px auto; font-size: 12px; }
+#win_contact #telephone .telBox {  }
+#win_contact #address { width: 900px; }
+#win_contact #address #mainAdds { width: 900px; margin: 0 auto; font-size: 12px; }
+#win_contact #address #mainAdds .mAddBox { width: 450px; height: 125px; float: left; }
+#win_contact #address #mainAdds .mAddBox div { font-size: 14px; color: #000; text-transform: uppercase; margin-bottom: 5px; }
+#win_contact #address #mainAdds .mAddBox strong { display: block; }
+#win_contact #address #secAdds { width: 900px; margin: 10px auto 0 auto; padding: 10px 0; background-color: #f0f0f0; }
+#win_contact #address #secAdds .sAddBox { float: left; width: 300px; height: 60px; font-size: 11px; line-height: 13px; }
+#win_contact #address #secAdds .sAddBox div { font-weight: bold; margin-bottom: 3px; }
+.clear{
+    clear: both;
+}
+
+
+.error_procesamiento {
+    width: auto;
+    height: auto;
+    margin: 10px 15px 10px 15px;
+    padding: 10px 25px 10px 30px;
+    background-color: #ffffff;
+    border: 1px solid #cccccc;
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+	display: flex;
+}
+
+.error_procesamiento .span_icono {
+    width: 25px;
+    height: 25px;
+    margin: 0 10px 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-color: #3772B9;
+    border: 0px none;
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+    font-family: serif;
+    font-size: 12px;
+    color: #ffffff;
+    line-height: 25px;
+    text-align: center;
+}
+
+.error_procesamiento .span_mensaje {
+    display: inline-block;
+    font-family: 'Ubuntu',sans-serif;
+    font-size: 12px;
+    color: #545454;
+    line-height: normal;
+	width: 80%;
+}
+
+
+.error_procesamiento_li {
+    width: auto;
+    height: auto;
+    margin: 10px 0 10px 0;
+    padding: 10px 25px 10px 10px;
+    background-color: #ffffff;
+    border: 1px solid #cccccc;
+    -webkit-border-radius: 10px;
+    -moz-border-radius: 10px;
+    border-radius: 10px;
+}
+
+.error_procesamiento_li .span_icono {
+    width: 35px;
+    height: 35px;
+    margin: 0 10px 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    float: left;
+    background-color: #3772B9;
+    border: 0px none;
+    -webkit-border-radius: 100%;
+    -moz-border-radius: 100%;
+    border-radius: 100%;
+    font-family: serif;
+    font-size: 12px;
+    color: #ffffff;
+    line-height: 35px;
+    text-align: center;
+}
+
+.error_procesamiento_li .span_mensaje {
+    width: 901px;
+    display: block;
+    float: left;
+    font-family: 'Ubuntu',sans-serif;
+    font-size: 12px;
+    color: #545454;
+    line-height: normal;
+}
Index: branches/b-20180319.02/ppal.js
===================================================================
--- trunk/ppal.js	(revision 3384)
+++ branches/b-20180319.02/ppal.js	(revision 3579)
@@ -93,4 +93,11 @@
     WindowObject.print();
     WindowObject.close();
+}
+function printDiv(ctrl) {
+     var printContents = document.getElementById(ctrl).innerHTML;
+     var originalContents = document.body.innerHTML;
+     document.body.innerHTML = printContents;
+     window.print();
+     document.body.innerHTML = originalContents;
 }
 
Index: branches/b-20180319.02/tema/sitio/css/adminpos.css
===================================================================
--- trunk/tema/sitio/css/adminpos.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/adminpos.css	(revision 3579)
@@ -29,5 +29,4 @@
 #frmAgregarSucursal .informacion select {
     border: 1px solid #aaaaaa;
-    width: 300px;
 }
 
@@ -54,5 +53,4 @@
 #frmAgregarTerminal .informacion select {
     border: 1px solid #aaaaaa;
-    width: 300px;
 }
 
@@ -74,5 +72,5 @@
 /* pantalla de descarga aplicación PC */
 #ul_versiones_descarga {
-    margin: 0 0 20px 0;
+    /* margin: 0 0 20px 0; */
 }
 
@@ -94,5 +92,5 @@
 #ul_versiones_descarga li .lbl_sha1_checksum {
     margin: 0 0 0 50px;
-    width: 450px;
+    width: auto;
     display: inline-block;
     font-size: 10px;
Index: branches/b-20180319.02/tema/sitio/css/cregistro.css
===================================================================
--- trunk/tema/sitio/css/cregistro.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/cregistro.css	(revision 3579)
@@ -5,5 +5,4 @@
     margin: 0 auto;
     text-align: justify;
-    width: 800px;
 }
 .informacion tr td {
Index: branches/b-20180319.02/tema/sitio/css/dashboard.css
===================================================================
--- trunk/tema/sitio/css/dashboard.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/dashboard.css	(revision 3579)
@@ -1,14 +1,11 @@
 .section{
     width: 100%;
-    height: auto;
-    min-height: 130px;
-    margin: 10px 0 0 0;
+    margin: 15px 0 0 0;
 }
 
 .section-title{
     width: 100%;
-    height: 22px;
-    margin: 0 0 10px 0; 
-    padding: 3px 0 0 10px;
+    margin: 0;
+    padding: 7px 0 7px 10px;
     font-size: 15px;
     font-weight: bold;
@@ -45,8 +42,4 @@
 }
 
-.left-content, .right-content, .wide-content{
-    height: auto;
-    min-height: 130px;
-}
 
 .left-content{
@@ -65,21 +58,4 @@
 }
 
-.row-content{
-    width: 100%;
-    height: 130px;
-    margin: 0 0 10px 0;
-}
-
-.first-row-content{
-    margin: 0;
-}
-
-.access{
-    width: 130px;
-    height: 130px;
-    float: left;
-    margin: 0 5px 0 5px;
-}
-
 .access:hover{
     cursor: pointer;
@@ -94,8 +70,4 @@
     cursor: default;
     background-color: #f4f4f4;
-}
-
-.first-access{
-    margin-left: 15px;
 }
 
@@ -110,5 +82,5 @@
     padding: 41px;
     display: block;
-    margin: 10px auto 0;
+    margin: 10px auto 0 auto;
     border: 0;
     background-image: url("../../../img/iconos_dashboard.png");
@@ -257,4 +229,16 @@
 }
 
+#icon-reporte_ventas_revision {
+    background-position: -975px -305px;
+}
+
+#icon-refund {
+    background-position: -953px -400px;
+}
+
+#icon-refundRep {
+    background-position: -969px -515px;
+}
+
 .access p{
     margin: 5px 0 0 0;
@@ -278,5 +262,5 @@
 
 .total p{
-    margin: 44px 0 0 0;
+    margin: 36px 0 0 0;
     font-size: 20px;
     font-weight: bold;
@@ -286,10 +270,10 @@
 
 .total strong{
-    font-size: 30px;
+    font-size: 24px;
 }
 
 .total a{
-    width: 80px;
-    height: 18px;
+    width: 100px;
+    height: 27px;
     background-image: url("../../../img/iconos_dashboard.png");
     background-position: -847px -958px;
@@ -299,5 +283,5 @@
     text-decoration: none;
     outline: none;
-    padding: 5px 0 0 7px;
+    padding: 5px 0 5px 7px;
     margin: 0 0 0 0;
 }
@@ -311,22 +295,16 @@
 #dhb_progreso {
     margin: 25px 0 0 0;
+    background: #37a6ad;
 }
 
 #dhb_progreso #dhb_left {
-    width: 352px;
-    height: 151px;
-    margin: 0 0 0 0;
-    padding: 0 0 0 0;
-    float: left;
     background-color: #37a6ad;
 }
 
 #dhb_progreso #dhb_left #dhb_p_porcentaje {
-    width: 295px;
-    margin: 57px auto 0 auto;
-    padding: 0 0 0 0;
     font-family: 'Ubuntu';
     font-size: 13px;
     color: #ffffff;
+    text-align: center;
 }
 
@@ -337,5 +315,5 @@
 
 #dhb_progreso #dhb_left #dhb_bp_back {
-    width: 295px;
+    width: 100%;
     height: 25px;
     margin: 3px auto 0 auto;
@@ -355,14 +333,8 @@
 
 #dhb_progreso #dhb_right {
-    width: 647px;
-    height: 151px;
-    margin: 0 0 0 0;
-    padding: 0 0 0 0;
-    float: right;
+    background: #545555;
 }
 
 #dhb_progreso #dhb_right #dhb_p_indicacacion {
-    height: 25px;
-    margin: 0 0 0 0;
     padding: 0 0 0 12px;
     background-color: #f4f4f4;
@@ -371,12 +343,10 @@
     color: #545454;
     line-height: 25px;
+    margin-top: 0;
 }
 
 #dhb_progreso #dhb_right #dhb_pasos_faltantes {
-    height: 126px;
-    margin: 0 0 0 0;
-    padding: 0 0 0 0;
+    
     background-color: #545555;
-    overflow: hidden;
 }
 
@@ -425,4 +395,5 @@
     width: auto;
     float: left;
+    line-height: 38px;
 }
 
@@ -460,5 +431,5 @@
     width: 114px;
     height: 27px;
-    margin: -5px 5px 0 5px;
+    margin: 5px 5px 0 5px;
     padding: 0 0 0 0;
     display: inline-block;
@@ -482,5 +453,5 @@
     width: 120px;
     height: 27px;
-    margin: -5px 0 0 0;
+    margin: 5px 0 0 0;
     padding: 0 0 0 0;
     display: inline-block;
Index: branches/b-20180319.02/tema/sitio/css/dashboard_r.css
===================================================================
--- branches/b-20180319.02/tema/sitio/css/dashboard_r.css	(revision 3579)
+++ branches/b-20180319.02/tema/sitio/css/dashboard_r.css	(revision 3579)
@@ -0,0 +1,510 @@
+.section{
+    width: 100%;
+    height: auto;
+    min-height: 130px;
+    margin: 10px 0 0 0;
+}
+
+.section-title{
+    width: 100%;
+    height: 22px;
+    margin: 0 0 10px 0; 
+    padding: 3px 0 0 10px;
+    font-size: 15px;
+    font-weight: bold;
+    color: #fff;
+}
+
+#title-saldo, #title-saldousu{
+    background-color: #47959f;
+}
+
+#title-operaciones, #title-operacionesusu{
+    background-color: #866884;
+}
+
+#title-reportes, #title-reportesusu{
+    background-color: #aa8646;
+}
+
+#title-configuracion{
+    background-color: #905353;
+}
+
+#title-administracion, #title-administracionusu{
+    background-color: #9a496c;
+}
+
+#title-micuenta{
+    background-color: #4689a7;
+}
+
+.left-content, .right-content{
+    width: 333px;
+    background-color: #f4f4f4;
+}
+
+.left-content, .right-content, .wide-content{
+    height: auto;
+    min-height: 130px;
+}
+
+.left-content{
+    float: left;
+    margin: 0 0 0 0;
+}
+
+.right-content{
+    float: right;
+    margin: 0 0 0 0;
+}
+
+.wide-content{
+    width: 100%;
+    background-color: #f4f4f4;
+}
+
+.row-content{
+    width: 100%;
+    height: 130px;
+    margin: 0 0 10px 0;
+}
+
+.first-row-content{
+    margin: 0;
+}
+
+.access{
+    width: 130px;
+    height: 130px;
+    float: left;
+    margin: 0 5px 0 5px;
+}
+
+.access:hover{
+    cursor: pointer;
+    background-color: #E8EAEA;
+}
+
+.disabled{
+    color: #c5c5c5;
+}
+
+.disabled:hover{
+    cursor: default;
+    background-color: #f4f4f4;
+}
+
+.first-access{
+    margin-left: 15px;
+}
+
+.access a{
+    text-decoration: none;
+    outline: none;
+}
+
+.access img{
+    width: 0px;
+    height: 0px;
+    padding: 41px;
+    display: block;
+    margin: 10px auto 0;
+    border: 0;
+    background-image: url("../../../img/iconos_dashboard.png");
+}
+
+.disabled img{
+    width: 0px;
+    height: 0px;
+    padding: 41px;
+    display: block;
+    margin: 10px auto 0;
+    border: 0;
+    background-image: url("../../../img/iconos_disabled_dashboard.png");
+}
+
+#icon-saldoreal{
+    background-position: -754px -575px;
+}
+
+#icon-saldocongelado {
+    background-position: -381px -1000px;
+}
+
+#icon-fondosrecibir{
+    background-position: -853px -573px;
+}
+
+#icon-recargas{
+    background-position: -45px -13px;
+}
+
+#icon-retiros{
+    background-position: -380px -897px;
+}
+
+#icon-transferencias{
+    background-position: -462px -20px;
+}
+
+#icon-admintarjetas{
+    background-position: -681px -15px;
+}
+
+#icon-cobros{
+    background-position: -869px -14px;
+}
+
+#icon-repventas{
+    background-position: -43px -212px;
+}
+
+#icon-reprecargas{
+    background-position: -381px -527px;
+}
+
+#icon-repretiros{
+    background-position: -371px -617px;
+}
+
+#icon-reptransferencias{
+    background-position: -371px -709px;
+}
+
+#icon-reppagos{
+    background-position: -381px -804px;
+}
+
+#icon-reptarjetas{
+    background-position: -774px -769px;
+}
+
+#icon-repactividad{
+    background-position: -376px -218px;
+}
+
+#icon-repacreditaciones{
+    background-position: -768px -863px;
+}
+
+#icon-repcobros{
+    background-position: -714px -215px;
+}
+
+#icon-facturacion{
+    background-position: -885px -212px;
+}
+
+#icon-reprecurrencia{
+    background-position: -378px -427px;
+}
+
+#icon-parametrosintegracion{
+    background-position: -41px -412px;
+}
+
+#icon-terminales{
+    background-position: -202px -415px;
+}
+
+#icon-cuenta{
+    background-position: -41px -604px;
+}
+
+#icon-credencialesacceso{
+    background-position: -203px -612px;
+}
+
+#icon-admincorreo{
+    background-position: -754px -677px;
+}
+
+#icon-cambiarpass{
+    background-position: -44px -810px;
+}
+
+#icon-mensajeria{
+    background-position: -203px -806px;
+}
+
+#icon-admincuentasbancarias {
+    background-position: -44px -981px;
+}
+
+#icon-facturaciondatos{
+    background-position: -202px -983px;
+}
+
+#icon-webhooks {
+    background-position: -853px -1005px;
+}
+
+#icon-repactvpc {
+    background-position: -545px -1075px;
+}
+
+#icon-adminpos {
+    background-position: -842px -392px;
+}
+
+#icon-reppagosrecurrentes {
+    background-position: -1056px -120px;
+}
+
+#icon-enlacepago {
+    background-position: -1060px -220px;
+}
+
+#icon-refund {
+    background-position: -1060px -220px;
+}
+
+.access p{
+    margin: 5px 0 0 0;
+    text-align: center;
+    color: #30464c;
+    font-size: 12px;
+}
+
+.disabled p{
+    margin: 5px 0 0 0;
+    text-align: center;
+    color: #555;
+    font-size: 12px;
+}
+
+.total{
+    width: 183px;
+    height: 130px;
+    float: right;
+}
+
+.total p{
+    margin: 44px 0 0 0;
+    font-size: 20px;
+    font-weight: bold;
+    color: #157f8d;
+    text-align: left;
+}
+
+.total strong{
+    font-size: 30px;
+}
+
+.total a{
+    width: 80px;
+    height: 18px;
+    background-image: url("../../../img/iconos_dashboard.png");
+    background-position: -847px -958px;
+    display: block;
+    color: #fff;
+    font-size: 12px;
+    text-decoration: none;
+    outline: none;
+    padding: 5px 0 0 7px;
+    margin: 0 0 0 0;
+}
+
+/* barra de progreso de registro */
+
+.dhb_clear {
+    clear: both;
+}
+
+#dhb_progreso {
+    margin: 25px 0 0 0;
+}
+
+#dhb_progreso #dhb_left {
+    width: 352px;
+    height: 151px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: left;
+    background-color: #37a6ad;
+}
+
+#dhb_progreso #dhb_left #dhb_p_porcentaje {
+    width: 295px;
+    margin: 57px auto 0 auto;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 13px;
+    color: #ffffff;
+}
+
+#dhb_progreso #dhb_left #dhb_p_porcentaje strong {
+    font-size: 31px;
+    font-weight: normal;
+}
+
+#dhb_progreso #dhb_left #dhb_bp_back {
+    width: 295px;
+    height: 25px;
+    margin: 3px auto 0 auto;
+    padding: 0 0 0 0;
+    background-color: #2b7e83;
+    border: 0px none;
+    border-radius: 5px;
+}
+
+#dhb_progreso #dhb_left #dhb_bp_back #dhb_bp_activo {
+    height: 25px;
+    padding: 0 0 0 0;
+    background-color: #ffffff;
+    border: 0px none;
+    border-radius: 5px;
+}
+
+#dhb_progreso #dhb_right {
+    width: 647px;
+    height: 151px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: right;
+}
+
+#dhb_progreso #dhb_right #dhb_p_indicacacion {
+    height: 25px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 12px;
+    background-color: #f4f4f4;
+    font-family: 'Ubuntu';
+    font-size: 13px;
+    color: #545454;
+    line-height: 25px;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes {
+    height: 126px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #545555;
+    overflow: hidden;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes {
+    margin: 10px 0 0 12px;
+    padding: 0 0 0 0;
+    list-style-position: inside;
+    list-style-type: none;
+    color: #37a6ad;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li {
+    margin: 0 0 14px 0;
+    padding: 0 0 0 18px;
+    background-image: url("../../../img/version_2/pg_dashboard_bullet.jpg");
+    background-position: 0px 5px;
+    background-repeat: no-repeat;
+    font-family: 'Ubuntu';
+    font-size: 15px;
+    color: #ffffff;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li a {
+    font-family: 'Ubuntu';
+    font-size: 15px;
+    color: #ffffff;
+    text-decoration: underline;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li a:hover {
+    color: #06eefc;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li #validarCorreo1 {
+    margin: 0 5px 0 0;
+    
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li #validarCorreo {
+    
+}
+
+#validarCorreo p{
+    margin: 0;
+    height: auto;
+    width: auto;
+    float: left;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li #validarCorreo #lbCorreo {
+    font-weight: normal;
+    color: #06eefc;
+}
+
+#btnReenviarCorreo{
+    width: 40px !important;
+}
+
+#btnModificarCorreo{
+    width: 40px !important;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li #editarCorreo {
+    float: left;
+    margin-top: 10px;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li #editarCorreo #txtCorreo {
+    width: 168px;
+    height: 28px;
+    margin: -10px 0 0 0;
+    float: left;
+    background-color: #ffffff;
+    border: 1px solid #9c9b9b;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+}
+
+/* botones nuevos */
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li .pg_btn_gris {
+    width: 114px;
+    height: 27px;
+    margin: -5px 5px 0 5px;
+    padding: 0 0 0 0;
+    display: inline-block;
+    float: left;
+    background-color: #a1a1a1;
+    border: 0px none;
+    border-radius: 5px 5px 5px 5px;
+    font-family: 'Noto Sans', verdana;
+    font-size: 12px;
+    color: #ffffff;
+    text-align: center;
+    text-shadow: 2px 2px rgba(0, 0, 0, 0.29);
+    cursor: pointer;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li .pg_btn_gris:hover {
+    background-color: #c6c4c4;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li .pg_btn_verde {
+    width: 120px;
+    height: 27px;
+    margin: -5px 0 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    float: left;
+    background-color: #38a6ad;
+    border: 0px none;
+    border-radius: 5px 5px 5px 5px;
+    font-family: 'Noto Sans', verdana;
+    font-size: 12px;
+    color: #ffffff;
+    text-align: center;
+    line-height: 27px;
+    text-shadow: 2px 2px rgba(0, 0, 0, 0.29);
+    cursor: pointer;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li .pg_btn_verde:hover {
+    background-color: #5fc9d0;
+}
+
+#dhb_progreso #dhb_right #dhb_pasos_faltantes #dhb_ul_pasos_faltantes li #lbMensaje {
+    color: #06eefc;
+}
Index: branches/b-20180319.02/tema/sitio/css/enlacepago.css
===================================================================
--- trunk/tema/sitio/css/enlacepago.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/enlacepago.css	(revision 3579)
@@ -1,6 +1,2 @@
-#frmEnlace{
-    width: 810px;
-}
-
 #botones{
     margin-top: 10px;
@@ -16,8 +12,4 @@
     position: relative;
     margin: 20px 0;
-}
-
-#tblItems{
-    float: left;
 }
 
@@ -36,10 +28,10 @@
 
 #tblItems td:nth-child(1){
-    width: 520px;
+    
     text-align: left;
 }
 
 .txtConcepto{
-    width: 518px;
+    width: 100%;
 }
 
@@ -50,21 +42,18 @@
 
 #lbTotal{
-    float: right;
-    margin: 5px 41px 0 0;
+	margin: 0 6px 0 3px;
     font-weight: bold;
 }
 
 #btnAgregar{
-    float: right;
-    position: absolute;
-    bottom: 26px;
-    margin: 0 0 0 5px;
+	margin: 0 0 0 5px;
+    width: 25px;
+    height: 25px;
 }
 #btnEliminar{
-    visibility: hidden;
-    float: right;
-    position: absolute;
-    bottom: 26px;
-    margin: 0 0 0 35px;
+	visibility: hidden;
+    margin: 0 15px 0 4px;
+    width: 25px;
+    height: 25px;
 }
 input[type=text]{
@@ -85,6 +74,8 @@
     border: 1px solid #3b8795;
     border-radius: 5px;
-    width: 450px;
+	width: 100%;
     text-align: center;
+    max-width: 450px;
+	word-break: break-all;
 }
 
Index: branches/b-20180319.02/tema/sitio/css/inv.css
===================================================================
--- trunk/tema/sitio/css/inv.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/inv.css	(revision 3579)
@@ -1,17 +1,5 @@
-#frmNewInvoice, #verNewInvoice{
-    width: 810px;
-}
-
-.left{
-    float: left;
-}
-
-.right{
-    float: right;
-    padding-top: 53px;
-}
 
 .left, .right{
-    width: 405px;
+    width: 100%;
 }
 
@@ -26,17 +14,14 @@
 
 input[name=txtCorreo], input[name=txtFechaCobro]{
-    margin-right: 3px;;
+    margin-right: 3px;
 }
 
 #items{
     height: auto;
-    min-height: 60px;
     position: relative;
-    margin: 20px 0;
-}
-
-#tblItems{
-    float: left;
-}
+    margin: 0px 0 0px 0;
+    width: 100%;
+}
+
 
 #tblItems th{
@@ -48,16 +33,17 @@
 
 #tblItems td{
-    width: 70px;
-    padding: 5px;
-    text-align: right;
+    
+    padding: 5px;
+    text-align: right;
+    vertical-align: middle;
 }
 
 #tblItems td:nth-child(1){
-    width: 520px;
+    
     text-align: left;
 }
 
 .txtConcepto{
-    width: 518px;
+    width: 100%;
 }
 
@@ -68,26 +54,30 @@
 
 #lbTotal{
-    float: right;
-    margin: 5px 41px 0 0;
+    
+    margin: 0 6px 0 3px;
     font-weight: bold;
 }
 
 #btnAgregar{
-    float: right;
-    position: absolute;
-    bottom: 26px;
+    
+    
+    
     margin: 0 0 0 5px;
+	width: 25px;
+    height: 25px;
 }
 #btnEliminar{
     visibility: hidden;
-    float: right;
-    position: absolute;
-    bottom: 26px;
-    margin: 0 0 0 35px;
+    
+    
+    
+    margin: 0 15px 0 4px;
+    width: 25px;
+    height: 25px;
 }
 
 input[type=text]{
-    height: 20px;
-    font-size: 12px;
+    height: 30px;
+    font-size: 14px;
     -moz-transition: border 0.2s linear 0s, box-shadow 0.2s linear 0s;
     box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) inset;
@@ -95,4 +85,8 @@
     border-style: solid;
     border-width: 1px;
+}
+select{
+    height:30px;
+    font-size: 14px;
 }
 
@@ -114,7 +108,7 @@
 }
 
-#botones{
-    text-align: right;
+#botones{    
     margin-top: 10px;
+    margin-bottom: 20px;
 }
 
@@ -123,10 +117,10 @@
 }
 
-#tblListado, #tblListado_cobros{
-    margin: 5px 0 5px 0;
-    width: 100%;
-}
-
-#tblListado thead, #tblListado_cobros thead{
+#tblListado {
+    margin: 20px 0 5px 0;
+    width: 100%;
+}
+
+#tblListado thead {
     color: #FFFFFF;
     background-color: #552F44;
@@ -134,17 +128,49 @@
 }
 
-#tblListado th, #tblListado td, #tblListado_cobros th, #tblListado_cobros td{
-    padding: 5px;
-}
-
-#tblListado th, #tblListado_cobros th{
-    text-align: center;
-}
-
-#tblListado td:nth-child(2), #tblListado_cobros td:nth-child(2){
-    text-align: right;
-}
-
-#tblListado td:nth-child(4), #tblListado td:nth-child(5), #tblListado td:nth-child(6), #tblListado_cobros td:nth-child(3), #tblListado_cobros td:nth-child(4){
+#tblListado th, #tblListado td {
+    padding: 5px;
+}
+
+#tblListado th {
+    text-align: center;
+}
+
+#tblListado td:nth-child(4) {
+    text-align: right;
+}
+
+#tblListado td:nth-child(5),
+#tblListado td:nth-child(6),
+#tblListado td:nth-child(7),
+#tblListado td:nth-child(8) {
+    text-align: center;
+}
+
+/* tblListado_cobros */
+
+#tblListado_cobros {
+    margin: 5px 0 5px 0;
+    width: 100%;
+}
+
+#tblListado_cobros thead{
+    color: #FFFFFF;
+    background-color: #552F44;
+    font-weight: bold;
+}
+
+#tblListado_cobros th, #tblListado_cobros td{
+    padding: 5px;
+}
+
+#tblListado_cobros th{
+    text-align: center;
+}
+
+#tblListado_cobros td:nth-child(2){
+    text-align: right;
+}
+
+#tblListado_cobros td:nth-child(3), #tblListado_cobros td:nth-child(4){
     text-align: center;
 }
@@ -183,6 +209,6 @@
 .ern_warning{
     background: url("/imagenes/iconos/st_icowar.gif") center left no-repeat;
-    padding-left: 22px;
-    margin: 0px 20px;
+    padding-left: 17px;
+    margin: 0px 0px;
 }
 #ern_warning{
@@ -190,11 +216,9 @@
 }
 
-/*
-Batch Invoices
-*/
+
 
 .instrucciones_batch {
     font-family: Noto Sans,verdana;
-    /*font-size: 12px;*/
+    
     min-height: 200px;
 }
@@ -240,4 +264,20 @@
 
 }
+@media (min-width: 768.5px) {
+	form div {
+		display: inline-block;
+		padding-top: 7px;
+		padding-right: 1px;
+		padding-bottom: 7px;
+		padding-left: 1px;
+	}
+	button.p-button, input[type=submit].p-button {
+		height: 30px;
+		line-height: 28px;
+		vertical-align: middle;
+		margin-top: -5px;
+	}
+}
+
 .formulario form table {
     margin-left: 25px;
@@ -257,5 +297,5 @@
 
 .fileBatchInvoice + label {
-    max-width: 80%;
+    max-width: 90%;
     font-size: 11px;
     font-weight: 700;
@@ -266,8 +306,8 @@
     overflow: hidden;
     padding: 0.625rem 1.25rem;
-    /*color: #f1e5e6;*/
+    
     background-color: #f5f5f5;
 }
-/*#f5f5f5*/
+
 
 .fileBatchInvoice + label svg {
@@ -286,5 +326,5 @@
 }
 
-/* proceso de importacion de archivo */
+
 #div_proceso_importacion {
     margin: 25px 0 0 0;
@@ -292,5 +332,5 @@
 
 #div_proceso_importacion ol li {
-    height: 20px;
+    
     margin: 0 0 10px 0;
     line-height: 20px;
@@ -334,5 +374,5 @@
 }
 
-/* detalles de errores en proceso de importacion */
+
 #div_resultados_importacion .h2_bi_titulo_detalle {
     font-family: Arial, Verdana;
@@ -400,5 +440,5 @@
 
 #recurrencia select{
-    width: 184px;
+    
     font-size: 12px;
 }
Index: branches/b-20180319.02/tema/sitio/css/refund.css
===================================================================
--- branches/b-20180319.02/tema/sitio/css/refund.css	(revision 3579)
+++ branches/b-20180319.02/tema/sitio/css/refund.css	(revision 3579)
@@ -0,0 +1,750 @@
+@import "../../../css/datepicker/datepicker_vista/datepicker_vista.css";
+@import "../../../css/datepicker/datepicker.css";
+.tblListado{
+    margin: 5px 0 5px 0;
+    width: 100%;
+}
+
+.tblListado thead{
+    color: #FFFFFF;
+    background-color: #552F44;
+    font-weight: bold;
+    cursor: default;
+}
+
+.tblListado td{
+    height: 28px;
+}
+
+.tblListado th{
+    text-align: center;
+    height: 30px;
+    padding: 8px 5px;
+}
+
+.tblListado th.sort{
+    background: url(../../../images/icon-table-sort.png) no-repeat 3px 16px;
+    cursor: pointer;
+}
+
+.tblListado th.sortedASC {
+    background: url(../../../images/icon-table-sort-asc.png) no-repeat 3px 12px;
+    color: #FEC400;
+}
+
+.tblListado th.sortedDESC {
+    background: url(../../../images/icon-table-sort-desc.png) no-repeat 3px 18px;
+    color: #FEC400;
+}
+
+.tblListado td.textoCentrado{
+    text-align: center;
+}
+
+.tblListado tbody tr {
+    background-color: #f9f9f9;
+    height: 20px;
+}
+
+.tblListado tbody tr.altRow {
+    background-color: #fff;
+    height: 20px;
+}
+
+.tblListado .totales{
+    font-weight: bold;
+}
+
+#calFechaInicio, #calFechaFinal{
+    vertical-align: bottom;
+    margin-right: 15px
+}
+
+.img_calendar {
+    height: 24px;
+    width: 24px;
+    vertical-align: bottom;
+}
+
+.retiros td.celda1,
+.retiros td.celda2,
+.retiros td.celda4,
+.retiros td.celda5,
+.retiros td.celda6,
+.retiros td.celda7 {
+    text-align: center;
+}
+
+.retiros td.celda8,
+.retiros td.celda9,
+.retiros td.celda10 {
+    text-align: right;
+}
+
+.retiros th.celda1{
+    width: 65px;
+}
+
+.retiros th.celda2{
+    width: 75px;
+}
+
+.retiros th.celda3{
+    width: 150px;
+}
+
+.retiros th.celda4{
+    width: 55px;
+}
+
+.retiros th.celda5{
+    width: 80px;
+}
+
+.retiros th.celda6{
+    width: 125px;
+}
+
+.retiros th.celda7{
+    width: 110px;
+}
+
+.retiros th.celda8{
+    width: 55px;
+}
+
+.retiros th.celda9{
+    width: 40px;
+}
+
+.retiros th.celda10{
+    width: 65px;
+}
+
+.transferenciasSalientes td.celda1,
+.transferenciasSalientes td.celda2,
+.transferenciasSalientes td.celda3,
+.transferenciasSalientes td.celda5 {
+    text-align: center;
+}
+
+.transferenciasSalientes td.celda6,
+.transferenciasSalientes td.celda7,
+.transferenciasSalientes td.celda8 {
+    padding-right: 30px !important;
+    text-align: right;
+}
+
+.transferenciasSalientes th.celda1{
+    width: 80px;
+}
+
+.transferenciasSalientes th.celda2{
+    width: 150px;
+}
+
+.transferenciasSalientes th.celda3{
+    width: 110px;
+}
+
+.transferenciasSalientes th.celda4{
+    width: 170px;
+}
+
+.transferenciasSalientes th.celda5{
+    width: 60px;
+}
+
+.transferenciasSalientes th.celda6{
+    width: 115px;
+}
+
+.transferenciasSalientes th.celda7{
+    width: 90px;
+}
+
+.transferenciasSalientes th.celda8{
+    width: 105px;
+}
+
+.transferenciasEntrantes td.celda1,
+.transferenciasEntrantes td.celda2,
+.transferenciasEntrantes td.celda3,
+.transferenciasEntrantes td.celda5 {
+    text-align: center;
+}
+
+.transferenciasEntrantes td.celda6,
+.transferenciasEntrantes td.celda7,
+.transferenciasEntrantes td.celda8 {
+    padding-right: 30px !important;
+    text-align: right;
+}
+
+.transferenciasEntrantes th.celda1{
+    width: 80px;
+}
+
+.transferenciasEntrantes th.celda2{
+    width: 150px;
+}
+
+.transferenciasEntrantes th.celda3{
+    width: 95px;
+}
+
+.transferenciasEntrantes th.celda4{
+    width: 160px;
+}
+
+.transferenciasEntrantes th.celda5{
+    width: 60px;
+}
+
+.transferenciasEntrantes th.celda6{
+    width: 115px;
+}
+
+.transferenciasEntrantes th.celda7{
+    width: 100px;
+}
+
+.transferenciasEntrantes th.celda8{
+    width: 115px;
+}
+
+.recargas td.celda1,
+.recargas td.celda2,
+.recargas td.celda3{
+    text-align: center;
+}
+
+.recargas td.celda5{
+    padding-right: 25px !important;
+    text-align: right;
+}
+
+.recargas th.celda1{
+    width: 130px;
+}
+
+.recargas th.celda2{
+    width: 190px;
+}
+
+.recargas th.celda3{
+    width: 260px;
+}
+
+.recargas th.celda4{
+    width: 260px;
+}
+.recargas th.celda5{
+    width: 110px;
+}
+
+.pagos td.celda1,
+.pagos td.celda2,
+.pagos td.celda3,
+.pagos td.celda4,
+.pagos td.celda6 {
+    text-align: center;
+}
+
+.pagos td.celda5 {
+    padding-right: 25px !important;
+    text-align: right;
+}
+
+.pagos th.celda1{
+    width: 125px;
+}
+
+.pagos th.celda2{
+    width: 180px;
+}
+
+.pagos th.celda3{
+    width: 190px;
+}
+
+.pagos th.celda4{
+    width: 240px;
+}
+
+.pagos th.celda5{
+    width: 100px;
+}
+
+.pagos th.celda6{
+    width: 120px;
+}
+
+.ventas{
+    min-width: 953px;
+}
+.extraparams1{
+    min-width: 1193px;
+}
+.extraparams2{
+    min-width: 1433px;
+}
+.extraparams3{
+    min-width: 1673px;
+}
+.extraparams4{
+    min-width: 1913px;
+}
+.extraparams5{
+    min-width: 2153px;
+}
+
+.ventas td.celda1,
+.ventas td.celda2,
+.ventas td.celda3 {
+    text-align: center;
+}
+
+.ventas td.celda4,
+.ventas td.celda5,
+.ventas td.celda6 {
+    text-align: right;
+    padding-right: 30px !important;
+}
+
+.ventas td.celdae {
+    text-align: left;
+    word-break: break-all;
+    padding: 0 10px;
+}
+
+.ventas th.celda1{
+    width: 100px;
+}
+
+.ventas th.celda2{
+    width: 180px;
+}
+
+.ventas th.celda3{
+    width: 180px;
+}
+
+.ventas th.celda4{
+    width: 100px;
+}
+
+.ventas th.celda5{
+    width: 110px;
+}
+
+.ventas th.celda6{
+    width: 105px;
+}
+
+.ventas th.celda7{
+    width: 108px;
+}
+
+.ventas th.celdae{
+    width: 240px;
+}
+
+.cobros td.celda1,
+.cobros td.celda2,
+.cobros td.celda4,
+.cobros td.celda5,
+.cobros td.celda6 {
+    text-align: center;
+}
+
+.cobros td.celda7{
+    padding-right: 15px !important;
+    text-align: right;
+}
+
+.cobros th.celda1{
+    width: 90px;
+}
+
+.cobros th.celda2{
+    width: 100px;
+}
+
+.cobros th.celda3{
+    width: 190px;
+}
+
+.cobros th.celda4{
+    width: 170px;
+}
+
+.cobros th.celda5{
+    width: 170px;
+}
+
+.cobros th.celda6{
+    width: 80px;
+}
+
+.cobros th.celda7{
+    width: 85px;
+}
+
+.tarjetas td.celda1,
+.tarjetas td.celda2,
+.tarjetas td.celda3,
+.tarjetas td.celda4,
+.tarjetas td.celda5 {
+    text-align: center;
+}
+
+.tarjetas th.celda1{
+    width: 130px;
+}
+
+.tarjetas th.celda2{
+    width: 250px;
+}
+
+.tarjetas th.celda3{
+    width: 180px;
+}
+
+.tarjetas th.celda4{
+    width: 280px;
+}
+
+.tarjetas th.celda5{
+    width: 160px;
+}
+
+.actividad td.celda1,
+.actividad td.celda2,
+.actividad td.celda3,
+.actividad td.celda4,
+.actividad td.celda5 {
+    text-align: center;
+}
+
+.actividad th.celda1{
+    width: 150px;
+}
+
+.actividad th.celda2{
+    width: 200px;
+}
+
+.actividad th.celda3{
+    width: 243px;
+}
+
+.actividad th.celda4{
+    width: 220px;
+}
+
+.actividad th.celda5{
+    width: 120px;
+}
+
+.recurrencia td.celda1,
+.recurrencia td.celda2,
+.recurrencia td.celda3 {
+    text-align: center;
+}
+
+.recurrencia td.celda4{
+    text-align: right;
+    padding-right: 50px !important;
+}
+
+.recurrencia th.celda1{
+    width: 160px;
+}
+
+.recurrencia th.celda2{
+    width: 360px;
+}
+
+.recurrencia th.celda3{
+    width: 140px;
+}
+
+.recurrencia th.celda4{
+    width: 150px;
+}
+
+.acreditaciones td.celda1,
+.acreditaciones td.celda2,
+.acreditaciones td.celda3,
+.acreditaciones td.celda4 {
+    text-align: center;
+}
+
+.acreditaciones td.celda5,
+.acreditaciones td.celda6 {
+    padding-right: 45px !important;
+    text-align: right;
+}
+
+.acreditaciones th.celda1{
+    width: 160px;
+}
+
+.acreditaciones th.celda2{
+    width: 140px;
+}
+
+.acreditaciones th.celda3{
+    width: 190px;
+}
+
+.acreditaciones th.celda4{
+    width: 180px;
+}
+
+.acreditaciones th.celda5{
+    width: 160px;
+}
+
+.acreditaciones th.celda6{
+    width: 150px;
+}
+
+.calendar, .time {
+    width: 60px;
+    margin-left: 2px;
+}
+
+.lblFecha{
+    display: inline-block;
+    width: 80px;
+    text-align: right;
+}
+
+.filtro{
+    margin-left: 1px;
+    margin-right: 12px;
+    width: 100px;
+}
+
+.controles_reporte{
+    width: 100%;
+}
+
+.controles_reporte td:nth-child(1){
+    padding-top: 5px;
+    width: 60px;
+    font-weight: bold;
+}
+
+.controles_reporte td:nth-child(2){
+    width: 790px;
+}
+
+.controles_reporte td:nth-child(3){
+    width: 135px;
+    text-align: right;
+}
+
+.controles_reporte .columnaFiltro{
+    float: left;
+    margin-right: 40px;
+    line-height: 20px;
+}
+
+.contenedor_tabla{
+    overflow-x:auto;
+}
+
+.contenedor_reporte{
+    width:100%;
+}
+
+.contenedor_reporte td:nth-child(1){
+    width: 30px;
+}
+
+.contenedor_reporte td:nth-child(2){
+    widht: 950px;
+}
+
+.numerador{
+    width: 30px;
+}
+
+.parametros tr td{
+    height: 25px;
+}
+
+.parametros td:nth-child(1){
+    padding-right: 5px;
+}
+
+.parametros select{
+    width: 102px;
+}
+
+.acreditaciones_ctvpc td.celda1,
+.acreditaciones_ctvpc td.celda2,
+.acreditaciones_ctvpc td.celda3,
+.acreditaciones_ctvpc td.celda4 {
+    text-align: center;
+}
+
+.acreditaciones_ctvpc td.celda5,
+.acreditaciones_ctvpc td.celda6 {
+    padding-right: 45px !important;
+    text-align: right;
+}
+
+.acreditaciones_ctvpc th.celda1{
+    width: 160px;
+}
+
+.acreditaciones_ctvpc th.celda2{
+    width: 140px;
+}
+
+.acreditaciones_ctvpc th.celda3{
+    width: 190px;
+}
+
+.acreditaciones_ctvpc th.celda4{
+    width: 180px;
+}
+
+.acreditaciones_ctvpc th.celda5{
+    width: 160px;
+}
+
+.acreditaciones_ctvpc th.celda6{
+    width: 150px;
+}
+
+/* reporte ventas en revision*/
+.ventas_revision {
+    min-width: 953px;
+}
+
+.ventas_revision td.celda1,
+.ventas_revision td.celda2,
+.ventas_revision td.celda3,
+.ventas_revision td.celda4 {
+    text-align: center;
+}
+
+.ventas_revision td.celda5,
+.ventas_revision td.celda6,
+.ventas_revision td.celda7 {
+    text-align: right;
+    padding-right: 30px !important;
+}
+
+.ventas_revision td.celdae {
+    text-align: left;
+    word-break: break-all;
+    padding: 0 10px;
+}
+
+.ventas_revision th.celda1 {
+    width: 100px;
+}
+
+.ventas_revision th.celda2 {
+    width: 70px;
+}
+
+.ventas_revision th.celda3 {
+    width: 180px;
+}
+
+.ventas_revision th.celda4 {
+    width: 100px;
+}
+
+.ventas_revision th.celda5 {
+    width: 110px;
+}
+
+.ventas_revision th.celda6 {
+    width: 110px;
+}
+
+.ventas_revision th.celda7 {
+    width: 110px;
+}
+
+.ventas_revision th.celdae {
+    width: 240px;
+}
+
+.detallecuerpo ul li{
+    font-size: 12px;
+}
+
+.detallecuerpo form label.prerefund{
+    display: block;
+    font-weight: bold;
+    margin: 10px 0;
+}
+
+.detallecuerpo form textarea{
+    margin-bottom: 10px;
+    width: 400px;
+    height: 100px;
+    resize: none;
+}
+
+.detalle_transaccion{
+    margin: 20px 0 20px 0;
+    border-collapse: separate;
+    border-spacing: 5px;
+}
+
+.detalle_transaccion th{
+    text-align: left;
+    width: 180px;
+    color: #404040;
+}
+
+.detalle_transaccion td{
+    text-align: right;
+}
+
+.aviso{
+    display:inherit;
+    color: #A00;
+    font-size: 10px;
+    margin: 10px 0;
+}
+
+#aviso{
+    display: none;
+    color: #A00;
+    font-size: 10px;
+    margin: 10px 0;
+}
+
+.aviso_confirmacion{
+    color: #008000;
+    border: 1px solid #ccc;
+    padding: 5px;
+    border-radius: 5px;
+    font-weight: bold;
+    font-style: italic;
+}
+
+.aviso_error{
+    color: #900000;
+    border: 1px solid #ccc;
+    padding: 5px;
+    border-radius: 5px;
+    font-weight: bold;
+    font-style: italic;
+}
+
+#longitud_maxima{
+    font-weight: normal;
+    font-size: 10px;
+}
Index: branches/b-20180319.02/tema/sitio/css/reporte.css
===================================================================
--- trunk/tema/sitio/css/reporte.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/reporte.css	(revision 3579)
@@ -622,2 +622,63 @@
     width: 150px;
 }
+
+/* reporte ventas en revision*/
+.ventas_revision {
+    min-width: 953px;
+}
+
+.ventas_revision td.celda1,
+.ventas_revision td.celda2,
+.ventas_revision td.celda3,
+.ventas_revision td.celda4 {
+    text-align: center;
+}
+
+.ventas_revision td.celda5,
+.ventas_revision td.celda6,
+.ventas_revision td.celda7 {
+    text-align: right;
+    padding-right: 30px !important;
+}
+
+.ventas_revision td.celdae {
+    text-align: left;
+    word-break: break-all;
+    padding: 0 10px;
+}
+
+.ventas_revision th.celda1 {
+    width: 100px;
+}
+
+.ventas_revision th.celda2 {
+    width: 70px;
+}
+
+.ventas_revision th.celda3 {
+    width: 180px;
+}
+
+.ventas_revision th.celda4 {
+    width: 100px;
+}
+
+.ventas_revision th.celda5 {
+    width: 110px;
+}
+
+.ventas_revision th.celda6 {
+    width: 110px;
+}
+
+.ventas_revision th.celda7 {
+    width: 110px;
+}
+
+.ventas_revision th.celdae {
+    width: 240px;
+}
+
+.tblListado tr .center{
+    text-align: center;
+}
Index: branches/b-20180319.02/tema/sitio/css/retfnd.css
===================================================================
--- trunk/tema/sitio/css/retfnd.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/retfnd.css	(revision 3579)
@@ -1,13 +1,3 @@
-._base,
-._base ._informacion,
-._base ._contenido,
-._base ._opcion,
-._base ._opcion input,
-._base ._opcion label{
-    float: left;   
-}
-._base{
-    width: 100%;
-}
+
 ._base ._informacion{
     width: 100%;
@@ -17,9 +7,4 @@
 ._base ._opcion{
     width: 210px;
-    margin: 0;
-}
-._base ._informacion ._b,
-._base ._contenido{
-    width: 550px;
     margin: 0;
 }
@@ -47,8 +32,5 @@
     margin: 0 0 5px;
 }
-._base ._opcion,
-._base ._contenido{
-    margin-top: 10px;
-}
+
 ._base ._opcion{  
     clear:left;
@@ -100,5 +82,4 @@
 }
 .no_retiro{
-    float: left;
     width: 100%;
     min-height: 150px;
@@ -114,26 +95,5 @@
 
 .div_cbus .div_cbu {
-    padding: 10px;
     border-bottom: 1px solid #aaaaaa;
-}
-
-.div_cbus .div_cbu .div_cbu_left {
-    width: 22px;
-    float: left;
-}
-
-.div_cbus .div_cbu .div_cbu_right {
-    margin: 0 0 0 10px;
-    float: left;
-}
-
-.div_cbus .div_cbu .div_cbu_right .p_cbu {
-    margin: 0 0 5px 0;
-    padding: 0;
-}
-
-.div_cbus .div_cbu .div_cbu_right .lbl_cbu {
-    width: 200px;
-    display: inline-block;
 }
 
Index: branches/b-20180319.02/tema/sitio/css/seg.css
===================================================================
--- trunk/tema/sitio/css/seg.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/seg.css	(revision 3579)
@@ -1,2 +1,8 @@
+.form-group .form-control {
+    border-width: 1px;
+    border-style: solid;
+    border-color: grey;
+    border-radius: 2px;
+}
 .seccion{
     width: 100%;
@@ -15,5 +21,5 @@
 
 .contenido{
-    padding: 5px 30px;
+    padding: 20px 20px 2px 20px;
 }
 
Index: branches/b-20180319.02/tema/sitio/css/tarjetas.css
===================================================================
--- trunk/tema/sitio/css/tarjetas.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/tarjetas.css	(revision 3579)
@@ -6,8 +6,4 @@
 }
 
-.detallecuerpo .captura{
-    float: left;
-    width: 100%;
-}
 .detallecuerpo .captura .div_monto{
     color: #6d3050;
Index: branches/b-20180319.02/tema/sitio/css/user.css
===================================================================
--- trunk/tema/sitio/css/user.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/user.css	(revision 3579)
@@ -10,13 +10,13 @@
 
 #header {
-    width: 1196px;
+    
 }
 
 #content {
-    width: 1196px;
+    
 }
 
 #footer {
-    width: 1194px;
+    
     background-image: none;
     border: 1px solid #E9EBEC;
@@ -26,21 +26,20 @@
     border-bottom-left-radius: 20px;
     border-bottom-right-radius: 20px;
-        
 }
 
 #footer #footerOptions {
-    width: 1194px;
+    
 }
 
 #footer #footerOptions .footerOptions1 {
-    width: 300px;
+    
 }
 
 #footer #footerOptions .footerOptions2 {
-    width: 300px;
+    
 }
 
 #footer #footerOptions .footerOptions3 {
-    width: 300px;
+    
 }
 
@@ -48,20 +47,20 @@
 
 
-/* contenedor del modulo */
+
 
 .usr_paso {
-    width: 100%;
-    height: 100%;
+    
+    
     margin: 5px 0 0 0;
-    padding: 0 0 0 0;
-}
-
-/* titulo */
+    
+}
+
+
 
 .usr_titulo {
-    width: auto;
-    height: auto;
+    
+    
     margin: 50px 0 0 0;
-    padding: 0 0 0 0;
+    
     border-bottom: 1px solid #545454;
     font-family: 'Ubuntu';
@@ -70,5 +69,5 @@
 }
 
-/* campos de formulario */
+
 
 .usr_frm {
@@ -95,5 +94,5 @@
 
 .usr_frm .usr_checkbox_field {
-    margin: 0 0 0 0;
+    
     padding: 0 0 0 0;
     background-color: #ffffff;
@@ -102,5 +101,5 @@
 
 .usr_frm .usr_select_field {
-    height: 28px;
+    
     margin: 0 0 0 0;
     padding: 0 0 0 0;
@@ -141,7 +140,7 @@
 
 .usr_tbl {
-    margin: 0 0 0 0;
-    padding: 0 0 0 0;
-    border: 0px none;
+    
+    
+    
 }
 
@@ -172,8 +171,8 @@
 }
 
-/* botones */
+
 
 .usr_btn {
-    width: 155px;
+    width: 150px;
     height: 33px;
     margin: 0 0 0 0;
@@ -216,5 +215,5 @@
 .usr_link {
     font-family: 'Noto Sans';
-    font-size: 18px;
+    font-size: 17px;
     color: #6d3050;
     text-align: center;
@@ -227,5 +226,5 @@
 }
 
-/* formulario Abra su billetera */
+
 
 #usr_paso_1 {
@@ -234,10 +233,10 @@
 
 #usr_paso_1 #usr_col_left {
-    width: 510px;
-    float: left;
+    
+    
 }
 
 #usr_paso_1 #usr_col_left .usr_tbl {
-    margin: 25px 0 0 30px;
+    margin: 25px 0 0 0px;
 }
 
@@ -247,13 +246,13 @@
 
 #usr_paso_1 #usr_col_left .usr_tbl .usr_td_lbl {
-    width: 135px;
-    height: 25px;
-    padding: 5px 10px 30px 0;
-    vertical-align: top;
+    
+    
+    
+    
 }
 
 #usr_paso_1 #usr_col_left .usr_frm .usr_text_field,
 #usr_paso_1 #usr_col_left .usr_frm .usr_select_field {
-    width: 330px;
+    
 }
 
@@ -275,6 +274,6 @@
 
 #usr_paso_1 #usr_col_right {
-    width: 637px;
-    float: right;
+    
+    
 }
 
@@ -284,5 +283,5 @@
 
 #usr_paso_1 #usr_col_right #usr_description_pg {
-    height: 60px;
+    
     margin: 30px 0 25px 0;
     padding: 0 0 0 12px;
@@ -294,5 +293,5 @@
 }
 
-/* formulario Registro de comercio */
+
 
 #usr_paso_C {
@@ -312,8 +311,8 @@
 
 #usr_paso_C #usr_banner_container #usr_banner {
-    width: 1196px;
-    height: 436px;
-    /*background-image: url('../../../img/version_2/pg_user_step_comercio.jpg');*/
-    overflow: hidden;
+    
+    
+    
+    
 }
 
@@ -347,9 +346,9 @@
     padding: 0 30px;
     background-color: #949494;
-    /*opacity: 0.4;*/
+    
 }
 
 #usr_paso_C #usr_banner_container #usr_banner_indication_container .usr_banner_indicacion {
-    width: 350px;
+    
     margin: 0px;
     padding: 8px 0;
@@ -363,5 +362,5 @@
 
 #usr_paso_C #usr_form_container{
-    margin: 30px;
+    
 }
 
@@ -372,4 +371,5 @@
     border-radius: 0px;
     padding:0;
+    border-top: 2px solid #7e4865;
 }
 
@@ -379,14 +379,15 @@
     font-weight: normal;
     color: #6d3050;
+    background: #f8f8f9;
 }
 
 #usr_paso_C #usr_col_left {
-    width: 520px;
-    float: left;
+    
+    
 }
 
 #usr_paso_C #usr_col_left .usr_tbl,
 #usr_paso_C #usr_col_right .usr_tbl{
-    margin: 25px 0 0 0;
+    
 }
 
@@ -397,15 +398,15 @@
 
 #usr_paso_C #usr_col_left .usr_tbl .usr_td_lbl{
-    width: 150px;
-    height: 25px;
-    padding: 5px 10px 30px 0;
-    vertical-align: top;
+    
+    
+    
+    
 }
 
 #usr_paso_C #usr_col_right .usr_tbl .usr_td_lbl{
-    width: 210px;
-    height: 25px;
-    padding: 5px 10px 30px 0;
-    vertical-align: top;
+    
+    
+    
+    
 }
 
@@ -414,5 +415,5 @@
 #usr_paso_C .usr_frm #usr_col_right .usr_text_field,
 #usr_paso_C .usr_frm #usr_col_right .usr_select_field{
-    width: 330px;
+    
 }
 
@@ -438,7 +439,7 @@
 
 #usr_paso_C #usr_col_right {
-    width: 582px;
-    float: right;
-    margin-left: 20px;
+    
+    
+    
 }
 
@@ -447,5 +448,5 @@
 }
 
-/* formulario Su cuenta ha sido creada con exito */
+
 
 #usr_paso_2, #usr_paso_5 {
@@ -454,13 +455,16 @@
 
 #usr_paso_2 #usr_banner, #usr_paso_5 #usr_banner{
-    width: 1196px;
-    height: 426px;
+    
+    
     background-image: url('../../../img/version_2/pg_user_step_2.jpg');
-    overflow: auto;
+    
+    background-position:  center center;
+    background-size:  cover;
+    
 }
 
 #usr_paso_2 #usr_banner .usr_banner_titulo1, #usr_paso_5 #usr_banner .usr_banner_titulo1 {
-    margin: 140px 0 0 30px;
-    padding: 0 0 0 0;
+    
+    
     font-family: 'Ubuntu';
     font-size: 45px;
@@ -470,6 +474,6 @@
 
 #usr_paso_2 #usr_banner .usr_banner_titulo2, #usr_paso_5 #usr_banner .usr_banner_titulo2 {
-    margin: 35px 0 0 30px;
-    padding: 0 0 0 0;
+    
+    
     font-family: 'Ubuntu';
     font-size: 18px;
@@ -485,7 +489,7 @@
 
 #usr_paso_2 #usr_banner .usr_banner_indicacion, #usr_paso_5 #usr_banner .usr_banner_indicacion {
-    width: 350px;
-    margin: 20px 0 0 30px;
-    padding: 0 0 0 0;
+    
+    
+    padding: 0 25px 0 0;
     background-image: url('../../../img/version_2/pg_user_down_arrow.png');
     background-position: right center;
@@ -495,4 +499,6 @@
     font-weight: normal;
     color: #5f5f5f;
+    display: inline-block;
+    position: relative;
 }
 
@@ -506,12 +512,12 @@
 
 #usr_paso_2 .usr_tbl .usr_td_lbl, #usr_paso_5 .usr_tbl .usr_td_lbl {
-    width: 175px;
-    height: 25px;
-    padding: 5px 40px 30px 0;
-    vertical-align: top;
+    
+    
+    
+    
 }
 
 #usr_paso_2 .usr_frm, #usr_paso_5 .usr_frm {
-    margin: 0 30px 0 30px;
+    
 }
 
@@ -519,5 +525,5 @@
 #usr_paso_2 .usr_frm .usr_select_field,
 #usr_paso_2 .usr_frm .usr_textarea_field{
-    width: 212px;
+    
 }
 
@@ -527,15 +533,16 @@
     padding: 0 0 0 0;
     border: 0px none;
-    background-color: #545454;
+    background-color: #eeeeee;
+    width: 100%;
 }
 
 #usr_paso_2 .usr_col_left, #usr_paso_5 .usr_col_left {
-    width: 50%;
-    float: left;
+    
+    
 }
 
 #usr_paso_2 .usr_col_right, #usr_paso_5 .usr_col_right {
-    width: 50%;
-    float: right;
+    
+    
 }
 
@@ -555,11 +562,12 @@
 }
 
-/* formulario Registre su tarjeta */
+
 
 #usr_paso_3 {
     background-color: #f8f8f9;
     background-image: url('../../../img/version_2/pg_user_step_3.jpg');
-    background-position: right bottom;
+    background-position: center center;
     background-repeat: no-repeat;
+    background-size:  cover;
 }
 
@@ -581,8 +589,8 @@
 
 #usr_paso_3 .usr_tbl .usr_td_lbl {
-    width: 165px;
-    height: 25px;
-    padding: 5px 20px 30px 0;
-    vertical-align: top;
+    
+    
+    
+    
 }
 
@@ -594,5 +602,5 @@
 #usr_paso_3 .usr_frm .usr_select_field,
 #usr_paso_3 .usr_frm .usr_textarea_field {
-    width: 333px;
+    
 }
 
@@ -612,10 +620,10 @@
 
 #usr_paso_3 .usr_frm #selMesCard {
-    width: 50px;
-    margin-right: 15px;
+    
+    
 }
 
 #usr_paso_3 .usr_frm #selYearCard {
-    width: 100px;
+    
 }
 
@@ -633,8 +641,8 @@
 
 #usr_paso_3 #btnGuardar {
-    margin-right: 25px;
-}
-
-/* pantalla confirmacion de email */
+    margin-right: 10px;
+}
+
+
 
 #usr_validacion_correo {
@@ -643,11 +651,10 @@
 
 #usr_validacion_correo #usr_banner_ok {
-    width: 1196px;
-    height: 421px;
+
     background-image: url('../../../img/version_2/pg_user_validacion_correo_1.jpg');
     overflow: auto;
 }
 
-#usr_validacion_correo #usr_banner_ok .usr_banner_titulo1 {
+#usr_validacion_correo #usr_banner_ok .usr_banner_titulo1, #usr_validacion_correo #usr_banner_ok .usr_banner_titulo1_correo {
     margin: 133px 0 0 30px;
     padding: 0 0 0 0;
@@ -674,13 +681,15 @@
 
 #usr_validacion_correo #usr_banner_invalido {
-    width: 1196px;
-    height: 421px;
+    
+    
     background-image: url('../../../img/version_2/pg_user_validacion_correo_2.jpg');
-    overflow: auto;
+    
+    background-size:  cover;
+    background-position:  center center;
 }
 
 #usr_validacion_correo #usr_banner_invalido .usr_banner_titulo1 {
-    margin: 100px 0 0 30px;
-    padding: 0 0 0 0;
+    
+    
     font-family: 'Ubuntu';
     font-size: 47px;
@@ -690,6 +699,6 @@
 
 #usr_validacion_correo #usr_banner_invalido .usr_banner_titulo2 {
-    margin: 10px 0 0 30px;
-    padding: 0 0 0 0;
+    
+    
     font-family: 'Ubuntu';
     font-size: 22px;
@@ -700,41 +709,41 @@
 #usr_validacion_correo #usr_banner_invalido #usr_btn_mi_cuenta {
     width: 222px;
-    margin: 45px 0 0 30px;
-    padding: 0 0 0 0;
-}
-
-/* formulario Valide su tarjeta */
+    
+    
+}
+
+
 
 #usr_paso_4 {
-    padding: 0 0 42px 0;
+    
 }
 
 #usr_paso_4 #usr_tarjeta {
-    height: 73px;
-    margin: 0 0 0 0;
-    padding: 0 0 0 0;
+    
+    margin: 20px 0 10px 0;
+    padding: 7px 15px 7px 15px;
     background-color: #545454;
 }
 
 #usr_paso_4 #usr_tarjeta #usr_img_tarjeta {
-    width: 173px;
-    height: 63px;
-    margin: 5px 0 0 6px;
-    padding: 0 0 0 0;
-    float: left;
-    display: block;
+    
+    
+    
+    padding: 10px 10px 10px 10px;
+    
+    display: inline-block;
     background-color: #f0f4f6;
     text-align: center;
-    vertical-align: middle;
+    
 }
 
 #usr_paso_4 #usr_tarjeta #usr_img_tarjeta img {
-    margin-top: 15px;
+    
 }
 
 #usr_paso_4 #usr_tarjeta #usr_span_tarjeta, #usr_span_valide {
-    margin: 20px 0 0 23px;
-    padding: 0 0 0 0;
-    float: left;
+    
+    
+    
     display: block;
     font-family: 'Ubuntu';
@@ -748,6 +757,7 @@
 
 #usr_paso_4 .usr_bloque {
-    width: 1194px;
-    margin: 10px 0 25px 0;
+    
+    margin-top: 10px;
+    margin-bottom: 25px;
     border: 1px solid #000;
 }
@@ -852,28 +862,28 @@
 
 .usr_imagen{
-    height: 168px;
+    
     color: #545454;
     font-family: 'Ubuntu';
     font-size: 12px;
-    margin-left: 355px;
+    
 }
 
 .usr_imagen_control{
-    width: 252px;
-    height: 95px;
-    padding-top: 73px;
-    float: left
+    
+    
+    
+    
 }
 
 #usr_imagen_frente_tarjeta{
-    margin-top: 36px;
+    margin-top: 18px;
 }
 
 #usr_imagen_frente_documento{
-    margin-top: 23px;
+    margin-top: 18px;
 }
 
 #usr_imagen_reverso_documento{
-    margin-top: 32px;
+    margin-top: 18px;
 }
 
@@ -889,6 +899,6 @@
 #usr_paso_4 .usr_bloque .usr_contenido .usr_text_field {
     width: 108px;
-    height: 28px;
-    margin: 0 0 0 0;
+    height: 30px;
+    margin: 5px 0 5px 0;
     padding: 0 0 0 0;
     background-color: #ffffff;
@@ -903,5 +913,5 @@
 
 #usr_paso_4 .usr_bloque .usr_contenido #lbMensaje {
-    margin-left: 10px;
+    
     font-family: 'Ubuntu';
     font-size: 14px;
@@ -921,5 +931,5 @@
 #usr_paso_4 .usr_bloque .usr_contenido #btnValidar {
     width: 186px;
-    margin: 0 40px 0 0;
+    
 }
 
@@ -937,5 +947,5 @@
 
 #usr_paso_4 .usr_bloque .usr_contenido .usr_lbl {
-    width: 45px;
+    
     display: inline-block;
 }
@@ -951,9 +961,9 @@
 
 #usr_paso_4 .usr_bloque .usr_contenido .usr_contenido_box{
-    width: 267px;
-    height: 227px;
-    float: left;
+    
+    
+    
     margin-top: 15px;
-    padding: 10px 60px;
+    
 }
 
@@ -981,6 +991,10 @@
 #usr_img_ejemplo{
     position: absolute;
-    top: 552px;
-    left: 215px;
+    z-index: 2;
+    top: -65px;
+    left: 0;
+    background: rgba(0, 0, 0, 0.5);
+    
+    padding: 15px;
     visibility: hidden;
 }
@@ -1002,5 +1016,5 @@
 #usr_link_ejemplo img{
     float: right;
-    z-index: 2px;
+    z-index: 2;
 }
 
@@ -1018,5 +1032,5 @@
 }
 
-/* pantalla confirmacion validacion tarjeta */
+
 
 #usr_validacion_tarjeta {
@@ -1107,5 +1121,5 @@
 }
 
-/* pantalla confirmacion validacion imagenes tarjeta */
+
 
 #usr_validacion_imagenes_tarjeta {
@@ -1114,12 +1128,13 @@
 
 #usr_validacion_imagenes_tarjeta #usr_banner {
-    width: 1196px;
-    height: 424px;
+    
+    
     background-image: url('../../../img/version_2/pg_user_validacion_imagenes_tarjeta.jpg');
-    overflow: auto;
+    
+    background-size:  cover;
 }
 
 #usr_validacion_imagenes_tarjeta #usr_banner .usr_banner_titulo1 {
-    margin: 130px 0 0 30px;
+    
     padding: 0 0 0 0;
     font-family: 'Ubuntu';
@@ -1130,9 +1145,9 @@
 
 .usr_banner_titulo2_contenedor{
-    height: 150px;
+    
 }
 
 #usr_validacion_imagenes_tarjeta #usr_banner .usr_banner_titulo2 {
-    margin: 25px 0 0 30px;
+    
     padding: 0 0 0 0;
     font-family: 'Ubuntu';
@@ -1147,5 +1162,5 @@
 
 #usr_validacion_imagenes_tarjeta #usr_banner .usr_banner_titulo3 {
-    margin: 5px 0 0 30px;
+    
     padding: 0 0 0 0;
     font-family: 'Ubuntu';
@@ -1157,12 +1172,13 @@
 #usr_validacion_imagenes_tarjeta #usr_banner #usr_btn_mi_cuenta {
     width: 222px;
-    margin: 35px 0 0 30px;
+    
     padding: 0 0 0 0;
 }
 
 #valvideo{
-    width: 215px;
-    height: 36px;
-    padding: 14px 0 0 40px;
+    width: 250px;
+    height: 46px;
+    padding: 14px 0 0 35px;
+    margin-top: 7px;
     background-image: url('../../../img/version_2/btn_video_validacion_tarjetas.png');
     display: inline-block;
@@ -1170,4 +1186,5 @@
     text-align: center;
     color: #545454;
+    background-position: -8px -1px;
 }
 
@@ -1200,6 +1217,7 @@
     position: absolute;
     width: 220px;
-    top: 30px;
-    left: 920px;
+    top: 40px;
+    left: 0;
+    right: 0;
     visibility: hidden;
     border: 1px solid #9c9b9b;
@@ -1207,3 +1225,13 @@
     padding: 10px;
     background-color: #ffffff;
-}
+    z-index: 2;
+    text-align: center;
+    margin: 0 auto;
+    display: block;
+}
+
+@media(max-width:600px){
+    #usr_validacion_correo #usr_banner_ok .usr_banner_titulo1_correo {
+        font-size: 50px;
+    }
+}
Index: branches/b-20180319.02/tema/sitio/css/user_r.css
===================================================================
--- branches/b-20180319.02/tema/sitio/css/user_r.css	(revision 3579)
+++ branches/b-20180319.02/tema/sitio/css/user_r.css	(revision 3579)
@@ -0,0 +1,1209 @@
+
+/* clases comunes */
+
+.usr_clear {
+    clear: both;
+}
+
+/* reescritura de estilo del contenedor */
+
+
+#header {
+    width: 1196px;
+}
+
+#content {
+    width: 1196px;
+}
+
+#footer {
+    width: 1194px;
+    background-image: none;
+    border: 1px solid #E9EBEC;
+    border-top: 0px none;
+    border-top-left-radius: 0px;
+    border-top-right-radius: 0px;
+    border-bottom-left-radius: 20px;
+    border-bottom-right-radius: 20px;
+        
+}
+
+#footer #footerOptions {
+    width: 1194px;
+}
+
+#footer #footerOptions .footerOptions1 {
+    width: 300px;
+}
+
+#footer #footerOptions .footerOptions2 {
+    width: 300px;
+}
+
+#footer #footerOptions .footerOptions3 {
+    width: 300px;
+}
+
+#footer #footerOptions .footerOptions4 {}
+
+
+/* contenedor del modulo */
+
+.usr_paso {
+    width: 100%;
+    height: 100%;
+    margin: 5px 0 0 0;
+    padding: 0 0 0 0;
+}
+
+/* titulo */
+
+.usr_titulo {
+    width: auto;
+    height: auto;
+    margin: 50px 0 0 0;
+    padding: 0 0 0 0;
+    border-bottom: 1px solid #545454;
+    font-family: 'Ubuntu';
+    font-size: 30px;
+    color: #545454;
+}
+
+/* campos de formulario */
+
+.usr_frm {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+}
+
+.usr_frm .usr_text_field {
+    height: 28px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #ffffff;
+    border: 1px solid #9c9b9b;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+}
+
+.usr_frm .usr_radio_field {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #ffffff;
+    border: 1px solid #9c9b9b;
+}
+
+.usr_frm .usr_checkbox_field {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #ffffff;
+    border: 1px solid #9c9b9b;
+}
+
+.usr_frm .usr_select_field {
+    height: 28px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #ffffff;
+    border: 1px solid #9c9b9b;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+}
+
+.usr_frm .usr_textarea_field {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #ffffff;
+    border: 1px solid #9c9b9b;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+}
+
+.usr_frm .usr_text_field[disabled="disabled"],
+.usr_frm .usr_radio_field[disabled="disabled"],
+.usr_frm .usr_checkbox_field[disabled="disabled"],
+.usr_frm .usr_select_field[disabled="disabled"],
+.usr_frm .usr_textarea_field[disabled="disabled"] {
+    background-color: #eeeeee;
+}
+
+.usr_frm .usr_lbl {
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    color: #545454;
+}
+
+.usr_frm .usr_span {
+    font-family: 'Ubuntu';
+    font-size: 12px;
+    color: #545454;
+}
+
+.usr_tbl {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    border: 0px none;
+}
+
+.usr_tbl .usr_td_left {
+    text-align: left;
+}
+
+.usr_tbl .usr_td_center {
+    text-align: center;
+}
+
+.usr_tbl .usr_td_right {
+    text-align: right
+}
+
+.usr_tbl .usr_td_lbl {
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    color: #545454;
+    text-align: right;
+}
+
+.usr_tbl .usr_td_msg {
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    color: #545454;
+    text-align: left;
+}
+
+/* botones */
+
+.usr_btn {
+    width: 155px;
+    height: 33px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    display: inline-block;
+    background-color: #6d3050;
+    border: 0px none;
+    border-radius: 10px;
+    font-family: 'Noto Sans';
+    font-size: 18px;
+    font-weight: bold;
+    color: #FFFFFF;
+    text-align: center;
+    text-shadow: 2px 2px rgba(0, 0, 0, 0.29);
+    text-decoration: none;
+    line-height: 33px;
+    cursor: pointer;
+    outline: 0px none;
+}
+
+.usr_wide .usr_btn {
+    margin: 20px 0;
+}
+
+.usr_btn:hover {
+    background-color: #843d65;
+    text-decoration: none;
+    outline: 0px none;
+}
+
+.usr_btn[disabled="disabled"] {
+    background-color: #999;
+    border: 2px inset #999;
+}
+
+.usr_btn[disabled="disabled"]:hover {
+    background-color: #999;
+}
+
+.usr_link {
+    font-family: 'Noto Sans';
+    font-size: 18px;
+    color: #6d3050;
+    text-align: center;
+    line-height: 33px;
+    text-decoration: none;
+}
+
+.usr_link:hover {
+    text-decoration: underline;
+}
+
+/* formulario Abra su billetera */
+
+#usr_paso_1 {
+    background-color: #f8f8f9;
+}
+
+#usr_paso_1 #usr_col_left {
+    width: 510px;
+    float: left;
+}
+
+#usr_paso_1 #usr_col_left .usr_tbl {
+    margin: 25px 0 0 30px;
+}
+
+#usr_paso_1 #usr_col_left .usr_tbl tbody td {
+    padding: 0 0 30px 0;
+}
+
+#usr_paso_1 #usr_col_left .usr_tbl .usr_td_lbl {
+    width: 135px;
+    height: 25px;
+    padding: 5px 10px 30px 0;
+    vertical-align: top;
+}
+
+#usr_paso_1 #usr_col_left .usr_frm .usr_text_field,
+#usr_paso_1 #usr_col_left .usr_frm .usr_select_field {
+    width: 330px;
+}
+
+#usr_paso_1 #usr_col_left .usr_frm #selDia,
+#usr_paso_1 #usr_col_left .usr_frm #selMes,
+#usr_paso_5 .usr_frm .usr_col_right .usr_tbl #selDia,
+#usr_paso_5 .usr_frm .usr_col_right .usr_tbl #selMes{
+    width: 65px;
+    margin-left: 5px;
+    margin-right: 5px;
+}
+
+#usr_paso_1 #usr_col_left .usr_frm #selYear, #usr_paso_5 .usr_frm .usr_col_right .usr_tbl #selYear {
+    width: 65px;
+    margin-left: 5px;
+    margin-right: 0px;
+}
+
+
+#usr_paso_1 #usr_col_right {
+    width: 637px;
+    float: right;
+}
+
+#usr_paso_1 #usr_col_right #usr_img_pg {
+    float: right;
+}
+
+#usr_paso_1 #usr_col_right #usr_description_pg {
+    height: 60px;
+    margin: 30px 0 25px 0;
+    padding: 0 0 0 12px;
+    border-left: 2px solid #585858;
+    font-family: 'Ubuntu';
+    font-size: 15px;
+    color: #545454;
+    line-height: 20px;
+}
+
+/* formulario Registro de comercio */
+
+#usr_paso_C {
+    margin-top: 40px;
+    background-color: #f8f8f9;
+}
+
+#usr_paso_C .usr_wide {
+    text-align: center;
+}
+
+#usr_paso_C #usr_banner_container {
+    border-top: 1px solid;
+    padding-top: 10px;
+    margin-bottom: 20px;
+}
+
+#usr_paso_C #usr_banner_container #usr_banner {
+    width: 1196px;
+    height: 436px;
+    /*background-image: url('../../../img/version_2/pg_user_step_comercio.jpg');*/
+    overflow: hidden;
+}
+
+#usr_paso_C #usr_banner_container #usr_banner .usr_banner_titulo1 {
+    margin: 140px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 45px;
+    font-weight: normal;
+    color: #713958;
+}
+
+#usr_paso_C #usr_banner_container #usr_banner .usr_banner_titulo1 .usr_banner_subtitulo1 {
+    font-size: 30px;
+}
+
+#usr_paso_C #usr_banner_container #usr_banner .usr_banner_titulo2_contenedor{
+    height: 127px;
+}
+
+#usr_paso_C #usr_banner_container #usr_banner .usr_banner_titulo2_contenedor .usr_banner_titulo2 {
+    margin: 35px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 20px;
+    font-weight: normal;
+    color: #646464;
+}
+
+#usr_paso_C #usr_banner_container #usr_banner_indication_container {
+    padding: 0 30px;
+    background-color: #949494;
+    /*opacity: 0.4;*/
+}
+
+#usr_paso_C #usr_banner_container #usr_banner_indication_container .usr_banner_indicacion {
+    width: 350px;
+    margin: 0px;
+    padding: 8px 0;
+    background-position: right center;
+    background-repeat: no-repeat;
+    font-family: 'Ubuntu';
+    font-size: 18px;
+    font-weight: normal;
+    color: #FFF;
+}
+
+#usr_paso_C #usr_form_container{
+    margin: 30px;
+}
+
+#usr_paso_C #usr_form_container fieldset {
+    border-bottom: none;
+    border-left: none;
+    border-right: none;
+    border-radius: 0px;
+    padding:0;
+}
+
+#usr_paso_C #usr_form_container fieldset legend {
+    font-family: 'Ubuntu';
+    font-size: 16px;
+    font-weight: normal;
+    color: #6d3050;
+}
+
+#usr_paso_C #usr_col_left {
+    width: 520px;
+    float: left;
+}
+
+#usr_paso_C #usr_col_left .usr_tbl,
+#usr_paso_C #usr_col_right .usr_tbl{
+    margin: 25px 0 0 0;
+}
+
+#usr_paso_C #usr_col_left .usr_tbl tbody td,
+#usr_paso_C #usr_col_right .usr_tbl tbody td{
+    padding: 0 0 30px 0;
+}
+
+#usr_paso_C #usr_col_left .usr_tbl .usr_td_lbl{
+    width: 150px;
+    height: 25px;
+    padding: 5px 10px 30px 0;
+    vertical-align: top;
+}
+
+#usr_paso_C #usr_col_right .usr_tbl .usr_td_lbl{
+    width: 210px;
+    height: 25px;
+    padding: 5px 10px 30px 0;
+    vertical-align: top;
+}
+
+#usr_paso_C .usr_frm #usr_col_left .usr_text_field,
+#usr_paso_C .usr_frm #usr_col_left .usr_select_field,
+#usr_paso_C .usr_frm #usr_col_right .usr_text_field,
+#usr_paso_C .usr_frm #usr_col_right .usr_select_field{
+    width: 330px;
+}
+
+#usr_paso_C .usr_frm .usr_rlbl {
+    margin-right: 25px;
+}
+
+#usr_paso_C .usr_frm #usr_col_left #selDia,
+#usr_paso_C .usr_frm #usr_col_left #selMes,
+#usr_paso_C .usr_frm #usr_col_right #selDiaContacto,
+#usr_paso_C .usr_frm #usr_col_right #selMesContacto{
+    width: 65px;
+    margin-left: 5px;
+    margin-right: 5px;
+}
+
+#usr_paso_C .usr_frm #usr_col_left #selYear, 
+#usr_paso_C .usr_frm #usr_col_right #selYearContacto{
+    width: 65px;
+    margin-left: 5px;
+    margin-right: 0px;
+}
+
+#usr_paso_C #usr_col_right {
+    width: 582px;
+    float: right;
+    margin-left: 20px;
+}
+
+#usr_paso_C #usr_col_right #usr_img_pg {
+    float: right;
+}
+
+/* formulario Su cuenta ha sido creada con exito */
+
+#usr_paso_2, #usr_paso_5 {
+    margin-top: 50px;
+}
+
+#usr_paso_2 #usr_banner, #usr_paso_5 #usr_banner{
+    width: 1196px;
+    height: 426px;
+    background-image: url('../../../img/version_2/pg_user_step_2.jpg');
+    overflow: auto;
+}
+
+#usr_paso_2 #usr_banner .usr_banner_titulo1, #usr_paso_5 #usr_banner .usr_banner_titulo1 {
+    margin: 140px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 45px;
+    font-weight: normal;
+    color: #713958;
+}
+
+#usr_paso_2 #usr_banner .usr_banner_titulo2, #usr_paso_5 #usr_banner .usr_banner_titulo2 {
+    margin: 35px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 18px;
+    font-weight: normal;
+    color: #545454;
+}
+
+#usr_paso_2 #usr_banner .usr_banner_titulo2 .usr_banner_email, #usr_paso_5 #usr_banner .usr_banner_titulo2 .usr_banner_email {
+    font-family: 'Ubuntu';
+    font-size: 24px;
+    color: #38a6ad;
+}
+
+#usr_paso_2 #usr_banner .usr_banner_indicacion, #usr_paso_5 #usr_banner .usr_banner_indicacion {
+    width: 350px;
+    margin: 20px 0 0 30px;
+    padding: 0 0 0 0;
+    background-image: url('../../../img/version_2/pg_user_down_arrow.png');
+    background-position: right center;
+    background-repeat: no-repeat;
+    font-family: 'Ubuntu';
+    font-size: 18px;
+    font-weight: normal;
+    color: #5f5f5f;
+}
+
+#usr_paso_2 .usr_tbl, #usr_paso_5 .usr_tbl {
+    margin: 25px 0 0 0;
+}
+
+#usr_paso_2 .usr_tbl tbody td, #usr_paso_5 .usr_tbl tbody td {
+    padding: 0 0 30px 0;
+}
+
+#usr_paso_2 .usr_tbl .usr_td_lbl, #usr_paso_5 .usr_tbl .usr_td_lbl {
+    width: 175px;
+    height: 25px;
+    padding: 5px 40px 30px 0;
+    vertical-align: top;
+}
+
+#usr_paso_2 .usr_frm, #usr_paso_5 .usr_frm {
+    margin: 0 30px 0 30px;
+}
+
+#usr_paso_2 .usr_frm .usr_text_field,
+#usr_paso_2 .usr_frm .usr_select_field,
+#usr_paso_2 .usr_frm .usr_textarea_field{
+    width: 212px;
+}
+
+#usr_paso_2 hr, #usr_paso_5 hr {
+    height: 1px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    border: 0px none;
+    background-color: #545454;
+}
+
+#usr_paso_2 .usr_col_left, #usr_paso_5 .usr_col_left {
+    width: 50%;
+    float: left;
+}
+
+#usr_paso_2 .usr_col_right, #usr_paso_5 .usr_col_right {
+    width: 50%;
+    float: right;
+}
+
+#usr_paso_2 .usr_wide, #usr_paso_5 .usr_wide {
+    text-align: center;
+}
+
+#usr_paso_2 #btnGuardar, #usr_paso_5 #btnGuardar {
+    margin-right: 25px;
+}
+
+#usr_paso_2 .usr_frm .usr_span, #usr_paso_5 .usr_frm .usr_span {
+    margin: 0px 0 0 80px;
+    width: 350px;
+    display: block;
+    color: #6d3050;
+}
+
+/* formulario Registre su tarjeta */
+
+#usr_paso_3 {
+    background-color: #f8f8f9;
+    background-image: url('../../../img/version_2/pg_user_step_3.jpg');
+    background-position: right bottom;
+    background-repeat: no-repeat;
+}
+
+#usr_paso_3 .div_monto{
+    color: #6d3050;
+    font-size: 24px;
+    line-height: 44px;
+    padding-left: 20px;
+    background: #DCDCDC;
+}
+
+#usr_paso_3 .usr_tbl {
+    margin: 25px 0 0 17px;
+}
+
+#usr_paso_3 .usr_tbl tbody td {
+    padding: 0 0 30px 0;
+}
+
+#usr_paso_3 .usr_tbl .usr_td_lbl {
+    width: 165px;
+    height: 25px;
+    padding: 5px 20px 30px 0;
+    vertical-align: top;
+}
+
+#usr_paso_3 .usr_frm {
+    overflow: auto;
+}
+
+#usr_paso_3 .usr_frm .usr_text_field,
+#usr_paso_3 .usr_frm .usr_select_field,
+#usr_paso_3 .usr_frm .usr_textarea_field {
+    width: 333px;
+}
+
+#usr_paso_3 .usr_frm .usr_radio_cardtype {
+    float: left;
+    margin: 10px 35px 0 15px;
+}
+
+#usr_paso_3 .usr_frm .usr_img_cardtype {
+    float: left;
+}
+
+#usr_paso_3 .usr_frm #txtCvv {
+    width: 50px;
+    margin-right: 15px;
+}
+
+#usr_paso_3 .usr_frm #selMesCard {
+    width: 50px;
+    margin-right: 15px;
+}
+
+#usr_paso_3 .usr_frm #selYearCard {
+    width: 100px;
+}
+
+#usr_paso_3 .usr_frm .usr_span {
+    margin: 5px 0 0 0;
+    display: block;
+    color: #6d3050;
+}
+
+#usr_paso_3 .usr_frm #usr_nota {
+    margin: 0 0 0 0;
+    font-size: 12px;
+    color: #545454;
+}
+
+#usr_paso_3 #btnGuardar {
+    margin-right: 25px;
+}
+
+/* pantalla confirmacion de email */
+
+#usr_validacion_correo {
+    margin-top: 50px;
+}
+
+#usr_validacion_correo #usr_banner_ok {
+    width: 1196px;
+    height: 421px;
+    background-image: url('../../../img/version_2/pg_user_validacion_correo_1.jpg');
+    overflow: auto;
+}
+
+#usr_validacion_correo #usr_banner_ok .usr_banner_titulo1 {
+    margin: 133px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 106px;
+    font-weight: normal;
+    color: #713958;
+}
+
+#usr_validacion_correo #usr_banner_ok .usr_banner_titulo2 {
+    margin: 10px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 22px;
+    font-weight: normal;
+    color: #545454;
+}
+
+#usr_validacion_correo #usr_banner_ok #usr_btn_mi_cuenta {
+    width: 222px;
+    margin: 48px 0 0 30px;
+    padding: 0 0 0 0;
+}
+
+#usr_validacion_correo #usr_banner_invalido {
+    width: 1196px;
+    height: 421px;
+    background-image: url('../../../img/version_2/pg_user_validacion_correo_2.jpg');
+    overflow: auto;
+}
+
+#usr_validacion_correo #usr_banner_invalido .usr_banner_titulo1 {
+    margin: 100px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 47px;
+    font-weight: normal;
+    color: #713958;
+}
+
+#usr_validacion_correo #usr_banner_invalido .usr_banner_titulo2 {
+    margin: 10px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 22px;
+    font-weight: normal;
+    color: #545454;
+}
+
+#usr_validacion_correo #usr_banner_invalido #usr_btn_mi_cuenta {
+    width: 222px;
+    margin: 45px 0 0 30px;
+    padding: 0 0 0 0;
+}
+
+/* formulario Valide su tarjeta */
+
+#usr_paso_4 {
+    padding: 0 0 42px 0;
+}
+
+#usr_paso_4 #usr_tarjeta {
+    height: 73px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #545454;
+}
+
+#usr_paso_4 #usr_tarjeta #usr_img_tarjeta {
+    width: 173px;
+    height: 63px;
+    margin: 5px 0 0 6px;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    background-color: #f0f4f6;
+    text-align: center;
+    vertical-align: middle;
+}
+
+#usr_paso_4 #usr_tarjeta #usr_img_tarjeta img {
+    margin-top: 15px;
+}
+
+#usr_paso_4 #usr_tarjeta #usr_span_tarjeta, #usr_span_valide {
+    margin: 20px 0 0 23px;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    font-family: 'Ubuntu';
+    font-size: 30px;
+    color: #ffffff;
+}
+
+#usr_paso_4 #usr_tarjeta #usr_span_tarjeta #usr_terminacion {
+    color: #30a3aa;
+}
+
+#usr_paso_4 .usr_bloque {
+    width: 1194px;
+    margin: 10px 0 25px 0;
+    border: 1px solid #000;
+}
+
+#usr_paso_4 .usr_bloque .usr_pestana {
+    width: 160px;
+    height: 40px;
+    background-color: #545454;
+    font-family: 'Ubuntu';
+    font-size: 29px;
+    font-weight: bold;
+    color: #ffffff;
+    text-align: center;
+    line-height: 40px;
+}
+
+#usr_paso_4 .usr_bloque .usr_pestana_contenedor{
+    background-color: #EFF3F6;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido {
+    padding: 20px 15px 20px 15px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_subtitulo {
+    margin: 0 0 0 0;
+    padding: 0 0 5px 0;
+    border-bottom: 1px solid #545454;
+    font-family: 'Ubuntu';
+    font-size: 20px;
+    color: #545454;
+}
+
+#usr_paso_4 .usr_texto_fuera {
+    margin: 10px 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    color: #545454;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_texto {
+    margin: 15px 0 18px 0;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    color: #545454;
+}
+
+.usr_texto_centrado{
+    text-align: center;
+}
+
+.usr_texto_no_margin{
+    margin: 0 !important;
+}
+
+#usr_imagen_pagadito_code {
+    background-color: #EFF3F6;
+    padding-top: 3px !important;
+}
+
+#frmImagenes{
+    margin-top: 40px;
+}
+
+#usr_texto_camara {
+    height: 26px;
+    background-color: #EFF3F6;
+    padding: 4px 5px !important;
+    color: #30A3AA !important;
+    line-height: 26px;
+    font-weight: bold;
+    font-size: 16px !important;
+    margin: 0 !important;
+}
+
+#usr_texto_camara img{
+    float: left;
+    margin-right: 5px;
+}
+
+.subtitulo_subrayado{
+    border-bottom: 1px solid #000;
+    padding-bottom: 2px;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    color: #545454;
+}
+
+.subtitulo_subrayado span{
+    width: 20px;
+    height: 19px;
+    background-color: #545454;
+    color: #FFF;
+    display: inline-block;
+    text-align: center;
+    padding-top: 1px;
+    font-weight: bold;
+    margin-right: 5px;
+}
+
+.usr_imagen{
+    height: 168px;
+    color: #545454;
+    font-family: 'Ubuntu';
+    font-size: 12px;
+    margin-left: 355px;
+}
+
+.usr_imagen_control{
+    width: 252px;
+    height: 95px;
+    padding-top: 73px;
+    float: left
+}
+
+#usr_imagen_frente_tarjeta{
+    margin-top: 36px;
+}
+
+#usr_imagen_frente_documento{
+    margin-top: 23px;
+}
+
+#usr_imagen_reverso_documento{
+    margin-top: 32px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_contenido_center {
+    text-align: center;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido #usr_codigo_validacion {
+    margin-right: 18px;
+    font-size: 23px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_text_field {
+    width: 108px;
+    height: 28px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #ffffff;
+    border: 1px solid #9c9b9b;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_text_field[disabled="disabled"] {
+    background-color: #eeeeee;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido #lbMensaje {
+    margin-left: 10px;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    font-weight: bold;
+    color: #C6360D;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido #lbMensajeImagenes {
+    margin-left: 0px;
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    font-weight: bold;
+    color: #C6360D;
+    display: block;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido #btnValidar {
+    width: 186px;
+    margin: 0 40px 0 0;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido #btnNuevoCodigo {
+    width: 245px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_nota_vc {
+    margin: -8px 0 0 225px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 12px;
+    color: #545454;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_lbl {
+    width: 45px;
+    display: inline-block;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_span_nota {
+    margin: 10px 0 0 0;
+    padding: 0 0 0 0;
+    display: block;
+    font-family: 'Ubuntu';
+    font-size: 12px;
+    color: #6d3050;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_contenido_box{
+    width: 267px;
+    height: 227px;
+    float: left;
+    margin-top: 15px;
+    padding: 10px 60px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_contenido_box_left{
+    border-right: 1px solid #545454;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_contenido_box_right{
+    border-left: 1px solid #545454;
+}
+
+.usr_contenido_box strong{
+    color: #552F44;
+    font-family: 'Ubuntu';
+    font-size: 20px;
+    font-weight: normal;
+}
+
+.usr_contenido_box_imagen{
+    height: 138px;
+    text-align: center;
+    margin-bottom: 10px;
+}
+
+#usr_img_ejemplo{
+    position: absolute;
+    top: 552px;
+    left: 215px;
+    visibility: hidden;
+}
+
+ #usr_link_ejemplo{
+    color: #545454;
+    font-family: 'Ubuntu';
+    font-size: 12px;
+    font-weight: normal;
+    text-decoration: none;
+    cursor: pointer;
+    display: inline-block;
+    line-height: 22px;
+    width: 95px;
+    z-index: 1;
+    position: relative;
+}
+
+#usr_link_ejemplo img{
+    float: right;
+    z-index: 2px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido #btnEnviarDocumentos {
+    width: 205px;
+}
+
+#usr_paso_4 .usr_bloque .usr_contenido .usr_nota_seguridad {
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 12px;
+    color: #545454;
+    text-align: center;
+}
+
+/* pantalla confirmacion validacion tarjeta */
+
+#usr_validacion_tarjeta {
+    margin-top: 50px;
+}
+
+#usr_validacion_tarjeta #usr_banner {
+    width: 1196px;
+    height: 424px;
+    background-image: url('../../../img/version_2/pg_user_validacion_tarjeta.jpg');
+    overflow: auto;
+}
+
+#usr_validacion_tarjeta #usr_banner .usr_banner_titulo1 {
+    margin: 157px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 70px;
+    font-weight: normal;
+    color: #713958;
+}
+
+#usr_validacion_tarjeta #usr_banner .usr_banner_titulo2 {
+    margin: 155px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 25px;
+    font-weight: normal;
+    color: #545454;
+}
+
+#usr_validacion_tarjeta #usr_btn_mi_cuenta {
+    width: 222px;
+    margin: 60px auto 0 auto;
+    padding: 0 0 0 0;
+    display: block;
+}
+
+#usr_validacion_tarjeta #usr_tarjeta {
+    height: 49px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    background-color: #545454;
+}
+
+#usr_validacion_tarjeta #usr_tarjeta #usr_img_tarjeta {
+    width: 118px;
+    height: 42px;
+    margin: 3.5px 0 0 30px;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    background-color: #f0f4f6;
+    text-align: center;
+    vertical-align: middle;
+}
+
+#usr_validacion_tarjeta #usr_tarjeta #usr_img_tarjeta img {
+    margin-top: 10px;
+}
+
+#usr_validacion_tarjeta #usr_tarjeta #usr_span_tarjeta {
+    margin: 10px 0 0 23px;
+    padding: 0 0 0 0;
+    float: left;
+    display: block;
+    font-family: 'Ubuntu';
+    font-size: 30px;
+    color: #ffffff;
+}
+
+#usr_validacion_tarjeta #usr_tarjeta #usr_span_tarjeta #usr_terminacion {
+    color: #30a3aa;
+}
+
+#usr_validacion_tarjeta #usr_tarjeta #usr_span_tarjeta_ok {
+    width: 430px;
+    height: 49px;
+    margin: 0 0 0 0;
+    padding: 0 0 0 0;
+    float: right;
+    display: block;
+    background-color: #38a6ad;
+    font-family: 'Ubuntu';
+    font-size: 40px;
+    color: #ffffff;
+    text-align: center;
+}
+
+/* pantalla confirmacion validacion imagenes tarjeta */
+
+#usr_validacion_imagenes_tarjeta {
+    margin-top: 50px;
+}
+
+#usr_validacion_imagenes_tarjeta #usr_banner {
+    width: 1196px;
+    height: 424px;
+    background-image: url('../../../img/version_2/pg_user_validacion_imagenes_tarjeta.jpg');
+    overflow: auto;
+}
+
+#usr_validacion_imagenes_tarjeta #usr_banner .usr_banner_titulo1 {
+    margin: 130px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 70px;
+    font-weight: normal;
+    color: #713958;
+}
+
+.usr_banner_titulo2_contenedor{
+    height: 150px;
+}
+
+#usr_validacion_imagenes_tarjeta #usr_banner .usr_banner_titulo2 {
+    margin: 25px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 24px;
+    color: #545454;
+}
+
+.usr_banner_titulo2 a{
+    text-decoration: underline;
+    color: #713958;
+}
+
+#usr_validacion_imagenes_tarjeta #usr_banner .usr_banner_titulo3 {
+    margin: 5px 0 0 30px;
+    padding: 0 0 0 0;
+    font-family: 'Ubuntu';
+    font-size: 18px;
+    font-weight: normal;
+    color: #545454;
+}
+
+#usr_validacion_imagenes_tarjeta #usr_banner #usr_btn_mi_cuenta {
+    width: 222px;
+    margin: 35px 0 0 30px;
+    padding: 0 0 0 0;
+}
+
+#valvideo{
+    width: 215px;
+    height: 36px;
+    padding: 14px 0 0 40px;
+    background-image: url('../../../img/version_2/btn_video_validacion_tarjetas.png');
+    display: inline-block;
+    text-decoration: none;
+    text-align: center;
+    color: #545454;
+}
+
+.usr_td_subTit{
+    font-family: 'Ubuntu';
+    font-size: 14px;
+    color: #545454;
+    font-weight: bold;
+}
+
+#popcard{
+    display: inline-block;
+    margin-top: 5px;
+}
+
+#tablaTarjetasSandbox{
+    margin-left: 20px;
+}
+#tablaTarjetasSandbox tr td{
+    text-align: center;
+    vertical-align: middle;
+}
+
+#tip_cvv {
+    font-weight: bold;
+    text-decoration: underline;
+}
+
+#tip_cvv_content {
+    position: absolute;
+    width: 220px;
+    top: 30px;
+    left: 920px;
+    visibility: hidden;
+    border: 1px solid #9c9b9b;
+    border-radius: 10px;
+    padding: 10px;
+    background-color: #ffffff;
+}
Index: branches/b-20180319.02/tema/sitio/css/usuarios.css
===================================================================
--- trunk/tema/sitio/css/usuarios.css	(revision 3384)
+++ branches/b-20180319.02/tema/sitio/css/usuarios.css	(revision 3579)
@@ -1,4 +1,3 @@
 .parametros {
-    width: 500px;
     margin: 20px 0;
 }
@@ -23,38 +22,16 @@
 
 .parametros td.nombre{
-    width: 150px;
+    width: auto;
+    padding: 1px 5px 1px 5px;
 }
 
 .parametros td.nombre input[type="text"]{
-    width: 146px;
-    margin: 0 2px;
+    width: 100%;
+    margin: 2px 2px;
 }
 
 /* SELLOS DE COMERCIOS CERTIFICADOS */
-#div_sellos {
-    margin: 0 0 0 0;
-}
-
-#div_sellos .div_col_sellos {
-    width: 30%;
-    margin: 0 3.3% 0 0;
-    float: left;
-}
-
-#div_sellos .div_col_sellos .div_img_sello {
-    position: relative;
-    height: 143px;
-}
-
-#div_sellos .div_col_sellos .div_img_sello img {
-    position: absolute;
-    bottom: 0;
-    right: 0;
-    left: 0;
-    margin: 0px auto;
-}
 
 #div_sellos .div_col_sellos .div_toggler_codigo {
-    height: 25px;
     margin: 10px 0 0 0;
     background-color: #552f44;
@@ -65,5 +42,5 @@
     cursor: pointer;
     line-height: 25px;
-    text-align: right;
+    text-align: center;
     padding-right: 20px;
 }
@@ -89,2 +66,12 @@
     word-wrap: break-word;
 }
+
+@media (min-width: 720px){
+    #url_retorno{
+        width: 60%;
+    }
+}
+
+#reembolsar{
+    margin: 15px 0 15px 0;
+}
Index: branches/b-20180319.02/tema/sitio/css/usuarios_r.css
===================================================================
--- branches/b-20180319.02/tema/sitio/css/usuarios_r.css	(revision 3579)
+++ branches/b-20180319.02/tema/sitio/css/usuarios_r.css	(revision 3579)
@@ -0,0 +1,90 @@
+.parametros {
+    width: 500px;
+    margin: 20px 0;
+}
+
+.parametros thead th{
+    font-weight: bold;
+    text-align: center;
+}
+
+.parametros td.selector{
+    width: 20px;
+}
+
+.parametros td.parametro{
+    width: 80px;
+}
+
+.parametros td.codigo{
+    width: 80px;
+    text-align: center;
+}
+
+.parametros td.nombre{
+    width: 150px;
+}
+
+.parametros td.nombre input[type="text"]{
+    width: 146px;
+    margin: 0 2px;
+}
+
+/* SELLOS DE COMERCIOS CERTIFICADOS */
+#div_sellos {
+    margin: 0 0 0 0;
+}
+
+#div_sellos .div_col_sellos {
+    width: 30%;
+    margin: 0 3.3% 0 0;
+    float: left;
+}
+
+#div_sellos .div_col_sellos .div_img_sello {
+    position: relative;
+    height: 143px;
+}
+
+#div_sellos .div_col_sellos .div_img_sello img {
+    position: absolute;
+    bottom: 0;
+    right: 0;
+    left: 0;
+    margin: 0px auto;
+}
+
+#div_sellos .div_col_sellos .div_toggler_codigo {
+    height: 25px;
+    margin: 10px 0 0 0;
+    background-color: #552f44;
+    border: 1px solid #7D4564;
+    border-radius: 8px;
+    color: #ffffff;
+    font-weight: bold;
+    cursor: pointer;
+    line-height: 25px;
+    text-align: right;
+    padding-right: 20px;
+}
+
+#div_sellos .div_col_sellos .div_toggler_codigo:hover {
+    background-color: #7F4666;
+}
+
+#div_sellos .div_col_sellos .div_toggler_codigo.active {
+    border-bottom-left-radius: 0px;
+    border-bottom-right-radius: 0px;
+}
+
+#div_sellos .div_col_sellos .div_codigo_sello {}
+
+#div_sellos .div_col_sellos .div_codigo_sello .div_codigo_sello_padding {
+    padding: 20px 10px;
+    border: 1px solid #d1d0c9;
+    border-radius: 10px;
+    border-top-left-radius: 0px;
+    border-top-right-radius: 0px;
+    color: #666;
+    word-wrap: break-word;
+}
Index: branches/b-20180319.02/wspagamon.php
===================================================================
--- trunk/wspagamon.php	(revision 3384)
+++ branches/b-20180319.02/wspagamon.php	(revision 3579)
@@ -330,4 +330,21 @@
     'id_tarjeta' => 'xsd:integer',
     'nombre_comercial' => 'xsd:string',
+    'referencia_corta' => 'xsd:string'
+);
+$salida_metodo = array(
+    'return' => 'xsd:string'
+);
+$wspagamon_server->register($nombre_metodo, $entrada_metodo, $salida_metodo);
+
+/**
+ * metodo: notificarRecordatorioValidacionTransaccionRecarga
+ * modulo pagamon: PayProPending
+ */
+$nombre_metodo = 'notificarRecordatorioValidacionTransaccionRecarga';
+$entrada_metodo = array(
+    'token' => 'xsd:string',
+    'id_usuario' => 'xsd:integer',
+    'id_correo' => 'xsd:integer',
+    'id_tarjeta' => 'xsd:integer',
     'referencia_corta' => 'xsd:string'
 );
@@ -1000,4 +1017,41 @@
             $return = TRUE;
         }
+    }
+    return $return;
+}
+
+/**
+ * realiza el envio de una notificación de recordatorio al usuario para que 
+ * realice el proceso de validación de la transaccón de recarga
+ * @global string $raizPG ruta absoluta del proyecto pagadito
+ * @param string $token token de comunicacion para el wspagamon
+ * @param integer $id_usuario
+ * @param integer $id_correo
+ * @param integer $id_tarjeta
+ * @param string $referencia_corta
+ * @return boolean devuelve TRUE si realiza el envio de la notificación en caso 
+ * contrario devuelve FALSE
+ */
+function notificarRecordatorioValidacionTransaccionRecarga($token, $id_usuario, 
+        $id_correo, $id_tarjeta, $referencia_corta) {
+    global $raizPG;
+    
+    $return = FALSE;
+    if ($token == TOKEN_WSPAGAMON) {
+        
+        include_once $raizPG . 'librerias/class.Cripto.php';
+        $Cripto = new Cripto();
+        $datosCripto = new stdClass();
+        $datosCripto->id_usuario = $id_usuario;
+        $datosCripto->id_correo = $id_correo;
+        $datosCripto->id_tarjeta = $Cripto->cifrar($id_tarjeta);
+        $key = $Cripto->encapsular(json_encode($datosCripto));
+        $params_nt = array(
+            'numPG' => $referencia_corta,
+            'link' => URL_PG . "/index.php?mod=user&hac=pcorval&key=" . urlencode($key)
+        );
+        $nt = new notificaciones();
+        $nt->enviarNotificaciones("PA-RES-1007", -1, $id_usuario, $params_nt);
+        $return = TRUE;
     }
     return $return;
@@ -1504,29 +1558,34 @@
                     try {
                         $resultado = $db->query($sql);
-                        if($resultado->numRows() == 1){
+                        if($resultado->numRows() >= 1){
                             $continuar = true;
-                            $resultado->fetchInto($detalles);
+                            $detalles = array();
+                            while ($resultado->fetchInto($det)) {
+                                $detalles[] = $det;
+                            }
                         }                        
                     } catch (Throwable $ex) {
                         $objLog->registrar_log("wspagamon", "error obteniendo detalle cobros a programar - " . $ex->getMessage());
                     }
-                    //obteniendo token de autorizacion
-                    $sql = "SELECT oauth_token FROM pg_autorizacion WHERE id_autorizacion = " . $info_cobro['id_autorizacion'];
-                    try {
-                        $resultado = $db->query($sql);
-                        if($resultado->numRows() == 1){
-                            $continuar = true;
-                            $resultado->fetchInto($auth);
-                        }                        
-                    } catch (Throwable $ex) {
-                        $objLog->registrar_log("wspagamon", "error token de autorizacion para cobros a programar - " . $ex->getMessage());
+                    
+                    if ($continuar) {
+                        //obteniendo token de autorizacion
+                        $sql = "SELECT oauth_token FROM pg_autorizacion WHERE id_autorizacion = " . $info_cobro['id_autorizacion'];
+                        try {
+                            $resultado = $db->query($sql);
+                            if($resultado->numRows() == 1){
+                                $continuar = true;
+                                $resultado->fetchInto($auth);
+                            }                        
+                        } catch (Throwable $ex) {
+                            $objLog->registrar_log("wspagamon", "error token de autorizacion para cobros a programar - " . $ex->getMessage());
+                        }
+                        //Definiendo el nuevo ern
+                        $ern = $info_cobro['ern'] . "|P" . ($info_cobro["cobros_realizados"] + 1) . ($info_cobro['cobros_total'] == 0 ? "" : "-" . $info_cobro['cobros_total']);
+                        //obteniendo uid y wsk
+                        $comercio = new Comercio($info_cobro['id_comercio_afiliado'], $db, true);
+                        $datos = $comercio->getInfoWSConnection();
                     }
-                    //Definiendo el nuevo ern
-                    $ern = $info_cobro['ern'] . "|P" . ($info_cobro["cobros_realizados"] + 1) . ($info_cobro['cobros_total'] == 0 ? "" : "-" . $info_cobro['cobros_total']);
-                    //obteniendo uid y wsk
-                    $comercio = new Comercio($info_cobro['id_comercio_afiliado'], $db, true);
-                    $datos = $comercio->getInfoWSConnection();
-
-                    if($datos && $continuar){
+                    if($datos && $continuar && count($detalles) > 0){
                         $Pagadito = new Pagadito($datos["uid"], $datos["wsk"]);
                         if(SANDBOX_MODE) $Pagadito->mode_sandbox_on();
@@ -1534,6 +1593,8 @@
                             $token = $Pagadito->get_rs_value();
                             $Pagadito->enable_pending_payments();
-                            $Pagadito->add_detail($detalles['cantidad'], $detalles['descripcion'], $detalles['precio']);
-                            $Pagadito->add_pending_charge($ern, $detalles['descripcion'], $info_cobro['fecha_proximo_cobro']);
+                            foreach ($detalles as $detalle) {
+                                $Pagadito->add_detail($detalle['cantidad'], $detalle['descripcion'], $detalle['precio']);
+                            }
+                            $Pagadito->add_pending_charge($ern, 'Cobro recurrente de invoice - ' . $ern, $info_cobro['fecha_proximo_cobro']);
 
                             if($Pagadito->recurring_payments($auth['oauth_token'])){
Index: branches/b-20180319.02/wxCom.php
===================================================================
--- trunk/wxCom.php	(revision 3384)
+++ branches/b-20180319.02/wxCom.php	(revision 3579)
@@ -326,5 +326,6 @@
     'deny_invoice', array(
         'token_in' => 'xsd:string',
-        'id_autorizacion' => 'xsd:string'
+        'id_autorizacion' => 'xsd:string',
+        'id_invoice_transaction' => 'xsd:integer',
     ), array('return' => 'xsd:string'), 'urn:wxpg', 'urn:wxpg#deny_invoice', 'rpc', 'encoded', '---'
 );
@@ -433,4 +434,15 @@
 );
 
+$server->register(
+        'validate_card_and_email', array(
+        'token_in' => 'xsd:string',
+        'token_out' => 'xsd:string',
+        'cardNumber' => 'xsd:string',
+        'expirationMonth' => 'xsd:string',
+        'expirationYear' => 'xsd:string',
+        'email' => 'xsd:string',
+        ), array('return' => 'xsd:string'), 'urn:wxpg', 'urn:wxpg#validate_card_and_email', 'rpc', 'encoded', '---'
+);
+
 $server->service(file_get_contents("php://input"));
 
@@ -438,8 +450,9 @@
 
 function get_info_auth($token_in, $id_autorizacion) {
-    global $kp, $db;
+    global $db;
+    
     $autorizacion = array();
-    $kp->registrarLog('/////////////OBTENIENDO INFORMACIÓN DE LA AUTORIZACIÓN /////////////////////////////////////\n\n');
-    if ($token_in == TOKEN_IN) {
+    if ($token_in == TOKEN_IN) {
+        
         require_once 'librerias/class.Invoice.php';
         $Invoice = new Invoice($db);
@@ -450,14 +463,17 @@
 
 function auth_invoice($token_in, $id_autorizacion) {
-    global $kp, $db;
+    global $db;
+    
     $custom_params = array();
-    $kp->registrarLog('///////////// AUTORIZACIÓN CONTACTO PARA INVOICE //////////////////////////\n\n');
-    if ($token_in == TOKEN_IN) {
+    if ($token_in == TOKEN_IN) {
+        
         require_once 'librerias/class.Invoice.php';
         $Invoice = new Invoice($db);
-        if($Invoice->authInvoice($id_autorizacion)){
-            $resultado=100;
-        }else{
-            $resultado=400;
+        if ($Invoice->authInvoice($id_autorizacion)) {
+            
+            $resultado = 100;
+        } else {
+            
+            $resultado = 400;
         }
     }
@@ -465,15 +481,17 @@
 }
 
-function deny_invoice($token_in, $id_autorizacion) {
-    global $kp, $db;
-    $custom_params = array();
-    $kp->registrarLog('///////////// DENEGANDO AUTORIZACIÓN CONTACTO PARA INVOICE //////////////////////////\n\n');
-    if ($token_in == TOKEN_IN) {
+function deny_invoice($token_in, $id_autorizacion, $id_invoice_transaction) {
+    global $db;
+    
+    if ($token_in == TOKEN_IN) {
+        
         require_once 'librerias/class.Invoice.php';
         $Invoice = new Invoice($db);
-        if($Invoice->denyInvoice($id_autorizacion)){
-            $resultado=100;
-        }else{
-            $resultado=400;
+        if ($Invoice->denyInvoice($id_autorizacion, $id_invoice_transaction)) {
+            
+            $resultado = 100;
+        } else {
+            
+            $resultado = 400;
         }
     }
@@ -864,4 +882,5 @@
                         'id_tarjeta' => encriptar($tarjeta['id_tarjeta']),
                         'tarjeta' => $tarjeta['nombre'].' '.$tarjeta['tarjeta'],
+                        'id_tipo_tarjeta' => $tarjeta['id_tarjeta_tipo']
                     );
                 }
@@ -1023,4 +1042,5 @@
         
         $response->code =  $kp->registrarUsuario($token_out, $amount, $arrCliente, $arrTarjeta, $id_ws_transaction, $return_url, $multi_payment);
+        $response->value = isset($_SESSION['valid_email']) ? $_SESSION['valid_email'] : '';
     }
     return json_encode($response);
@@ -1576,13 +1596,14 @@
 }
 
-function new_invoice($token_in, $token_out, $due_date, $expiration_date, $buyer_note, $transaction_memo, $receivers, $id_usuario, $ws_transactions, $periodicity = 0, $charges_number = 0){
+function new_invoice($token_in, $token_out, $due_date, $expiration_date, $buyer_note, $transaction_memo, $receivers, $id_usuario, $ws_transactions, $periodicity = 0, $charges_number = 0) {
     include_once("librerias/class.Invoice.php");
     global $kp, $db;
+    
     $respuesta = array(
         "code"  => "3002",
         "value" => ""
     );
-    $kp->registrarLog("///////////// new invoice /////////////\n\n");
-    if ($token_in == TOKEN_IN) {
+    if ($token_in == TOKEN_IN) {
+        
         $receivers = json_decode($receivers);
         $ws_transactions = json_decode($ws_transactions, true);
@@ -1598,5 +1619,6 @@
             "id_comercio"           => "",
         );
-        foreach($receivers as $key => $receiver){            
+        foreach ($receivers as $key => $receiver) {
+            
             $ws_transaction = $kp->obtenerWSTransactionById($ws_transactions[$key]);
             $info_transaction["comercio"] = $ws_transaction["nombre_comercial"];
@@ -1604,23 +1626,28 @@
             $info_transaction["id_comercio"] = $ws_transaction["id_affiliated_trade"];
             $info_transaction["ern"] = $ws_transaction["ern"];
-            if($ws_transaction){
+            if ($ws_transaction) {
+                
                 $ids_ws_transaction[] = $ws_transaction["id_ws_transaction"];
                 $correos[] = $receiver->email;
                 $nombres[] = $receiver->name;
                 $erns[] = $receiver->ern;
-            }
-            else{
+            } else {
+                
                 $receivers_ok = false;
                 $kp->registrarLog("Invoice: No se pudo obtener la WS Transaction con ERN: $receiver->ern y id_usuario = $id_usuario");
             }
         }
-        if($receivers_ok){
+        if ($receivers_ok) {
+            
             $Invoice = new Invoice($db);
-            if($periodicity > 0){
+            if ($periodicity > 0) {
+                
                 $new_invoice = $Invoice->newInvoiceWithRecurringPayments($due_date, $expiration_date, $buyer_note, $transaction_memo, $correos, $nombres, $ids_ws_transaction, $token_out, $info_transaction, $periodicity, $charges_number);
             } else {
+                
                 $new_invoice = $Invoice->newInvoice($due_date, $expiration_date, $buyer_note, $transaction_memo, $correos, $nombres, $ids_ws_transaction, $token_out, $info_transaction);
             }
-            if($new_invoice){
+            if ($new_invoice) {
+                
                 //notificar
                 $respuesta = array(
@@ -2090,4 +2117,32 @@
 }
 
+/**
+ * Metodo para validar numero de tarjeta y correo ingresados desde formulario de 
+ * pago
+ * @global object $kp objeto instancia del kernel pagadito
+ * @return json $response json con la respuesta obtenida
+ * @param string $token_in token interno para la comunicacion del web service
+ * @param string $token_out token de la transaccion de proceso
+ * @param string $cardNumber numero de la tarjeta a validar si existe
+ * @param string $expirationMonth mes de expiracion de la tarjeta
+ * @param string $expirationYear año de vencimiento de la tarjeta
+ * @param string $email correo a verificar si ya existe
+ */
+function validate_card_and_email($token_in, $token_out, $cardNumber, $expirationMonth, $expirationYear, $email){
+    global $kp;
+    $response = new stdClass();
+    $response->code = "";
+    $response->value = "";
+    
+    $kp->registrarLog("Validando tja y correo, transaccion token: " . $token_out);
+    if ($token_in == TOKEN_IN && $kp->comercioValidarToken($token_out) == $kp->status_code['existe']) {
+        
+        $response->code =  $kp->validateCardAndEmail($cardNumber, $expirationMonth, $expirationYear, $email);
+        $response->value = isset($_SESSION['valid_email']) ? $_SESSION['valid_email'] : '';
+    }
+     
+    return json_encode($response);
+}
+
 /* * ******************************************************************* */
 /* * ************************ GENERAL FUNCTIONS *************************** */
